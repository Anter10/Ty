{"version":3,"sources":["../../../../../assets/Script/models/assets/Script/models/ItemHelp.js"],"names":["cc","Class","extends","Component","properties","cells","default","type","Node","celltile","Prefab","czNode","numNode","showMessage","Label","onLoad","initCells","allcells","allnumbers","tindex","length","cellt","instantiate","tilescript","getComponent","setCantClick","changeShow","scaleX","scaleY","y","x","parent","push","playNewPlayerEff","addNumber","num","self","node","stopAllActions","delay1","delayTime","call","callFunc","delay2","call1","seq","sequence","rep","repeatForever","runAction","start","showChuiZi","active","anim","Animation","play","setShowMsg","showNum","stop","fh","Math","abs","hideView","msg","string"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AACHC,qBAAS,EADN;AAEHC,kBAAMP,GAAGQ;AAFN,SADC;AAKRC,kBAAU;AACNH,qBAAS,IADH;AAENC,kBAAMP,GAAGU;AAFH,SALF;AASRC,gBAAQ;AACJL,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL,SATA;AAaRI,iBAAS;AACLN,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ;AAFJ,SAbD;AAiBRK,qBAAa;AACTP,qBAAS,IADA;AAETC,kBAAMP,GAAGc;AAFA;;AAjBL,KAHP;;AA2BL;;AAEAC,UA7BK,oBA6BI;AACP,aAAKC,SAAL;AACD,KA/BI;;;AAiCLA,eAAU,qBAAU;AACd,YAAI,CAAC,KAAKC,QAAV,EAAoB;AAChB,iBAAKA,QAAL,GAAgB,EAAhB;AACH,SAFD,MAEK;AACD;AACH;AACD,aAAKC,UAAL,GAAkB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,CAAlB;AACA,aAAK,IAAIC,SAAS,CAAlB,EAAqBA,SAAS,KAAKd,KAAL,CAAWe,MAAzC,EAAiDD,QAAjD,EAA2D;AACvD,gBAAIE,QAAQrB,GAAGsB,WAAH,CAAe,KAAKb,QAApB,CAAZ;AACA,gBAAIc,aAAaF,MAAMG,YAAN,CAAmB,UAAnB,CAAjB;AACAD,uBAAWE,YAAX,CAAwB,IAAxB;AACAF,uBAAWG,UAAX,CAAsB,KAAKR,UAAL,CAAgBC,MAAhB,CAAtB;AACAE,kBAAMM,MAAN,GAAe,IAAf;AACAN,kBAAMO,MAAN,GAAe,IAAf;AACAP,kBAAMQ,CAAN,GAAUR,MAAMQ,CAAN,GAAU,EAApB;AACAR,kBAAMS,CAAN,GAAUT,MAAMS,CAAN,GAAU,EAApB;AACAT,kBAAMU,MAAN,GAAe,KAAK1B,KAAL,CAAWc,MAAX,CAAf;AACA,iBAAKF,QAAL,CAAce,IAAd,CAAmBX,KAAnB;AAEH;AACD;;;AAGA,aAAKJ,QAAL,CAAc,CAAd,EAAiBO,YAAjB,CAA8B,UAA9B,EAA0CS,gBAA1C;AACL,KAzDI;AA0DLC,eAAW,mBAAUC,GAAV,EAAe;AACtB,YAAIC,OAAO,IAAX;AACA,YAAIb,aAAa,KAAKN,QAAL,CAAc,CAAd,EAAiBO,YAAjB,CAA8B,UAA9B,CAAjB;AACAD,mBAAWc,IAAX,CAAgBC,cAAhB;AACA,YAAIC,SAASvC,GAAGwC,SAAH,CAAa,GAAb,CAAb;AACA,YAAIC,OAAOzC,GAAG0C,QAAH,CAAY,YAAY;AAC/BnB,uBAAWG,UAAX,CAAsBU,KAAKlB,UAAL,CAAgB,CAAhB,IAAqBiB,GAA3C;AAEH,SAHU,CAAX;AAIA,YAAIQ,SAAS3C,GAAGwC,SAAH,CAAa,GAAb,CAAb;AACA,YAAII,QAAQ5C,GAAG0C,QAAH,CAAY,YAAY;AAChCnB,uBAAWG,UAAX,CAAsBU,KAAKlB,UAAL,CAAgB,CAAhB,CAAtB;AACH,SAFW,CAAZ;AAGA,YAAI2B,MAAM7C,GAAG8C,QAAH,CAAYP,MAAZ,EAAoBE,IAApB,EAA0BE,MAA1B,EAAkCC,KAAlC,CAAV;AACA,YAAIG,MAAM/C,GAAGgD,aAAH,CAAiBH,GAAjB,CAAV;;AAEA,aAAK5B,QAAL,CAAc,CAAd,EAAiBO,YAAjB,CAA8B,UAA9B,EAA0Ca,IAA1C,CAA+CY,SAA/C,CAAyDF,GAAzD;AACH,KA3EI;;AA6ELG,SA7EK,mBA6EG;AACR;AACC,KA/EI;;;AAmFLC,gBAAY,sBAAY;AACpB,YAAI,CAAC,KAAKlC,QAAV,EAAoB;AAChB,iBAAKD,SAAL;AACH;AACD,aAAKC,QAAL,CAAc,CAAd,EAAiBO,YAAjB,CAA8B,UAA9B,EAA0CE,UAA1C,CAAqD,CAArD;AACA,aAAKT,QAAL,CAAc,CAAd,EAAiBO,YAAjB,CAA8B,UAA9B,EAA0Ca,IAA1C,CAA+CC,cAA/C;AACA,aAAK3B,MAAL,CAAYyC,MAAZ,GAAqB,IAArB;AACA,aAAKxC,OAAL,CAAawC,MAAb,GAAsB,KAAtB;AACA,YAAIC,OAAO,KAAK1C,MAAL,CAAYa,YAAZ,CAAyBxB,GAAGsD,SAA5B,CAAX;AACAD,aAAKE,IAAL,CAAU,QAAV;AACA,aAAKC,UAAL,CAAgB,WAAhB;AACH,KA9FI;;AAgGLC,aAAS,iBAAUtB,GAAV,EAAe;AACpB,YAAI,CAAC,KAAKlB,QAAV,EAAoB;AACf,iBAAKD,SAAL;AACJ;AACD,aAAKkB,SAAL,CAAeC,GAAf;AACA,aAAKxB,MAAL,CAAYyC,MAAZ,GAAqB,KAArB;AACA,aAAKxC,OAAL,CAAawC,MAAb,GAAsB,IAAtB;AACA,YAAIC,OAAO,KAAK1C,MAAL,CAAYa,YAAZ,CAAyBxB,GAAGsD,SAA5B,CAAX;AACAD,aAAKK,IAAL,CAAU,QAAV;AACA,YAAIC,KAAK,GAAT;AACA,YAAIxB,MAAM,CAAV,EAAa;AACTwB,iBAAK,GAAL;AACH;AACD,aAAKH,UAAL,CAAgB,YAAYG,EAAZ,GAAiBC,KAAKC,GAAL,CAAS1B,GAAT,CAAjC;AACH,KA9GI;;AAgHL2B,cAAU,oBAAY;AAClB,YAAI,CAAC,KAAK7C,QAAV,EAAmB;AAChB,iBAAKD,SAAL;AACF;;AAED,aAAKC,QAAL,CAAc,CAAd,EAAiBO,YAAjB,CAA8B,UAA9B,EAA0CE,UAA1C,CAAqD,CAArD;AACA,YAAI2B,OAAO,KAAK1C,MAAL,CAAYa,YAAZ,CAAyBxB,GAAGsD,SAA5B,CAAX;AACAD,aAAKK,IAAL,CAAU,QAAV;AACA,aAAK/C,MAAL,CAAYyC,MAAZ,GAAqB,KAArB;AACA,aAAKxC,OAAL,CAAawC,MAAb,GAAsB,KAAtB;AACH,KA1HI;;AA4HLI,gBAAY,oBAAUO,GAAV,EAAe;AACvB,aAAKlD,WAAL,CAAiBmD,MAAjB,GAA0BD,GAA1B;AACH;;AAID;AAlIK,CAAT","file":"ItemHelp.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        cells: {\n            default: [],\n            type: cc.Node\n        },\n        celltile: {\n            default: null,\n            type: cc.Prefab\n        },\n        czNode: {\n            default: null,\n            type: cc.Node\n        },\n        numNode: {\n            default: null,\n            type: cc.Node\n        },\n        showMessage: {\n            default: null,\n            type: cc.Label\n        },\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n      this.initCells();\n    },\n    \n    initCells:function(){\n          if (!this.allcells) {\n              this.allcells = [];\n          }else{\n              return;\n          }\n          this.allnumbers = [2, 3, 4, 4, 3, 5];\n          for (var tindex = 0; tindex < this.cells.length; tindex++) {\n              var cellt = cc.instantiate(this.celltile);\n              var tilescript = cellt.getComponent(\"celltile\");\n              tilescript.setCantClick(true);\n              tilescript.changeShow(this.allnumbers[tindex]);\n              cellt.scaleX = 0.65;\n              cellt.scaleY = 0.65;\n              cellt.y = cellt.y - 30;\n              cellt.x = cellt.x + 15;\n              cellt.parent = this.cells[tindex];\n              this.allcells.push(cellt);\n\n          }\n          // this.cells = allcell;\n\n\n          this.allcells[0].getComponent(\"celltile\").playNewPlayerEff();\n    },\n    addNumber: function (num) {\n        var self = this;\n        var tilescript = this.allcells[0].getComponent(\"celltile\")\n        tilescript.node.stopAllActions();\n        var delay1 = cc.delayTime(1.5);\n        var call = cc.callFunc(function () {\n            tilescript.changeShow(self.allnumbers[0] + num);\n\n        })\n        var delay2 = cc.delayTime(1.5);\n        var call1 = cc.callFunc(function () {\n            tilescript.changeShow(self.allnumbers[0]);\n        })\n        var seq = cc.sequence(delay1, call, delay2, call1);\n        var rep = cc.repeatForever(seq);\n\n        this.allcells[0].getComponent(\"celltile\").node.runAction(rep);\n    },\n\n    start() {\n    //    this.initCells();\n    },\n\n\n\n    showChuiZi: function () {\n        if (!this.allcells) {\n            this.initCells();\n        }\n        this.allcells[0].getComponent(\"celltile\").changeShow(2);\n        this.allcells[0].getComponent(\"celltile\").node.stopAllActions();\n        this.czNode.active = true;\n        this.numNode.active = false;\n        var anim = this.czNode.getComponent(cc.Animation);\n        anim.play(\"chuizi\");\n        this.setShowMsg(\"点击需要砸掉的方块\");\n    },\n\n    showNum: function (num) {\n        if (!this.allcells) {\n             this.initCells();\n        }\n        this.addNumber(num);\n        this.czNode.active = false;\n        this.numNode.active = true;\n        var anim = this.czNode.getComponent(cc.Animation);\n        anim.stop(\"chuizi\");\n        var fh = \"+\";\n        if (num < 0) {\n            fh = \"-\";\n        }\n        this.setShowMsg(\"点击让方块数字\" + fh + Math.abs(num));\n    },\n\n    hideView: function () {\n        if (!this.allcells){\n           this.initCells();\n        }\n        \n        this.allcells[0].getComponent(\"celltile\").changeShow(2);\n        var anim = this.czNode.getComponent(cc.Animation);\n        anim.stop(\"chuizi\");\n        this.czNode.active = false;\n        this.numNode.active = false;\n    },\n\n    setShowMsg: function (msg) {\n        this.showMessage.string = msg;\n    },\n\n\n\n    // update (dt) {},\n});\n"]}