{"version":3,"sources":["../../../../../../assets/scripts/game/stopview/assets/scripts/game/stopview/stop_view.js"],"names":["stopview_path","stop_view","cc","Class","extends","Component","properties","audioNormal","Sprite","audioEnable","goOnGameCall","tywx","tt","friend","setStop","Utils","showWXBanner","closeCall","returnHomeCall","curgamescene","storeScore","director","loadScene","changeButtonTexture","AudioManager","getInstance","getIsMute","node","active","repeateGameCall","Board","reset","BoardView","initBoardView","initPreviewBlocks","helpCall","help","show","audioCall","log","stopMusic","setIsMute","playMusic","Configs","MUSICS","BG_MUSIC","changeTexture","onLoad","closeBtnCall","stopview","removeFromParent","statics","showStopView","loader","loadRes","err","prefab","instantiate","ads_script","getComponent","x","y","getScene","addChild","hideWXBanner","module","exports"],"mappings":"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","file":"stop_view.js","sourceRoot":"../../../../../../assets/scripts/game/stopview","sourcesContent":["const stopview_path = \"prefabs/stop_view\";\n\nconst stop_view = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        audioNormal: cc.Sprite,\n        audioEnable: cc.Sprite,\n    },\n\n    /**\n     * @description 继续游戏的时候调用\n     */\n    goOnGameCall: function () {\n        tywx.tt.friend.setStop(false);\n        tywx.tt.Utils.showWXBanner();\n        this.closeCall();\n    },\n    \n    /**\n     * @description 返回首页的时候的调用\n     */\n    returnHomeCall: function () {\n        tywx.tt.curgamescene.storeScore();\n        tywx.tt.Utils.showWXBanner();\n        cc.director.loadScene(\"scene_menu\");\n    },\n\n     /**\n      * @description 更换音乐显示的图片\n      */\n    changeButtonTexture: function () {\n        if (tywx.tt.AudioManager.getInstance().getIsMute()) {\n            this.audioNormal.node.active = false;\n            this.audioEnable.node.active = true;\n        } else if (!tywx.tt.AudioManager.getInstance().getIsMute()) {\n            this.audioNormal.node.active = true;\n            this.audioEnable.node.active = false;\n        } else {\n            // tywx.LOGE(\"状态不对\");\n        }\n\n    },\n    \n    /**\n     * @description 重新开始游戏的时候调用\n     */\n    repeateGameCall: function () {\n        tywx.tt.friend.setStop(false);\n        tywx.tt.Board.reset();\n        tywx.tt.BoardView.initBoardView();\n        tywx.tt.BoardView.initPreviewBlocks();\n        tywx.tt.Utils.showWXBanner();\n        this.closeCall();\n    },\n    \n    helpCall: function () {\n        tywx.tt.help.show();\n    },\n    \n    /**\n     * @description 点击音乐开关的时候调用\n     */\n    audioCall: function () {\n        tywx.tt.log(\"curAudioState1 = \" + tywx.tt.AudioManager.getInstance().getIsMute());\n        if (tywx.tt.AudioManager.getInstance().getIsMute() == false) {\n            tywx.tt.AudioManager.getInstance().stopMusic();\n            tywx.tt.AudioManager.getInstance().setIsMute(true);\n            tywx.tt.log(\"curAudioState2 = \" + tywx.tt.AudioManager.getInstance().getIsMute());\n        } else if (tywx.tt.AudioManager.getInstance().getIsMute() == true) {\n            tywx.tt.AudioManager.getInstance().setIsMute(false);\n            tywx.tt.log(\"curAudioState3 = \" + tywx.tt.AudioManager.getInstance().getIsMute());\n            tywx.tt.AudioManager.getInstance().playMusic(tywx.tt.Configs.MUSICS.BG_MUSIC);\n        }\n        this.changeTexture();\n        tywx.tt.log(typeof (tywx.tt.AudioManager.getInstance().getIsMute()) +\n            \"curAudioState4 = \" + tywx.tt.AudioManager.getInstance().getIsMute());\n    },\n\n    changeTexture: function () {\n        this.changeButtonTexture();\n    },\n\n\n    \n    onLoad() {\n        this.changeTexture();\n    },\n \n    \n    /**\n     * @description 点击关闭按钮的时候调用\n     */\n    closeBtnCall: function () {\n        tywx.tt.Utils.showWXBanner();\n        this.closeCall();\n    },\n    \n    /**\n     * @description 关闭界面调用\n     */\n    closeCall: function () {\n        stop_view.stopview.removeFromParent(true);\n        stop_view.stopview = null;\n    },\n\n    statics: {\n        stopview: null,\n        /**\n         * @description 显示暂停界面\n         */\n        showStopView: function () {\n            cc.loader.loadRes(stopview_path, (err, prefab) => {\n                if (!err) {\n                    let stopview = cc.instantiate(prefab);\n                    let ads_script = stopview.getComponent('stop_view');\n                    stopview.x = 360;\n                    stopview.y = 640;\n                    stop_view.stopview = stopview;\n                    cc.director.getScene().addChild(stopview);\n                    tywx.tt.Utils.hideWXBanner();\n                }\n            });\n        }\n    }\n    // update (dt) {},\n});\n\nmodule.exports = stop_view;"]}