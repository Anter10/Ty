{"version":3,"sources":["../../../../../assets/scripts/common_frame/assets/scripts/common_frame/HttpUtil.js"],"names":["tywx","HttpUtil","httpPost","cfgObj","httpType","IsWechatPlatform","wx","request","url","data","postData","header","method","dataType","success","res","statusCode","hasOwnProperty","LOGD","fail","err","LOGE","JSON","stringify","httpGet","successcb","failcb"],"mappings":";;;;;;AAAA;;;;AAIAA,KAAKC,QAAL,GAAgB;AACZC,cAAS,kBAAUC,MAAV,EAAkBC,QAAlB,EAA4B;AACjC,YAAI;AACA,gBAAGJ,KAAKK,gBAAL,EAAH,EAA4B;AACxBC,mBAAGC,OAAH,CAAW;AACPC,yBAAML,OAAOK,GADN;AAEPC,0BAAON,OAAOO,QAFP;AAGPC,4BAASR,OAAOQ,MAHT;AAIPC,4BAAS,MAJF;AAKPC,8BAAW,MALJ;AAMPC,6BAAU,iBAAUC,GAAV,EAAe;AACrB,4BAAIA,IAAIC,UAAJ,IAAkB,GAAtB,EAA0B;AACtB;AACA,gCAAID,IAAIN,IAAJ,IAAYM,IAAIN,IAAJ,CAASQ,cAAT,CAAwB,uBAAxB,CAAZ,IACGF,IAAIN,IAAJ,CAAS,uBAAT,KAAqC,IAD5C,EACkD;AAC9CT,qCAAKkB,IAAL,CAAU,sBAAV,EAAkC,gBAAlC;AACH;AACJ,yBAND,MAOI;AACAlB,iCAAKkB,IAAL,CAAU,sBAAV,EAAkC,gBAAgBH,IAAIC,UAAtD;AACH;AACJ,qBAjBM;AAkBPG,0BAAO,cAAUJ,GAAV,EAAe;AAClBf,6BAAKkB,IAAL,CAAU,sBAAV,EAAkC,iBAAiBf,OAAOK,GAA1D;AACH;AApBM,iBAAX;AAsBH;AACJ,SAzBD,CAyBE,OAAMY,GAAN,EAAW;AACTpB,iBAAKqB,IAAL,CAAU,QAAV,EAAoB,6BAA6BC,KAAKC,SAAL,CAAeH,GAAf,CAAjD;AACH;AACJ,KA9BW;;AAgCZI,aAAQ,iBAAUrB,MAAV,EAAkBsB,SAAlB,EAA6BC,MAA7B,EAAqC;AACzC,YAAI;AACA,gBAAG1B,KAAKK,gBAAL,EAAH,EAA4B;AACxBL,qBAAKkB,IAAL,CAAU,qBAAV,EAAiC,SAASf,OAAOK,GAAjD;AACAF,mBAAGC,OAAH,CAAW;AACPC,yBAAML,OAAOK,GADN;AAEPI,4BAAS,KAFF;AAGPE,6BAAU,iBAAUC,GAAV,EAAe;AACrB,4BAAIA,IAAIC,UAAJ,IAAkB,GAAtB,EAA0B;AACtBhB,iCAAKkB,IAAL,CAAU,qBAAV,EAAiC,SAASI,KAAKC,SAAL,CAAeR,IAAIN,IAAnB,CAA1C;AACA,gCAAGgB,SAAH,EAAc;AACVA,0CAAUV,IAAIN,IAAd;AACH;AACJ,yBALD,MAMI;AACAT,iCAAKkB,IAAL,CAAU,qBAAV,EAAiC,gBAAgBH,IAAIC,UAArD;AACH;AACJ,qBAbM;AAcPG,0BAAO,cAAUJ,GAAV,EAAe;AAClBf,6BAAKkB,IAAL,CAAU,qBAAV,EAAiC,iBAAiBf,OAAOK,GAAzD;AACA,4BAAGkB,MAAH,EAAW;AACPA,mCAAOX,GAAP;AACH;AACJ;AAnBM,iBAAX;AAqBH;AACJ,SAzBD,CAyBE,OAAMK,GAAN,EAAW;AACTpB,iBAAKqB,IAAL,CAAU,QAAV,EAAoB,4BAA4BC,KAAKC,SAAL,CAAeH,GAAf,CAAhD;AACH;AACJ;AA7DW,CAAhB","file":"HttpUtil.js","sourceRoot":"../../../../../assets/scripts/common_frame","sourcesContent":["/**\n * Created by xiaochuntian on 2018/5/2.\n */\n\ntywx.HttpUtil = {\n    httpPost:function (cfgObj, httpType) {\n        try {\n            if(tywx.IsWechatPlatform()) {\n                wx.request({\n                    url : cfgObj.url,\n                    data : cfgObj.postData,\n                    header : cfgObj.header,\n                    method : 'POST',\n                    dataType : 'json',\n                    success : function (res) {\n                        if (res.statusCode == 200){\n                            //正常连接{\"/api/bilog5/clientlog\": \"ok\"}\n                            if (res.data && res.data.hasOwnProperty('/api/bilog5/clientlog')\n                                && res.data['/api/bilog5/clientlog'] == \"ok\") {\n                                tywx.LOGD('ty.HttpUtil.httpPost', 'post success! ');\n                            }\n                        }\n                        else{\n                            tywx.LOGD('ty.HttpUtil.httpPost', 'statusCode:' + res.statusCode);\n                        }\n                    },\n                    fail : function (res) {\n                        tywx.LOGD('ty.HttpUtil.httpPost', 'post error! ' + cfgObj.url);\n                    }\n                });\n            }\n        } catch(err) {\n            tywx.LOGE(\"error:\", \"tywx.HttpUtil.httpPost——\" + JSON.stringify(err));\n        }\n    },\n\n    httpGet:function (cfgObj, successcb, failcb) {\n        try {\n            if(tywx.IsWechatPlatform()) {\n                tywx.LOGD('ty.HttpUtil.httpGet', 'url:' + cfgObj.url);\n                wx.request({\n                    url : cfgObj.url,\n                    method : 'GET',\n                    success : function (res) {\n                        if (res.statusCode == 200){\n                            tywx.LOGD('ty.HttpUtil.httpGet', 'res:' + JSON.stringify(res.data));\n                            if(successcb) {\n                                successcb(res.data);\n                            }\n                        }\n                        else{\n                            tywx.LOGD('ty.HttpUtil.httpGet', 'statusCode:' + res.statusCode);\n                        }\n                    },\n                    fail : function (res) {\n                        tywx.LOGD('ty.HttpUtil.httpGet', 'post error! ' + cfgObj.url);\n                        if(failcb) {\n                            failcb(res);\n                        }\n                    }\n                });\n            }\n        } catch(err) {\n            tywx.LOGE(\"error:\", \"tywx.HttpUtil.httpGet——\" + JSON.stringify(err));\n        }\n    }\n};"]}