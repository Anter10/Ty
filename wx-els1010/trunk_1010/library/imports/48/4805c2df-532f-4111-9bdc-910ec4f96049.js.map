{"version":3,"sources":["../../../../../../assets/scripts/game/view/assets/scripts/game/view/tt_scene_play.js"],"names":["TAG","cc","Class","extends","Component","properties","onLoad","root","node","getChildByName","pop","loadPlayView","showBanner","tywx","tt","curgamescene","canshowads","ads","addAdsNode","v2","stopCall","stop_view","showStopView","start","storeScore","parseInt","Utils","loadItem","constants","TT_SCORE","playviewscript","board","score","saveItem","onDestroy","log","destroyWXBanner","createAndcreateAndShowWXBanner","schedule","bannerRefresh","WXAdConfig","bannerRefreshTime","self","loader","loadRes","err","prefab","playView","instantiate","parent","getComponent","error","JSON","stringify"],"mappings":";;;;;;AAAA,IAAIA,MAAM,iBAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAOL;;AAEAC,UATK,oBASI;AACL,aAAKC,IAAL,GAAY,KAAKC,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAAZ;AACA,aAAKC,GAAL,GAAW,KAAKF,IAAL,CAAUC,cAAV,CAAyB,KAAzB,CAAX;AACA,aAAKE,YAAL;AACA,aAAKC,UAAL;AACAC,aAAKC,EAAL,CAAQC,YAAR,GAAuB,IAAvB;AACA,YAAIC,aAAa,IAAjB;AACA,YAAIA,UAAJ,EAAgB;AACZH,iBAAKC,EAAL,CAAQG,GAAR,CAAYC,UAAZ,CAAuB,WAAvB,EAAoC,KAAKV,IAAzC,EAA+CP,GAAGkB,EAAH,CAAM,GAAN,EAAW,GAAX,CAA/C;AACH;AACJ,KAnBI;;;AAuBL;AACAC,cAAU,oBAAY;AAClBP,aAAKC,EAAL,CAAQO,SAAR,CAAkBC,YAAlB;AACH,KA1BI;;AA4BLC,SA5BK,mBA4BG,CAEP,CA9BI;;;AAgCL;;;AAGAC,gBAAY,sBAAY;AACpB,YAAIC,SAASZ,KAAKC,EAAL,CAAQY,KAAR,CAAcC,QAAd,CAAuBd,KAAKC,EAAL,CAAQc,SAAR,CAAkBC,QAAzC,EAAmD,CAAnD,CAAT,IAAkE,KAAKC,cAAL,CAAoBC,KAApB,CAA0BC,KAAhG,EAAuG;AACnGnB,iBAAKC,EAAL,CAAQY,KAAR,CAAcO,QAAd,CAAuBpB,KAAKC,EAAL,CAAQc,SAAR,CAAkBC,QAAzC,EAAmD,KAAKC,cAAL,CAAoBC,KAApB,CAA0BC,KAA7E,EAAoF,KAApF;AACH;AACJ,KAvCI;;AA0CLE,aA1CK,uBA0CO;AACRrB,aAAKC,EAAL,CAAQqB,GAAR,CAAY,OAAZ;AACAtB,aAAKC,EAAL,CAAQY,KAAR,CAAcU,eAAd;AACH,KA7CI;;;AAgDL;;;AAGAxB,gBAAY,sBAAY;;AAEpBC,aAAKC,EAAL,CAAQY,KAAR,CAAcW,8BAAd;AACA,aAAKC,QAAL,CAAc,KAAKC,aAAnB,EAAkC1B,KAAKC,EAAL,CAAQc,SAAR,CAAkBY,UAAlB,CAA6BC,iBAA/D;AACH,KAvDI;;AA0DL;;;AAGAF,mBAAe,yBAAY;AACvB1B,aAAKC,EAAL,CAAQY,KAAR,CAAcW,8BAAd;AACH,KA/DI;;AAiEL;AACA1B,gBAlEK,0BAkEU;AACX,YAAI+B,OAAO,IAAX;AACAzC,WAAG0C,MAAH,CAAUC,OAAV,CAAkB,4BAAlB,EAAgD,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC7D,gBAAI,CAACD,GAAL,EAAU;AACNH,qBAAKK,QAAL,GAAgB9C,GAAG+C,WAAH,CAAeF,MAAf,CAAhB;AACAJ,qBAAKK,QAAL,CAAcE,MAAd,GAAuBP,KAAKnC,IAA5B;AACAmC,qBAAKZ,cAAL,GAAsBY,KAAKK,QAAL,CAAcG,YAAd,CAA2B,oBAA3B,CAAtB;AACArC,qBAAKC,EAAL,CAAQqB,GAAR,CAAYnC,GAAZ,EAAiB,wBAAjB;AACA;AACH,aAND,MAMO;AACHa,qBAAKC,EAAL,CAAQqC,KAAR,CAAcnD,GAAd,EAAmB,uBAAnB,EAA4CoD,KAAKC,SAAL,CAAeR,GAAf,CAA5C;AACH;AACJ,SAVD;AAWH;AA/EI,CAAT","file":"tt_scene_play.js","sourceRoot":"../../../../../../assets/scripts/game/view","sourcesContent":["let TAG = '[tt_scene_play]';\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.root = this.node.getChildByName('root');\n        this.pop = this.node.getChildByName('pop');\n        this.loadPlayView();\n        this.showBanner();\n        tywx.tt.curgamescene = this;\n        let canshowads = true;\n        if (canshowads) {\n            tywx.tt.ads.addAdsNode(\"list_menu\", this.node, cc.v2(220, 222));\n        }\n    },\n\n\n\n    // 点击暂停回调\n    stopCall: function () {\n        tywx.tt.stop_view.showStopView();\n    },\n\n    start() {\n\n    },\n    \n    /**\n     * @description: 存储当前的分数\n     */\n    storeScore: function () {\n        if (parseInt(tywx.tt.Utils.loadItem(tywx.tt.constants.TT_SCORE, 0)) < this.playviewscript.board.score) {\n            tywx.tt.Utils.saveItem(tywx.tt.constants.TT_SCORE, this.playviewscript.board.score, false);\n        }\n    },\n \n\n    onDestroy() {\n        tywx.tt.log(\"主页退出 \");\n        tywx.tt.Utils.destroyWXBanner();\n    },\n\n\n    /**\n     * @description 展示广告\n     */\n    showBanner: function () {\n\n        tywx.tt.Utils.createAndcreateAndShowWXBanner();\n        this.schedule(this.bannerRefresh, tywx.tt.constants.WXAdConfig.bannerRefreshTime);\n    },\n\n\n    /**\n     * @description 刷新广告的显示\n     */\n    bannerRefresh: function () {\n        tywx.tt.Utils.createAndcreateAndShowWXBanner();\n    },\n\n    // update (dt) {},\n    loadPlayView() {\n        let self = this;\n        cc.loader.loadRes('prefabs/tt_view_play_board', (err, prefab) => {\n            if (!err) {\n                self.playView = cc.instantiate(prefab);\n                self.playView.parent = self.root;\n                self.playviewscript = self.playView.getComponent(\"tt_view_play_board\");\n                tywx.tt.log(TAG, 'load play view success');\n                //self.playView.getComponent('tt_view_play_board').init();\n            } else {\n                tywx.tt.error(TAG, 'load play view failed', JSON.stringify(err));\n            }\n        });\n    }\n\n});"]}