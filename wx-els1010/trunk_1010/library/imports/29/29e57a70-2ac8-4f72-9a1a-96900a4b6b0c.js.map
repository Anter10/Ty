{"version":3,"sources":["../../../../../../assets/scripts/game/common/assets/scripts/game/common/red_packet_transfer.js"],"names":["cc","Class","extends","Component","properties","labelMax","Label","labelRules","labelTips","labelCurrent","nodeCurrent","Node","onLoad","director","getScene","_name","tywx","tt","Utils","hideGameClub","an","AdManager","getAdNodeByTag","hideAdNode","hideWXBanner","commonScaleIn","node","getChildByName","start","onDestroy","showGameClub","showAdNode","showWXBanner","motaiCallback","destroy","btnTransferClickCallback","currentcash","requestRedPacket2Cash","showWXModal","init","current_cash","string","active"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAUL,GAAGM,KADL;AAERC,oBAAYP,GAAGM,KAFP;AAGRE,mBAAWR,GAAGM,KAHN;AAIRG,sBAAcT,GAAGM,KAJT;AAKRI,qBAAaV,GAAGW;AALR,KAHP;;AAWL;;AAEAC,UAbK,oBAaK;AACN,YAAGZ,GAAGa,QAAH,CAAYC,QAAZ,GAAuBC,KAAvB,KAAiC,WAApC,EAAgD;AAC5CC,iBAAKC,EAAL,CAAQC,KAAR,CAAcC,YAAd;AACA,gBAAIC,KAAKJ,KAAKK,SAAL,CAAeC,cAAf,CAA8B,YAA9B,CAAT;AACA,gBAAGF,EAAH,EAAOA,GAAGG,UAAH;AACV,SAJD,MAIO,IAAIvB,GAAGa,QAAH,CAAYC,QAAZ,GAAuBC,KAAvB,KAAiC,UAArC,EAAiD;AACpDC,iBAAKC,EAAL,CAAQC,KAAR,CAAcM,YAAd;AACH;AACDR,aAAKC,EAAL,CAAQC,KAAR,CAAcO,aAAd,CAA4B,KAAKC,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAA5B;AACH,KAtBI;AAwBLC,SAxBK,mBAwBI,CAER,CA1BI;AA4BLC,aA5BK,uBA4BM;AACP,YAAG7B,GAAGa,QAAH,CAAYC,QAAZ,GAAuBC,KAAvB,KAAiC,WAApC,EAAgD;AAC5CC,iBAAKC,EAAL,CAAQC,KAAR,CAAcY,YAAd;AACA,gBAAIV,KAAKJ,KAAKK,SAAL,CAAeC,cAAf,CAA8B,YAA9B,CAAT;AACA,gBAAGF,EAAH,EAAOA,GAAGW,UAAH;AACV,SAJD,MAIO,IAAI/B,GAAGa,QAAH,CAAYC,QAAZ,GAAuBC,KAAvB,KAAiC,UAArC,EAAiD;AACpDC,iBAAKC,EAAL,CAAQC,KAAR,CAAcc,YAAd;AACH;AACJ,KApCI;;;AAsCL;;AAEAC,iBAxCK,2BAwCU;AACX,aAAKP,IAAL,CAAUQ,OAAV;AACH,KA1CI;AA2CLC,4BA3CK,sCA2CqB;AACtB,YAAI,KAAKC,WAAL,IAAoB,EAAxB,EAA4B;AACxBpB,iBAAKC,EAAL,CAAQC,KAAR,CAAcmB,qBAAd;AACH,SAFD,MAGI;AACArB,iBAAKC,EAAL,CAAQC,KAAR,CAAcoB,WAAd,CAA0B,eAA1B,EAA0C,IAA1C,EAA+C,KAA/C;AACH;AACJ,KAlDI;AAmDLC,QAnDK,gBAmDAC,YAnDA,EAmDa;AACd,aAAKJ,WAAL,GAAmBI,YAAnB;AACA,aAAKnC,QAAL,CAAcoC,MAAd,yBAA8B,KAAKL,WAAnC;AACA,aAAK3B,YAAL,CAAkBiB,IAAlB,CAAuBgB,MAAvB,GAAgC,KAAhC;AACH;AAvDI,CAAT","file":"red_packet_transfer.js","sourceRoot":"../../../../../../assets/scripts/game/common","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        labelMax: cc.Label,\n        labelRules: cc.Label,\n        labelTips: cc.Label,\n        labelCurrent: cc.Label,\n        nodeCurrent: cc.Node\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        if(cc.director.getScene()._name === 'gamestart'){\n            tywx.tt.Utils.hideGameClub();\n            let an = tywx.AdManager.getAdNodeByTag('GAME_START');\n            if(an) an.hideAdNode();\n        } else if (cc.director.getScene()._name === 'gamemain') {\n            tywx.tt.Utils.hideWXBanner();\n        }\n        tywx.tt.Utils.commonScaleIn(this.node.getChildByName('root'));\n    },\n\n    start () {\n\n    },\n\n    onDestroy(){\n        if(cc.director.getScene()._name === 'gamestart'){\n            tywx.tt.Utils.showGameClub();\n            let an = tywx.AdManager.getAdNodeByTag('GAME_START');\n            if(an) an.showAdNode();\n        } else if (cc.director.getScene()._name === 'gamemain') {\n            tywx.tt.Utils.showWXBanner();\n        }\n    },\n\n    // update (dt) {},\n\n    motaiCallback(){\n        this.node.destroy();\n    },\n    btnTransferClickCallback(){\n        if (this.currentcash >= 20) {\n            tywx.tt.Utils.requestRedPacket2Cash();\n        }\n        else{\n            tywx.tt.Utils.showWXModal('攒够20元再提现吧,加油!','提示',false);\n        }\n    },\n    init(current_cash){\n        this.currentcash = current_cash;\n        this.labelMax.string = `余额:¥${this.currentcash}`;\n        this.labelCurrent.node.active = false;\n    }\n});\n"]}