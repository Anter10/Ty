{"version":3,"sources":["../../../../../../assets/scripts/game/gameover/assets/scripts/game/gameover/fuhuo_view.js"],"names":["fuhuo_view_path","fuhuo_view","cc","Class","extends","Component","properties","scoreLabel","Label","fhBtn","Node","djsTime","jcdlNode","restartGame","closeCall","curnode","removeFromParent","tywx","tt","gameover","show","data","onLoad","fuhuoScript","getComponent","share_control","configManager","recovergame","calltype","Utils","shareVideoCtr","config","constants","ShareConfig","GAMEOVER_FUHUO_SHARE","GAMEOVER_FUHUO_VIDEO","setShareConfig","setButtonCallType","setSuccessCall","self","fuHuoCall","hideWXBanner","canadd","ads","addAdsNode","v2","setData","string","score","start","statics","loader","loadRes","err","prefab","fuhuonode","instantiate","ads_script","director","getScene","addChild","module","exports"],"mappings":";;;;;;AAAC,IAAMA,kBAAkB,oBAAxB;;AAGA,IAAMC,aAAaC,GAAGC,KAAH,CAAS;AACxBC,aAASF,GAAGG,SADY;;AAGxBC,gBAAY;AACRC,oBAAYL,GAAGM,KADP;AAERC,eAAOP,GAAGQ,IAFF;AAGRC,iBAAST,GAAGQ,IAHJ;AAIRE,kBAAUV,GAAGQ;AAJL,KAHY;;AAWxBG,iBAAa,uBAAY;AACrB,aAAKC,SAAL;AACH,KAbuB;;AAexBA,eAAW,qBAAY;AACnBb,mBAAWc,OAAX,CAAmBC,gBAAnB,CAAoC,IAApC;AACAf,mBAAWc,OAAX,GAAqB,IAArB;AACAE,aAAKC,EAAL,CAAQC,QAAR,CAAiBC,IAAjB,CAAsB,KAAKC,IAA3B;AACH,KAnBuB;;AAqBxBC,UArBwB,oBAqBf;AACL;AACA,aAAKC,WAAL,GAAmB,KAAKd,KAAL,CAAWe,YAAX,CAAwB,aAAxB,CAAnB;;AAEA,YAAMC,gBAAgBR,KAAKC,EAAL,CAAQQ,aAAR,CAAsBD,aAAtB,CAAoCE,WAA1D;AACA,YAAMC,WAAWX,KAAKC,EAAL,CAAQW,KAAR,CAAcC,aAAd,CAA4BL,aAA5B,CAAjB;AACA,YAAMM,SAASH,YAAY,CAAZ,GAAgBX,KAAKC,EAAL,CAAQc,SAAR,CAAkBC,WAAlB,CAA8BC,oBAA9C,GAAqEjB,KAAKC,EAAL,CAAQc,SAAR,CAAkBC,WAAlB,CAA8BE,oBAAlH;AACA,aAAKZ,WAAL,CAAiBa,cAAjB,CAAgCL,MAAhC;AACA,aAAKR,WAAL,CAAiBc,iBAAjB,CAAmCT,QAAnC;AACA,aAAKL,WAAL,CAAiBe,cAAjB,CAAgC,YAAY;AACxCC,iBAAKC,SAAL;AACH,SAFD;AAGAvB,aAAKC,EAAL,CAAQW,KAAR,CAAcY,YAAd;AACA;AACA,YAAIC,SAAS,IAAb;AACAA,kBAAUzB,KAAKC,EAAL,CAAQyB,GAAR,CAAYC,UAAZ,CAAuB,YAAvB,EAAqC,KAAKhC,QAA1C,EAAoDV,GAAG2C,EAAH,CAAM,CAAN,EAAS,CAAT,CAApD,CAAV;AACA;AAEH,KAvCuB;;;AAyCxBL,eAAW,qBAAY;;AAEnB,aAAK1B,SAAL;AACH,KA5CuB;;AA8CxBgC,WA9CwB,mBA8ChBzB,IA9CgB,EA8CV;AACV,aAAKA,IAAL,GAAYA,IAAZ;AACA,aAAKd,UAAL,CAAgBwC,MAAhB,GAAyB1B,KAAK2B,KAA9B;AACH,KAjDuB;AAmDxBC,SAnDwB,mBAmDhB,CAEP,CArDuB;;;AAuDxBC,aAAS;AACLnC,iBAAS,IADJ;AAEL;;;;AAIAK,cAAM,cAAUC,IAAV,EAAgB;AAClBnB,eAAGiD,MAAH,CAAUC,OAAV,CAAkBpD,eAAlB,EAAmC,UAACqD,GAAD,EAAMC,MAAN,EAAiB;AAChD,oBAAI,CAACD,GAAL,EAAU;AACN,wBAAIE,YAAYrD,GAAGsD,WAAH,CAAeF,MAAf,CAAhB;AACA,wBAAIG,aAAaF,UAAU/B,YAAV,CAAuB,YAAvB,CAAjB;AACAiC,+BAAWX,OAAX,CAAmBzB,IAAnB;AACApB,+BAAWc,OAAX,GAAqBwC,SAArB;AACArD,uBAAGwD,QAAH,CAAYC,QAAZ,GAAuBC,QAAvB,CAAgCL,SAAhC;AACH;AACJ,aARD;AASH;AAhBI;AAvDe,CAAT,CAAnB;;AA4EAM,OAAOC,OAAP,GAAiB7D,UAAjB","file":"fuhuo_view.js","sourceRoot":"../../../../../../assets/scripts/game/gameover","sourcesContent":[" const fuhuo_view_path = \"prefabs/fuhuo_view\"\n\n\n const fuhuo_view = cc.Class({\n     extends: cc.Component,\n\n     properties: {\n         scoreLabel: cc.Label,\n         fhBtn: cc.Node,\n         djsTime: cc.Node,\n         jcdlNode: cc.Node,\n     },\n\n\n     restartGame: function () {\n         this.closeCall();\n     },\n\n     closeCall: function () {\n         fuhuo_view.curnode.removeFromParent(true);\n         fuhuo_view.curnode = null;\n         tywx.tt.gameover.show(this.data);\n     },\n\n     onLoad() {\n         // 初始化复活按钮的相关设置\n         this.fuhuoScript = this.fhBtn.getComponent(\"ShareButton\")\n         \n         const share_control = tywx.tt.configManager.share_control.recovergame;\n         const calltype = tywx.tt.Utils.shareVideoCtr(share_control);\n         const config = calltype == 1 ? tywx.tt.constants.ShareConfig.GAMEOVER_FUHUO_SHARE : tywx.tt.constants.ShareConfig.GAMEOVER_FUHUO_VIDEO;\n         this.fuhuoScript.setShareConfig(config);\n         this.fuhuoScript.setButtonCallType(calltype);\n         this.fuhuoScript.setSuccessCall(function () {\n             self.fuHuoCall();\n         });\n         tywx.tt.Utils.hideWXBanner();\n         // 添加交叉倒流节点\n         var canadd = true;\n         canadd && tywx.tt.ads.addAdsNode(\"blink_play\", this.jcdlNode, cc.v2(0, 0));\n         // 开始倒计时\n\n     },\n\n     fuHuoCall: function () {\n\n         this.closeCall();\n     },\n\n     setData(data) {\n         this.data = data;\n         this.scoreLabel.string = data.score;\n     },\n\n     start() {\n\n     },\n\n     statics: {\n         curnode: null,\n         /**\n          * @description 显示gameOver的视图\n          * @param {Object} data gameover的显示数据\n          */\n         show: function (data) {\n             cc.loader.loadRes(fuhuo_view_path, (err, prefab) => {\n                 if (!err) {\n                     let fuhuonode = cc.instantiate(prefab);\n                     let ads_script = fuhuonode.getComponent('fuhuo_view');\n                     ads_script.setData(data);\n                     fuhuo_view.curnode = fuhuonode;\n                     cc.director.getScene().addChild(fuhuonode);\n                 }\n             });\n         }\n     },\n });\n\n\n module.exports = fuhuo_view;"]}