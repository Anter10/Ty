{"version":3,"sources":["tt_view_block.js"],"names":["TAG","cc","Class","extends","Component","properties","onLoad","mask","node","getChildByName","active","onEnable","start","refresh","setStat","stat","frameIdx","init","hideBg","setBgColor","color","opacity","display","frame","displaySprite","getComponent","Sprite","frameSprite","self","loader","loadRes","SpriteFrame","err","sprite_frame","spriteFrame","showMask","hideMask"],"mappings":";;;;;;AAAA,IAAIA,MAAM,iBAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAML;;AAEAC,UARK,oBAQK;AACN;AACA,aAAKC,IAAL,GAAY,KAAKC,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAAZ;AACA;AACA,aAAKF,IAAL,CAAUG,MAAV,GAAmB,KAAnB;AACH,KAbI;AAcLC,YAdK,sBAcK;AACN;AACH,KAhBI;AAkBLC,SAlBK,mBAkBI;AACL;;AAEH,KArBI;;;AAuBL;AACAC,WAxBK,qBAwBI,CAER,CA1BI;AA2BLC,WA3BK,mBA2BGC,IA3BH,EA2BQ;AACT;AACA,aAAKA,IAAL,GAAYA,IAAZ;AACA,aAAKC,QAAL,GAAgB,CAAC,CAAjB;AACA,aAAKC,IAAL;AAEH,KAjCI;AAkCLC,UAlCK,oBAkCG;AACJ,aAAKV,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BC,MAA/B,GAAwC,KAAxC;AACH,KApCI;AAqCLS,cArCK,sBAqCMC,KArCN,EAqCY;AACb,aAAKZ,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BW,KAA/B,GAAuCA,KAAvC;AACA,aAAKZ,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BY,OAA/B,GAAyC,EAAzC;AACH,KAxCI;AAyCLJ,QAzCK,kBAyCC;AACF,aAAKK,OAAL,GAAe,KAAKd,IAAL,CAAUC,cAAV,CAAyB,SAAzB,CAAf;AACA,aAAKc,KAAL,GAAa,KAAKf,IAAL,CAAUC,cAAV,CAAyB,OAAzB,CAAb;AACA,aAAKe,aAAL,GAAqB,KAAKF,OAAL,CAAaG,YAAb,CAA0BxB,GAAGyB,MAA7B,CAArB;AACA,aAAKC,WAAL,GAAmB,KAAKJ,KAAL,CAAWE,YAAX,CAAwBxB,GAAGyB,MAA3B,CAAnB;;AAEA,YAAG,KAAKX,IAAL,KAAc,CAAC,CAAlB,EAAoB;AAChB;AACA,iBAAKQ,KAAL,CAAWb,MAAX,GAAoB,IAApB;AACH,SAHD,MAIK,IAAG,KAAKK,IAAL,KAAc,CAAC,CAAlB,EAAoB;AACrB;AACA,iBAAKQ,KAAL,CAAWb,MAAX,GAAoB,KAApB;AACH,SAHI,MAIA,IAAG,KAAKK,IAAL,KAAc,CAAjB,EAAmB;AACpB,iBAAKQ,KAAL,CAAWb,MAAX,GAAoB,KAApB;AACA,iBAAKY,OAAL,CAAaZ,MAAb,GAAsB,KAAtB;AACH,SAHI,MAID;AACA,iBAAKa,KAAL,CAAWb,MAAX,GAAoB,KAApB;AACA,iBAAKY,OAAL,CAAaZ,MAAb,GAAsB,IAAtB;AACA,iBAAKM,QAAL,GAAgB,KAAKD,IAArB;AACA,gBAAIa,OAAO,IAAX;AACA3B,eAAG4B,MAAH,CAAUC,OAAV,wBAAuC,KAAKf,IAA5C,EAAmDd,GAAG8B,WAAtD,EAAkE,UAACC,GAAD,EAAMC,YAAN,EAAqB;AACnF,oBAAG,CAACD,GAAJ,EAAQ;AACJJ,yBAAKJ,aAAL,CAAmBU,WAAnB,GAAiCD,YAAjC;AACH;AACJ,aAJD;AAKH;AACJ,KAtEI;AAuELE,YAvEK,sBAuEK;AACN,aAAK5B,IAAL,CAAUG,MAAV,GAAmB,IAAnB;AACH,KAzEI;AA0EL0B,YA1EK,sBA0EK;AACN,aAAK7B,IAAL,CAAUG,MAAV,GAAmB,KAAnB;AACH;AA5EI,CAAT","file":"tt_view_block.js","sourceRoot":"../../../../../../assets/scripts/game/view","sourcesContent":["let TAG = '[tt_view_block]';\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        //tywx.tt.log(TAG,'onLoad');\n        this.mask = this.node.getChildByName('mask');\n        // this.node.getChildByName('frame').opacity = 144;\n        this.mask.active = false;\n    },\n    onEnable(){\n        //tywx.tt.log(TAG,'onEnable');\n    },\n\n    start () {\n        //tywx.tt.log(TAG,'start');\n\n    },\n\n    // update (dt) {},\n    refresh(){\n\n    },\n    setStat(stat){\n        //tywx.tt.log(TAG,'setStat');        \n        this.stat = stat;\n        this.frameIdx = -1;\n        this.init();\n\n    },\n    hideBg(){\n        this.node.getChildByName('bg').active = false;\n    },\n    setBgColor(color){\n        this.node.getChildByName('bg').color = color;\n        this.node.getChildByName('bg').opacity = 11;\n    },\n    init(){\n        this.display = this.node.getChildByName('display');\n        this.frame = this.node.getChildByName('frame');\n        this.displaySprite = this.display.getComponent(cc.Sprite);\n        this.frameSprite = this.frame.getComponent(cc.Sprite);\n\n        if(this.stat === -1){\n            // * 显示选中框\n            this.frame.active = true;\n        }\n        else if(this.stat === -2){\n            // * 隐藏选中框\n            this.frame.active = false;\n        }\n        else if(this.stat === 0){\n            this.frame.active = false;\n            this.display.active = false;\n        }\n        else{\n            this.frame.active = false;\n            this.display.active = true;\n            this.frameIdx = this.stat;\n            let self = this;\n            cc.loader.loadRes(`images/tt_blocks/b${this.stat}`,cc.SpriteFrame,(err, sprite_frame)=>{\n                if(!err){\n                    self.displaySprite.spriteFrame = sprite_frame;\n                }\n            });\n        }\n    },\n    showMask(){\n        this.mask.active = true;\n    },\n    hideMask(){\n        this.mask.active = false;\n    }\n});\n"]}