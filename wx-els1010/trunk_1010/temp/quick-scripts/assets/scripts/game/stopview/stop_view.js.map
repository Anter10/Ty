{"version":3,"sources":["stop_view.js"],"names":["stopview_path","stop_view","cc","Class","extends","Component","properties","audioNormal","Sprite","audioEnable","goOnGameCall","tywx","tt","friend","setStop","Utils","showWXBanner","closeCall","returnHomeCall","curgamescene","storeScore","director","loadScene","changeButtonTexture","AudioManager","getInstance","getIsMute","node","active","repeateGameCall","BoardView","reset","blocksAni","showRankCall","rank_manager","showRank","helpCall","help","show","audioCall","log","stopMusic","setIsMute","playMusic","getBGMusic","changeTexture","onLoad","closeBtnCall","statics","stopview","showStopView","loader","loadRes","err","prefab","instantiate","ads_script","getComponent","x","y","getScene","addChild","hideWXBanner","module","exports"],"mappings":";;;;;;;;AAAA,IAAMA,gBAAgB,mBAAtB;;AAEA,IAAMC,YAAYC,GAAGC,KAAH,CAAS;AACvBC,aAASF,GAAGG,SADW;;AAGvBC,gBAAY;AACRC,qBAAaL,GAAGM,MADR;AAERC,qBAAaP,GAAGM;AAFR,KAHW;;AAQvB;;;AAGAE,kBAAc,wBAAY;AACtBC,aAAKC,EAAL,CAAQC,MAAR,CAAeC,OAAf,CAAuB,KAAvB;AACAH,aAAKC,EAAL,CAAQG,KAAR,CAAcC,YAAd;AACA,aAAKC,SAAL;AACH,KAfsB;;AAiBvB;;;AAGAC,oBAAgB,0BAAY;AACxBP,aAAKC,EAAL,CAAQO,YAAR,CAAqBC,UAArB;AACAT,aAAKC,EAAL,CAAQG,KAAR,CAAcC,YAAd;AACAd,WAAGmB,QAAH,CAAYC,SAAZ,CAAsB,YAAtB;AACH,KAxBsB;;AA0BvB;;;AAGAC,yBAAqB,+BAAY;AAC7B,YAAIZ,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCC,SAAnC,EAAJ,EAAoD;AAChD,iBAAKnB,WAAL,CAAiBoB,IAAjB,CAAsBC,MAAtB,GAA+B,KAA/B;AACA,iBAAKnB,WAAL,CAAiBkB,IAAjB,CAAsBC,MAAtB,GAA+B,IAA/B;AACH,SAHD,MAGO,IAAI,CAACjB,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCC,SAAnC,EAAL,EAAqD;AACxD,iBAAKnB,WAAL,CAAiBoB,IAAjB,CAAsBC,MAAtB,GAA+B,IAA/B;AACA,iBAAKnB,WAAL,CAAiBkB,IAAjB,CAAsBC,MAAtB,GAA+B,KAA/B;AACH,SAHM,MAGA;AACH;AACH;AACJ,KAvCsB;;AAyCvB;;;AAGAC,qBAAiB,2BAAY;AACzBlB,aAAKC,EAAL,CAAQC,MAAR,CAAeC,OAAf,CAAuB,KAAvB;AACAH,aAAKC,EAAL,CAAQkB,SAAR,CAAkBC,KAAlB;AACApB,aAAKC,EAAL,CAAQkB,SAAR,CAAkBE,SAAlB;AACArB,aAAKC,EAAL,CAAQG,KAAR,CAAcC,YAAd;AACA,aAAKC,SAAL;AACH,KAlDsB;;AAoDvBgB,kBAAc,wBAAY;AACtBtB,aAAKC,EAAL,CAAQsB,YAAR,CAAqBC,QAArB;AACH,KAtDsB;;AAwDvBC,cAAU,oBAAY;AAClBzB,aAAKC,EAAL,CAAQyB,IAAR,CAAaC,IAAb;AACH,KA1DsB;;AA4DvB;;;AAGAC,eAAW,qBAAY;AACnB5B,aAAKC,EAAL,CAAQ4B,GAAR,CAAY,sBAAsB7B,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCC,SAAnC,EAAlC;AACA,YAAIf,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCC,SAAnC,MAAkD,KAAtD,EAA6D;AACzDf,iBAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCgB,SAAnC;AACA9B,iBAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCiB,SAAnC,CAA6C,IAA7C;AACA/B,iBAAKC,EAAL,CAAQ4B,GAAR,CAAY,sBAAsB7B,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCC,SAAnC,EAAlC;AACH,SAJD,MAIO,IAAIf,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCC,SAAnC,MAAkD,IAAtD,EAA4D;AAC/Df,iBAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCiB,SAAnC,CAA6C,KAA7C;AACA/B,iBAAKC,EAAL,CAAQ4B,GAAR,CAAY,sBAAsB7B,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCC,SAAnC,EAAlC;AACAf,iBAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCkB,SAAnC,CAA6ChC,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCmB,UAAnC,EAA7C;AACA;AACH;AACD,aAAKC,aAAL;AACAlC,aAAKC,EAAL,CAAQ4B,GAAR,CAAY,QAAQ7B,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCC,SAAnC,EAAR,IACR,mBADQ,GACcf,KAAKC,EAAL,CAAQY,YAAR,CAAqBC,WAArB,GAAmCC,SAAnC,EAD1B;AAEH,KA9EsB;;AAgFvBmB,mBAAe,yBAAY;AACvB,aAAKtB,mBAAL;AACH,KAlFsB;;AAsFvBuB,UAtFuB,oBAsFd;AACL,aAAKD,aAAL;AACH,KAxFsB;;;AA2FvB;;;AAGAE,kBAAc,wBAAY;AACtBpC,aAAKC,EAAL,CAAQG,KAAR,CAAcC,YAAd;AACA,aAAKC,SAAL;AACH,KAjGsB;;AAmGvB;;;AAGAA,eAAW,qBAAY;AACnB;AACA;AACH,KAzGsB;;AA2GvB+B,aAAS;AACLC,kBAAU,IADL;AAEL;;;AAGAC,sBAAc,wBAAY;AACtBhD,eAAGiD,MAAH,CAAUC,OAAV,CAAkBpD,aAAlB,EAAiC,UAACqD,GAAD,EAAMC,MAAN,EAAiB;AAC9C,oBAAI,CAACD,GAAL,EAAU;AACN,wBAAIJ,WAAW/C,GAAGqD,WAAH,CAAeD,MAAf,CAAf;AACA,wBAAIE,aAAaP,SAASQ,YAAT,CAAsB,WAAtB,CAAjB;AACAR,6BAASS,CAAT,GAAa,GAAb;AACAT,6BAASU,CAAT,GAAa,GAAb;AACA1D,8BAAUgD,QAAV,GAAqBA,QAArB;AACA/C,uBAAGmB,QAAH,CAAYuC,QAAZ,GAAuBC,QAAvB,CAAgCZ,QAAhC;AACAtC,yBAAKC,EAAL,CAAQG,KAAR,CAAc+C,YAAd;AACH;AACJ,aAVD;AAWH;AAEL;AAnBS,KA3Gc,EAAT,CAAlB;;AAiIAC,OAAOC,OAAP,GAAiB/D,SAAjB","file":"stop_view.js","sourceRoot":"../../../../../../assets/scripts/game/stopview","sourcesContent":["const stopview_path = \"prefabs/stop_view\";\n\nconst stop_view = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        audioNormal: cc.Sprite,\n        audioEnable: cc.Sprite,\n    },\n\n    /**\n     * @description 继续游戏的时候调用\n     */\n    goOnGameCall: function () {\n        tywx.tt.friend.setStop(false);\n        tywx.tt.Utils.showWXBanner();\n        this.closeCall();\n    },\n\n    /**\n     * @description 返回首页的时候的调用\n     */\n    returnHomeCall: function () {\n        tywx.tt.curgamescene.storeScore();\n        tywx.tt.Utils.showWXBanner();\n        cc.director.loadScene(\"scene_menu\");\n    },\n\n    /**\n     * @description 更换音乐显示的图片\n     */\n    changeButtonTexture: function () {\n        if (tywx.tt.AudioManager.getInstance().getIsMute()) {\n            this.audioNormal.node.active = false;\n            this.audioEnable.node.active = true;\n        } else if (!tywx.tt.AudioManager.getInstance().getIsMute()) {\n            this.audioNormal.node.active = true;\n            this.audioEnable.node.active = false;\n        } else {\n            // tywx.LOGE(\"状态不对\");\n        }\n    },\n\n    /**\n     * @description 重新开始游戏的时候调用\n     */\n    repeateGameCall: function () {\n        tywx.tt.friend.setStop(false);\n        tywx.tt.BoardView.reset();\n        tywx.tt.BoardView.blocksAni();\n        tywx.tt.Utils.showWXBanner();\n        this.closeCall();\n    },\n\n    showRankCall: function () {\n        tywx.tt.rank_manager.showRank();\n    },\n\n    helpCall: function () {\n        tywx.tt.help.show();\n    },\n\n    /**\n     * @description 点击音乐开关的时候调用\n     */\n    audioCall: function () {\n        tywx.tt.log(\"curAudioState1 = \" + tywx.tt.AudioManager.getInstance().getIsMute());\n        if (tywx.tt.AudioManager.getInstance().getIsMute() == false) {\n            tywx.tt.AudioManager.getInstance().stopMusic();\n            tywx.tt.AudioManager.getInstance().setIsMute(true);\n            tywx.tt.log(\"curAudioState2 = \" + tywx.tt.AudioManager.getInstance().getIsMute());\n        } else if (tywx.tt.AudioManager.getInstance().getIsMute() == true) {\n            tywx.tt.AudioManager.getInstance().setIsMute(false);\n            tywx.tt.log(\"curAudioState3 = \" + tywx.tt.AudioManager.getInstance().getIsMute());\n            tywx.tt.AudioManager.getInstance().playMusic(tywx.tt.AudioManager.getInstance().getBGMusic());\n            // tywx.tt.AudioManager.getInstance().playMusic(tywx.tt.configManager.getInstance().MUSICS.BG_MUSIC);\n        }\n        this.changeTexture();\n        tywx.tt.log(typeof (tywx.tt.AudioManager.getInstance().getIsMute()) +\n            \"curAudioState4 = \" + tywx.tt.AudioManager.getInstance().getIsMute());\n    },\n\n    changeTexture: function () {\n        this.changeButtonTexture();\n    },\n\n\n\n    onLoad() {\n        this.changeTexture();\n    },\n\n\n    /**\n     * @description 点击关闭按钮的时候调用\n     */\n    closeBtnCall: function () {\n        tywx.tt.Utils.showWXBanner();\n        this.closeCall();\n    },\n\n    /**\n     * @description 关闭界面调用\n     */\n    closeCall: function () {\n        // stop_view.stopview.removeFromParent(true);\n        // stop_view.stopview = null;\n    },\n\n    statics: {\n        stopview: null,\n        /**\n         * @description 显示暂停界面\n         */\n        showStopView: function () {\n            cc.loader.loadRes(stopview_path, (err, prefab) => {\n                if (!err) {\n                    let stopview = cc.instantiate(prefab);\n                    let ads_script = stopview.getComponent('stop_view');\n                    stopview.x = 360;\n                    stopview.y = 640;\n                    stop_view.stopview = stopview;\n                    cc.director.getScene().addChild(stopview);\n                    tywx.tt.Utils.hideWXBanner();\n                }\n            });\n        }\n    }\n    // update (dt) {},\n});\n\nmodule.exports = stop_view;"]}