{"version":3,"sources":["tip_view.js"],"names":["tip_view_path","tip_view","cc","Class","extends","Component","properties","titleLabel","Label","tapLabel","shareBtn","Node","closeCall","tywx","tt","Utils","showWXBanner","curnode","removeFromParent","onLoad","init","self","shareBtnScript","getComponent","setButtonCallType","setSuccessCall","success","setCallType","calltype","setTitle","title","string","setTap","tap","setSuccessCallBack","setShareConfig","config","start","statics","show","loader","loadRes","err","prefab","tipview","instantiate","tip_view_script","tip","log","director","getScene","addChild","module","exports"],"mappings":";;;;;;AAAC,IAAMA,gBAAgB,kBAAtB;;AAEA,IAAMC,WAAWC,GAAGC,KAAH,CAAS;AACtBC,aAASF,GAAGG,SADU;;AAGtBC,gBAAY;AACRC,oBAAYL,GAAGM,KADP;AAERC,kBAAUP,GAAGM,KAFL;AAGRE,kBAAUR,GAAGS;AAHL,KAHU;;AAStBC,eAAW,qBAAY;AAClBC,aAAKC,EAAL,CAAQC,KAAR,CAAcC,YAAd;AACAf,iBAASgB,OAAT,CAAiBC,gBAAjB,CAAkC,IAAlC;AACAjB,iBAASgB,OAAT,GAAmB,IAAnB;AACJ,KAbqB;;AAetBE,UAfsB,oBAeb,CAGR,CAlBqB;;;AAoBtB;;;AAGAC,UAAK,gBAAU;AACX,YAAIC,OAAO,IAAX;AACA,aAAKC,cAAL,GAAsB,KAAKZ,QAAL,CAAca,YAAd,CAA2B,aAA3B,CAAtB;AACA,aAAKD,cAAL,CAAoBE,iBAApB,CAAsC,CAAtC;AACA,aAAKF,cAAL,CAAoBG,cAApB,CAAmC,YAAY;AAC3CJ,iBAAKK,OAAL;AACAL,iBAAKT,SAAL;AACH,SAHD;AAIH,KA/BqB;;AAiCtB;;;;AAIAe,iBAAY,qBAASC,QAAT,EAAkB;AACxB,aAAKN,cAAL,CAAoBE,iBAApB,CAAsCI,QAAtC;AACL,KAvCqB;;AAyCtB;;;;AAIAC,cAAS,kBAAUC,KAAV,EAAiB;AACtB,aAAKvB,UAAL,CAAgBwB,MAAhB,GAAyBD,KAAzB;AACH,KA/CqB;;AAiDtB;;;;AAIAE,YAAQ,gBAAUC,GAAV,EAAe;AACnB,aAAKxB,QAAL,CAAcsB,MAAd,GAAuBE,GAAvB;AACH,KAvDqB;;AAyDtB;;;;AAIAC,wBAAoB,4BAAUR,OAAV,EAAmB;AACnC,aAAKA,OAAL,GAAeA,OAAf;AACH,KA/DqB;;AAiEtB;;;;AAIAS,oBAAgB,wBAAUC,MAAV,EAAkB;AAC9B,aAAKd,cAAL,CAAoBa,cAApB,CAAmCC,MAAnC;AACH,KAvEqB;;AAyEtBC,SAzEsB,mBAyEd,CAEP,CA3EqB;;;AA6EtBC,aAAS;AACLrB,iBAAS,IADJ;AAEL;;;;;;;;;;AAUAsB,cAAK,cAASH,MAAT,EAAgB;AACjBlC,eAAGsC,MAAH,CAAUC,OAAV,CAAkBzC,aAAlB,EAAiC,UAAC0C,GAAD,EAAMC,MAAN,EAAiB;AAC9C,oBAAI,CAACD,GAAL,EAAU;AACN,wBAAIE,UAAU1C,GAAG2C,WAAH,CAAeF,MAAf,CAAd;AACA,wBAAIG,kBAAkBF,QAAQrB,YAAR,CAAqB,UAArB,CAAtB;AACAuB,oCAAgB1B,IAAhB;AACA0B,oCAAgBd,MAAhB,CAAuBI,OAAOW,GAAP,IAAc,SAArC;AACAD,oCAAgBjB,QAAhB,CAAyBO,OAAON,KAAP,IAAgB,IAAzC;AACAgB,oCAAgBX,cAAhB,CAA+BC,OAAOA,MAAtC;AACAU,oCAAgBZ,kBAAhB,CAAmCE,OAAOV,OAA1C;AACAoB,oCAAgBnB,WAAhB,CAA4BS,OAAOR,QAAnC;AACA3B,6BAASgB,OAAT,GAAmB2B,OAAnB;AACA/B,yBAAKC,EAAL,CAAQkC,GAAR,CAAY,QAAZ;AACA9C,uBAAG+C,QAAH,CAAYC,QAAZ,GAAuBC,QAAvB,CAAgCP,OAAhC,EAAwC,MAAxC;AACH;AACJ,aAdD;AAeH;;AAGL;AA/BS,KA7Ea,EAAT,CAAjB;;AA+GAQ,OAAOC,OAAP,GAAiBpD,QAAjB","file":"tip_view.js","sourceRoot":"../../../../../../assets/scripts/game/common","sourcesContent":[" const tip_view_path = \"prefabs/tip_view\";\n\n const tip_view = cc.Class({\n     extends: cc.Component,\n\n     properties: {\n         titleLabel: cc.Label,\n         tapLabel: cc.Label,\n         shareBtn: cc.Node,\n     },\n\n     closeCall: function () {\n          tywx.tt.Utils.showWXBanner();\n          tip_view.curnode.removeFromParent(true);\n          tip_view.curnode = null;\n     },\n\n     onLoad() {\n         \n         \n     },\n\n     /**\n      * 初始化\n      */\n     init:function(){\n         var self = this;\n         this.shareBtnScript = this.shareBtn.getComponent(\"ShareButton\");\n         this.shareBtnScript.setButtonCallType(1);\n         this.shareBtnScript.setSuccessCall(function () {\n             self.success();\n             self.closeCall();\n         });\n     },\n\n     /**\n      * @description 设置按钮调用类型\n      * @param {Number} calltype 1 分享 2视频\n      */\n     setCallType:function(calltype){\n           this.shareBtnScript.setButtonCallType(calltype);\n     },\n\n     /**\n      * @description 设置title\n      * @param {String} title \n      */\n     setTitle:function (title) {\n         this.titleLabel.string = title;\n     },\n\n     /**\n      * @description 设置提示内容\n      * @param {String} tap \n      */\n     setTap: function (tap) {\n         this.tapLabel.string = tap;\n     },\n\n     /**\n      * @description 设置看视频或者分享的回调\n      * @param {Function} success 看视频或分享成功后的回调\n      */\n     setSuccessCallBack: function (success) {\n         this.success = success;\n     },\n\n     /**\n      * @description 设置分享或者视频的类型\n      * @param {Object} config 配置分享点的参数\n      */\n     setShareConfig: function (config) {\n         this.shareBtnScript.setShareConfig(config);\n     },\n\n     start() {\n\n     },\n\n     statics: {\n         curnode: null,\n         /**\n          * @显示当前的提示页面信息\n          * @param {Object} config 显示的相关配置参数\n          * @summary \n          * config.success: Function 回调参数 \n          * config.title: String 分享标题 \n          * config.tip: String 提示类容 \n          * config.config: Object 分享点的信息\n          * calltype: Number 回调类型\n          */\n         show:function(config){\n             cc.loader.loadRes(tip_view_path, (err, prefab) => {\n                 if (!err) {\n                     let tipview = cc.instantiate(prefab);\n                     let tip_view_script = tipview.getComponent('tip_view');\n                     tip_view_script.init();\n                     tip_view_script.setTap(config.tip || \"请设置提示类容\");\n                     tip_view_script.setTitle(config.title || \"提示\");\n                     tip_view_script.setShareConfig(config.config);\n                     tip_view_script.setSuccessCallBack(config.success);\n                     tip_view_script.setCallType(config.calltype);\n                     tip_view.curnode = tipview;\n                     tywx.tt.log(\"当前的VIE\");\n                     cc.director.getScene().addChild(tipview,999999);\n                 }\n             });\n         }\n     }\n\n     // update (dt) {},\n });\n\n module.exports = tip_view;"]}