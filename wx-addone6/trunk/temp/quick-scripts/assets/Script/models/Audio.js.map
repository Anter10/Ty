{"version":3,"sources":["Audio.js"],"names":["curAudioState","cc","Class","extends","Component","properties","audioSource","type","AudioSource","default","audioRes","Sprite","onLoad","audioEngine","setMaxWebAudioSize","changeTexture","tywx","ado","AudioManager","getIsMute","changeButtonTexture","controlAudio","pause","stopMusic","setIsMute","play","stop","resume","LOGE","node","active"],"mappings":";;;;;;AAAA;;;;;AAKA,IAAIA,gBAAgB,CAApB,EAAuB;;AAEvBC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,qBAAa;AACTC,kBAAMN,GAAGO,WADA;AAETC,qBAAS;AAFA,SADL;AAKRC,kBAAU;AACND,qBAAS,EADH;AAENF,kBAAMN,GAAGU;AAFH;AALF,KAFP;;AAaL;;;;;;;;;;;AAWAC,YAAQ,kBAAY;AAChBX,WAAGY,WAAH,CAAeC,kBAAf,CAAkC,OAAO,EAAzC;AACA,aAAKC,aAAL;AACH,KA3BI;;AA6BLA,mBAAc,yBAAU;AAClB,YAAIC,KAAKC,GAAL,CAASC,YAAT,CAAsBC,SAAtB,EAAJ,EAAuC;AACnCnB,4BAAgB,CAAhB;AACH,SAFD,MAEO;AACHA,4BAAgB,CAAhB;AACH;;AAED,aAAKoB,mBAAL;AACL,KArCI;;AAuCL;;;;;;;;;;;AAWAC,kBAAc,wBAAY;;AAEtB,YAAIrB,iBAAiB,CAArB,EAAwB;AACpB,iBAAKsB,KAAL;AACA;AACAN,iBAAKC,GAAL,CAASC,YAAT,CAAsBK,SAAtB;AACAvB,4BAAgB,CAAhB;AACAgB,iBAAKC,GAAL,CAASC,YAAT,CAAsBM,SAAtB,CAAgC,IAAhC;AACH,SAND,MAMO,IAAIxB,iBAAiB,CAArB,EAAwB;AAC3B,iBAAKyB,IAAL;AACA;AACAT,iBAAKC,GAAL,CAASC,YAAT,CAAsBM,SAAtB,CAAgC,KAAhC;AACA;AACAxB,4BAAgB,CAAhB;AACH;AACD;AACA,aAAKoB,mBAAL;AACH,KAnEI;;AAqEL;;;;;;;;;;;AAWAK,UAAM,gBAAY;AACd,aAAKnB,WAAL,CAAiBmB,IAAjB;AACH,KAlFI;;AAqFL;;;;;;;;;;;AAWAH,WAAO,iBAAY;AACf,aAAKhB,WAAL,CAAiBgB,KAAjB;AACH,KAlGI;;AAoGL;;;;;;;;;;;AAWAI,UAAM,gBAAY;AACd,aAAKpB,WAAL,CAAiBoB,IAAjB;AACH,KAjHI;;AAmHL;;;;;;;;;;;AAWAC,YAAQ,kBAAY;AAChB,aAAKrB,WAAL,CAAiBqB,MAAjB;AACH,KAhII;;AAmIL;;;;;;;;;;;AAWAP,yBAAqB,+BAAY;AAC7BJ,aAAKY,IAAL,CAAU,KAAKlB,QAAL,CAAc,CAAd,CAAV;AACA,YAAIV,iBAAiB,CAArB,EAAwB;AACpB,iBAAKU,QAAL,CAAc,CAAd,EAAiBmB,IAAjB,CAAsBC,MAAtB,GAA+B,KAA/B;AACA,iBAAKpB,QAAL,CAAc,CAAd,EAAiBmB,IAAjB,CAAsBC,MAAtB,GAA+B,IAA/B;AACH,SAHD,MAGO,IAAI9B,iBAAiB,CAArB,EAAwB;AAC3B,iBAAKU,QAAL,CAAc,CAAd,EAAiBmB,IAAjB,CAAsBC,MAAtB,GAA+B,IAA/B;AACA,iBAAKpB,QAAL,CAAc,CAAd,EAAiBmB,IAAjB,CAAsBC,MAAtB,GAA+B,KAA/B;AACH,SAHM,MAGA;AACHd,iBAAKY,IAAL,CAAU,MAAV;AACH;AACJ;;AAzJI,CAAT","file":"Audio.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["/*\n   声音播放控件控制按钮\n   声音文件在不同的预设里面设置\n   created by gyc on 2018-08-02.\n*/\nvar curAudioState = 1; // 1: 默认状态可以播放音乐\n\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        audioSource: {\n            type: cc.AudioSource,\n            default: null\n        },\n        audioRes: {\n            default: [],\n            type: cc.Sprite,\n        }\n    },\n\n    /*\n        调用: 节点加载完成后的回调\n        功能: 节点加载完成后的一些UI逻辑处理\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n    onLoad: function () {\n        cc.audioEngine.setMaxWebAudioSize(1024 * 10);\n        this.changeTexture();\n    },\n\n    changeTexture:function(){\n          if (tywx.ado.AudioManager.getIsMute()) {\n              curAudioState = 0;\n          } else {\n              curAudioState = 1;\n          }\n          \n          this.changeButtonTexture();\n    },\n\n    /*\n         调用: 点击按钮的时候调用\n         功能: 控制声音的开关和显示\n         参数: [\n             无\n         ]\n         返回值:[\n             无\n         ]\n         思路: 逻辑需要\n     */\n    controlAudio: function () {\n\n        if (curAudioState == 1) {\n            this.pause();\n            //tywx.stopMusic();\n            tywx.ado.AudioManager.stopMusic();\n            curAudioState = 0;\n            tywx.ado.AudioManager.setIsMute(true);\n        } else if (curAudioState == 0) {\n            this.play();\n            //tywx.playMusic();\n            tywx.ado.AudioManager.setIsMute(false);\n            // tywx.ado.AudioManager.playMusic(tywx.ado.Configs.MUSICS.BG_MUSIC);\n            curAudioState = 1;\n        }\n        // 控制显示\n        this.changeButtonTexture();\n    },\n\n    /*\n        调用: 由控制方法调用\n        功能: 播放声音\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    play: function () {\n        this.audioSource.play();\n    },\n\n\n    /*\n        调用: 由控制方法调用\n        功能: 暂停声音\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    pause: function () {\n        this.audioSource.pause();\n    },\n\n    /*\n        调用: 由控制方法调用\n        功能: 停止当前播放声音\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    stop: function () {\n        this.audioSource.stop();\n    },\n\n    /*\n        调用: 由控制方法调用\n        功能: 恢复声音\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    resume: function () {\n        this.audioSource.resume();\n    },\n\n\n    /*\n        调用: 点击按钮的时候调用\n        功能: 更换Button的显示纹理\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    changeButtonTexture: function () {\n        tywx.LOGE(this.audioRes[0]);\n        if (curAudioState == 0) {\n            this.audioRes[0].node.active = false;\n            this.audioRes[1].node.active = true;\n        } else if (curAudioState == 1) {\n            this.audioRes[0].node.active = true;\n            this.audioRes[1].node.active = false;\n        } else {\n            tywx.LOGE(\"状态不对\");\n        }\n    }\n\n});\n"]}