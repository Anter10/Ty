{"version":3,"sources":["gamemain.js"],"names":["config","require","gezi","mask","maxzorder","gezi_map","gamemain","cc","Class","extends","Component","properties","scoreLabel","default","type","Label","showalertmsg","num","allpngs","Prefab","showNumberPrefab","celltile","stars","Node","stopView","tupojilu","fuHuo","fuHuoBtn","stopV","stopButton","pjlView","openboxview","itemview","yyview","goodEft","coolEft","awesEft","unbeliveEft","chuiziEft","giveYouItemLabel","giveYouRedPackLabel","loseScoreLabel","maxScoreLabel","sgfldjLabel","sharelqScoreLabel1","sharelqScoreLabel2","GameOver","loseShareButtton","pjlShareButtton","topRootView","musicBtn","itemhelpview","loseRestartGameBtn","friendsNode","mergeAniNode","helpview","pjlScoreLabel","ljnumberLabel","itemframes","SpriteFrame","maxscoreLabel","recoverNumberLabel","curmaxnumberLabel","fh1Label","fh2Label","moneyLabel","dlqBtnMoneyLabel","openBoxIconSprite","Sprite","paimingSprite","effect","djitem","lifeStarPrefab","gameOut","friendIcon","stopViewBack","tupoJIluAni","helpViewPre","mflqBtn","hpHelpTips","gameOutRoot","luckboxroot","cellUpView","btRootView","addScoreLabelPools","NodePool","addScoreNode","getMoneyBtn","gameOverMaxRoot","lianjiEmpty","lianjiNodePrefab","boomEffect","mfNodePools","bzEffectNodePools","comoboNodePools","boomEffectPrefab","bg","restart","Button","score","point","tywx","ado","hpvalue","g_mask_samecnt","g_clickid","gamestate","gamestatetime","maxnum","lianjiNumber","g_gezi","g_mask","allitems","curtimeawaypre","isShowFIcon","recoverNumber","hadShowPjl","allOpenItems","produceItem","isRestartGame","showboxNumber","prepoint","hadClickScreen","curUsingItemData","isUsingItem","refreshingMask","hasProduceNewScore","hadAddNum","allmergecellIds","showAddTime","hadProducetantenNUmber","startDropTime","curGiveScore","hadshowlqbox","curshowxhgs","allxhggz","alljzxhgid","allshowshareids","twocellexchange","playjjaniing","curmaxNumber","curPreStorePData","ryBox","ryBoxBack","ryBoxBtn","isitemhelphide","curmflqIsRedPacket","useItemNumber","curRedPacketStatue","redpacketicon","getRedPacketBtn","fhShowLabel","fhHideLabel","fhDjsLabel","adNode","quanSprite","mflqhideLabel","mflqshowLabel","mflqshareNode","returnBtnNode","closeBtnNode","mfAniNode","setCurMaxNumber","getCurMaxNumber","addJHCell","cell","length","console","log","clearJHCell","exchangeTWOCell","addXHGId","id","dealAddStoreMaxNum","starNum","hadXHGId","ti","addXHGCell","dealXhgCells","mai","getAllmask","getComponent","setCurNum","showHG","getIDData","onLoad","an","AdManager","getAdNodeByTag","adNodeList","hideAdNode","maxpoint","pos","convertToWorldSpace","position","JSON","stringify","pos1","view","getVisibleSize","width","height","gamecenter","inGame","useryboxnumber","curcount","i","scoreNodeLabel","instantiate","put","mfnode","efnode","lockupdate","setShareConfig","Constants","ShareConfig","POJILU_SHARE","string","self","tmp_lbid","tnum","node","cellt","script","setClickCall","data","qzcall","palyAudioByIndex","GameCenterConfig","SOUNDS","POPUPCLOSE","touchEndCallback","push","parent","v2","setId","tmp_g","getAllgz","tmp_m","publicwx","tex","Texture2D","prerandomnumber","initgame","cantuserpoint","on","event","tmp_progress","loadProgress","givePlayerItems","showItem","LOGE","fhBtnShow","fhbut","fhcall","recoverGame","hycall","fhsbCallBack","errorcall","setShareGroupCall","setSuccessCall","setErrorCall","RECOVER_GAME_SHARE_VIDEO","Timer","setTimer","showMinFriend","macro","REPEAT_FOREVER","hideMinFriend","gameState","waitclick","dealPlayerNoClickScreen","hideView","Utils","showWXBanner","active","dealPlayerClickScreen","mflq","produceHPAni","auditing","setReactCall","lingQuBox","hideWXBanner","FREE_GIFT_SHARE","showNumberNode","setCloseCall","showmflqBtn","getShareComponent","getChildByName","doubleScore","setStoreSucCallBack","lingQuItem","firstShowHelpView","changeTexture","game","canvas","cw","ch","is_ipx","isIpx","is_ot","y","showBanner","btnRefreshGameOverPhotoCallback","flushRedPacketBtns","initShowBoxButton","RedPacketInfo","formatCashFen2Yuan","totalAmount","isPad","tmp_view_screen","tmp_view_top_screen","s1","getContentSize","s2","s1_aim_h","s2_aim_h","s1_scale","s2_scale","scale","showCrossAd","NotificationCenter","listen","Events","ADO_EVENT_RED_PACKET_CHANGE","onRedPacktChange","flushMoneyNumber","onDestroy","outGame","destroyWXBanner","addxhgNumber","removexhgNumber","thn","removexhgId","share_control","share_control_2","comboitem","random","parseInt","Math","isCanWatchVideo","isMinGanIP","mflqVideo","mflqShare","check","setButtonCallType","uncheck","FREE_GIFT_SHARE_VIDEO","toggleChecked","toggle","isChecked","adInfos","rawAdInfoList","tmpAdInfo","adButton","jump2MiniProgramByConfig","spriteIco","loader","load","icon_url","err","texture","showmsm2","showmsm1","hasShowxhgNum","hasShowxhgId","isWaiting","setWaitClickState","gameover","statelocking","combo_level_new","good","dealLianJiNumber","showRyBox","showRYBoxButton","pjnumber","getAllPJNumber","ru_yi_box_limit_num","hadshowrybox","animation","Animation","play","setWaitNum","waitnum","allcellids","resetAllMask","checkmaskbyid","minCanRemoveNumber","stopAllActions","delay","delayTime","letUserClickTime","idindex","call","callFunc","cellid","precellid","stopDaijiEff","playDaijiEff","seq","sequence","rep","repeatForever","runAction","ci","showPlayMethod","helpviewpre","destroy","x","helpviewscript","setIsGame","showUseHpHelp","setStartGameCall","itemIndex","allitem","item","itemsceipt","setData","canupdate","showAlert","drawPhyPoint","itemhelpscript","showNum","value","showChuiZi","updateItemByData","dealAllItems","repeateItems","giveitems","djIndex","titem","initGivePlayerItemNumber","Util","setItemToLocalStorage","showOneHpEf","xx1Icon","getNumberOfRunningActions","newVec2","new1Vec2","tmove","moveTo","abs","itmindex","tdata","storeAllItem","addRecoverNumber","maxrnum","msg","wx","showToast","title","icon","duration","showAlertMSG","ty","pri_pos","rc","move","moveBy","showTouchEffect","touchpos","showCDAni","caiDaiAni","zIndex","removeCall","ani","showStopView","showSubStopView","stopCall","items","getItemFromLocalStorage","undefined","parse","e","titemIndex","storitem","openitemIndex","topenitem","getData","produceItems","tindex","randomFrom","itemid","itemnum","itemname","randomNum","box_rate","sub1","name","add2","chui","lowerValue","upperValue","floor","ctor","getAllPathByitemValue","usingitem","setnum","settoblock","block","effectid","effecttime","setMaxNumber","checkclick","showWXToast","qzadd","curaddnum","id_keep","id_dest","mpos","useCZClick","maxScoreShow","index","anim","finishCallback","stop","tid","step","refreshbymask","drop_time","dodrop","merge_delay_time","animateState","wrapMode","WrapMode","Normal","mfBoom","tcellindex","getBZEFNode","cindex","renumber","celltileColors","color","Color","BLACK","fromHEX","calldrop","opacity","callhide","delay1","delay2","seqs","update","dt","clickdomove","waitdomovetime","tickmove","tickeffect","star","star1","draw","_updateSubDomainCanvas","waitmfmergetime","sc","getMergeTime","baseScore","label_id","speed_keep","gezi_h_s","actiontime_keep","from","adjustmove","playMergeAnimation","addGetScoreLabelOnTile","hadMFInMergeBlock","showAnimationWhenScoreBiggerThanTen","domove","gameOverCallBack","finalDealMask","mfmergescript","hideThanTenIcon","addMoreThanNumberEffect","dealDoMove","dealLianJiLogic","hadmf","idIndex","isShowMf","audioIndex","COMBO","playZhEff","LOGD","mt","merge_time","ret","showLianJiEffect","lianjinode","getComboNode","lianjiescript","setNumber","setLianjiNode","putLianJiNode","bfound","j","onFinished","playGood","NICE","cool","playCool","COOL","awesome","playAwesome","GREAT","unbelive","playUnbelive","SUPER","fileName","AudioManager","playSound","showBox","animationState","initStars","allstars","starIndex","scaleX","scaleY","show","hide","stime","scaletime","tscale","scaleBoom","scaleTo","scaleSmaller","visibleControllButton","vis","commonScaleIn","returnBtnCall","storeScore","resetProgerss","maxscore","loadItem","showOverFriendsPH","tdjs","totalPassTime","totalrepeate","djsCall","setFHBtnCallBack","tseq","fiverepeat","repeat","calltype","fuhuo","videoFH","shareFH","RECOVER_SHARE_GAME_SHARE","postMessage","method","window","sharedCanvas","flushPHBView","pjlCallBack","showPjlScore","closePjlView","mfani","initgameing","hadstorephotonumber","useitemnumber","mfids","life","recovernumber","getrandomnum","mfidindex","showThanTenIcon","needcheck","changenumbymask","startDropAnimation","storescorevalue","setMaxScore","allpos","startGameDropTime","reset","findtopinmask","tmpid1","rowcellNumber","tmpid2","checkmaskleft","checkmaskdownleft","checkmaskdownright","checkmaskright","checkmaskupleft","checkmaskupright","checkDirPaths","bj","add","initGameMaxNum","createdNum","topid","disy","disx","dis","posx","posy","spx","spy","gezi_size","adjustdrop","settoblockvalue","createNewNumber","isCreatePJNum","max_nums","Configs","create_num_config","rates","pj_rate","rate","pj_num","pj_config","min_v","max_v","values","v","total","gzindex","getPjNumberName","luck","sjs","ttindex","sindex","luck_block","max_num","tgl","allids","limit_combo","pjNumber","unlucky_fudu","fudu","getUnluckNum","avileble_nums","getAvilableNumsByPJNum","max_density","getMaxDensityByCombo","density_info","getDensityInfoById","max","all_info","all","has","get","info","combo","densities","combo_density_config","getMfData","getId","map","Map","tcellIndex","key","set","min","backFirstPage","saveProgress","director","loadScene","destroyFinish","saveItem","backCall","logWithColor","bpos","rest","screen","getVisibleSizeInPixel","isrestart","printMaskMsg","gzIndex","showMSG","openDataContext","getOpenDataContext","initWithElement","handleLoadedTexture","spriteFrame","giveItems","dontsetnull","giveitem","notneedshow","findata","itemdata","dj","rvalue","cn","sbr","show_box_rate","pow","comboz","ran","is_show","show_gift_box_combo","dealData","result","qzrequest","nextAmount","needShare","StateInfo","networkConnected","param","success","fail","requestRedPacket","is_gift_prop","frameindex","itemLabel","zsdjLabel","redmsgLabel","endpos","finishCall","FLY_REDPACKET","simpleBezierAction","getRedPacket","ranRate","red_packet","restartGame","loseRestartGame","startNewGame","cmergeAniNode","mergeAni","isIPHX","animState","getLabel","label","size","labelScrpt","getMfNode","tiles","shownum","tileIndex","dealAddNumber","scalesm","mtop","spawn","scalex","scaley","prenum","needaddstore","shareDoubleScore","storePhoto","contentsize","ds","dcs","rate_width","rate_height","d_x","d_y","rate_x","rate_y","w","h","toTempFilePath","destWidth","destHeight","quality","fileType","res","saveImage2PhoneByUrl","tempFilePath","hadShowShareLJ","t","createAndcreateAndShowWXBanner","schedule","bannerRefresh","WXAdConfig","bannerRefreshTime","addRyBoxNumber","init","getCommenItemNode","photo_urls","PYQImg","GameOverPhotos","showPicIndex","pngurl","SystemInfo","cdnPath","refreshSpriteByUrl","kzHpNumber","getRedPacketCall","getRedPacketMoneyCall","getRedPacketMoney","ADDMONEY","state","loadRes","prefab","prefabNode","addPersistRootNode","showUI","showRedPacketTransferPop","getMFTargetCellTileId","allselectid","sort","d1","d2","finishcallback","lsversion","curpos","ids","targetpos","Vec2","angle","radian","q1x","q1","cos","q2x","q2","speed","distance","sqrt","bztime","sp","ep","dist","normalPos","sub","normalizeSelf","cfg","bezier","bezierTo","easing","easeSineIn","BOOM"],"mappings":"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","file":"gamemain.js","sourceRoot":"../../../../assets/Script","sourcesContent":["/*\n    游戏的逻辑UI\n    游戏的操作的主要逻辑在这个module里面编写\n    created by gyc on 2018-08-01.\n*/\n\n// 倒入游戏涉及到的module\nvar config = require(\"AddOneConfig\")\nvar gezi = require(\"GeZi\")\nvar mask = require(\"GeZiMask\")\nvar maxzorder = 999;\n\nvar gezi_map = [\n    0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, // 4\n    0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, // 5\n    0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, // 6\n    1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, // 7\n    0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, // 6\n    0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, // 5\n    0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0 // 4\n];\nvar gamemain = cc.Class({\n    extends: cc.Component,\n    properties: {\n        scoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n        showalertmsg: {\n            default: null,\n            type: cc.Label\n        },\n        num: {\n            default: [],\n            type: cc.Label\n        },\n        allpngs: {\n            default: [],\n            type: cc.Prefab\n        },\n        showNumberPrefab: {\n            default: null,\n            type: cc.Prefab\n        },\n        celltile: {\n            default: null,\n            type: cc.Prefab\n        },\n        stars: {\n            default: [],\n            type: cc.Node\n        },\n        stopView: {\n            default: null,\n            type: cc.Node\n        },\n        tupojilu: {\n            default: null,\n            type: cc.Node\n        },\n\n        fuHuo: {\n            default: null,\n            type: cc.Node\n        },\n        fuHuoBtn: {\n            default: null,\n            type: cc.Node\n        },\n        stopV: {\n            default: null,\n            type: cc.Node\n        },\n        stopButton: {\n            default: null,\n            type: cc.Node\n        },\n        pjlView: {\n            default: null,\n            type: cc.Node\n        },\n        openboxview: {\n            default: null,\n            type: cc.Node\n        },\n        itemview: {\n            default: null,\n            type: cc.Node\n        },\n\n        yyview: {\n            default: null,\n            type: cc.Node,\n        },\n\n        goodEft: {\n            default: null,\n            type: cc.Node\n        },\n\n        coolEft: {\n            default: null,\n            type: cc.Node\n        },\n\n        awesEft: {\n            default: null,\n            type: cc.Node\n        },\n\n\n        unbeliveEft: {\n            default: null,\n            type: cc.Node\n        },\n\n        chuiziEft: {\n            default: null,\n            type: cc.Node\n        },\n\n        giveYouItemLabel: {\n            default: null,\n            type: cc.Label\n        },\n        giveYouRedPackLabel: {\n            default: null,\n            type: cc.Label\n        },\n        loseScoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n        maxScoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n        sgfldjLabel: {\n            default: null,\n            type: cc.Label\n        },\n        sharelqScoreLabel1: {\n            default: null,\n            type: cc.Label\n        },\n        sharelqScoreLabel2: {\n            default: null,\n            type: cc.Label\n        },\n\n        GameOver: {\n            default: null,\n            type: cc.Label\n        },\n        loseShareButtton: {\n            default: null,\n            type: cc.Node\n        },\n        pjlShareButtton: {\n            default: null,\n            type: cc.Node\n        },\n        topRootView: {\n            default: null,\n            type: cc.Node\n        },\n        musicBtn: {\n            default: null,\n            type: cc.Node\n        },\n\n        itemhelpview: {\n            default: null,\n            type: cc.Node\n        },\n\n\n        loseRestartGameBtn: {\n            default: null,\n            type: cc.Node\n        },\n\n        friendsNode: {\n            default: null,\n            type: cc.Node\n        },\n        mergeAniNode: {\n            default: null,\n            type: cc.Prefab\n        },\n\n        helpview: {\n            default: null,\n            type: cc.Node\n        },\n        pjlScoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        ljnumberLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        itemframes: {\n            default: [],\n            type: cc.SpriteFrame,\n        },\n\n        maxscoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        recoverNumberLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        // 本局最大数的label\n        curmaxnumberLabel: {\n            default: null,\n            type: cc.Label\n        },\n        // 本局最大数的label\n        fh1Label: {\n            default: null,\n            type: cc.Label\n        },\n        // 本局最大数的label\n        fh2Label: {\n            default: null,\n            type: cc.Label\n        },\n        // 玩家红包数量的Label\n        moneyLabel: {\n            default: null,\n            type: cc.Label\n        },\n        // 待领取按钮上的玩家红包数量的Label\n        dlqBtnMoneyLabel: {\n            default: null,\n            type: cc.Label\n        },\n        openBoxIconSprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        // 排名的Sprite\n        paimingSprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n\n        effect: {\n            default: null,\n            type: cc.Prefab,\n        },\n        djitem: {\n            default: null,\n            type: cc.Prefab,\n        },\n        lifeStarPrefab: {\n            default: null,\n            type: cc.Prefab,\n        },\n        gameOut: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        friendIcon: {\n            default: null,\n            type: cc.Sprite,\n        },\n        stopViewBack: {\n            default: null,\n            type: cc.Sprite,\n        },\n        tupoJIluAni: {\n            default: null,\n            type: cc.Prefab,\n        },\n        helpViewPre: {\n            default: null,\n            type: cc.Prefab,\n        },\n        mflqBtn: {\n            default: null,\n            type: cc.Node,\n        },\n        // 血量提示tip\n        hpHelpTips: {\n            default: null,\n            type: cc.Node,\n        },\n\n        gameOutRoot: {\n            default: null,\n            type: cc.Node,\n        },\n\n        luckboxroot: {\n            default: null,\n            type: cc.Node,\n        },\n\n        cellUpView: {\n            default: null,\n            type: cc.Node,\n        },\n\n        btRootView: {\n            default: null,\n            type: cc.Node,\n        },\n        addScoreLabelPools: {\n            default: null,\n            type: cc.NodePool,\n        },\n\n        addScoreNode: {\n            default: null,\n            type: cc.Prefab,\n        },\n        getMoneyBtn: {\n            default: null,\n            type: cc.Node,\n        },\n        gameOverMaxRoot: {\n            default: null,\n            type: cc.Node,\n        },\n\n        lianjiEmpty: {\n            default: null,\n            type: cc.Node,\n        },\n\n        lianjiNodePrefab: {\n            default: null,\n            type: cc.Prefab,\n        },\n\n        boomEffect: {\n            default: null,\n            type: cc.Node,\n        },\n\n        mfNodePools: {\n            default: null,\n            type: cc.NodePool,\n        },\n\n        bzEffectNodePools: {\n            default: null,\n            type: cc.NodePool,\n        },\n        comoboNodePools: {\n            default: null,\n            type: cc.NodePool,\n        },\n        boomEffectPrefab: cc.Prefab,\n        // 游戏的背景\n        bg: cc.Node,\n        // 重新开始的按钮\n        restart: cc.Button,\n        // 当前玩家得分\n        score: 0,\n        // 玩家当前体力 默认为最大值\n        point: tywx.ado.hpvalue,\n        // 当前点击的块ID\n        g_mask_samecnt: 0,\n        //点击的格子ID\n        g_clickid: -1,\n        //游戏状态-无，等待点击，移动，下落等\n        gamestate: 'null',\n        //游戏状态的计时\n        gamestatetime: 0,\n        //当前最大值\n        maxnum: 5,\n        //此次点击产生的连击数\n        lianjiNumber: 1,\n        // 存放每个格子的数组\n        g_gezi: [],\n        // 存放每个mask的数组\n        g_mask: [],\n        // 玩家当前道具\n        allitems: [],\n        // 此时距离上次点击屏幕有多长时间\n        curtimeawaypre: 10,\n        // 控制隐藏好友\n        isShowFIcon: false,\n        // 此局复活次数\n        recoverNumber: 0,\n        // 此局是否展示过破纪录\n        hadShowPjl: false,\n        // 此局是否展示过破纪录\n        allOpenItems: [],\n        // 此次连接产生的道具\n        produceItem: null,\n        // 此局是否是进入游戏后的重新开始的局\n        isRestartGame: false,\n        // 显示宝箱的数量\n        showboxNumber: 0,\n        // 上一次的生命值\n        prepoint: 0,\n        // 时间段内玩家是否有点击过屏幕 true: 有点击 false: 没有点击 \n        hadClickScreen: false,\n        // 当前处于使用状态的道具ID\n        curUsingItemData: null,\n        // 是哦用道具不消耗生命\n        isUsingItem: false,\n        // 当前是否在刷新mask\n        refreshingMask: false,\n        // 此次点击是否有分数产生\n        hasProduceNewScore: false,\n        // 此次是否已经加过num\n        hadAddNum: false,\n        // 当前需要合并的所有块的ID\n        allmergecellIds: [],\n        // 显示加分时间\n        showAddTime: 0.1,\n        // 此次点击是否产生过大于10的分享\n        hadProducetantenNUmber: false,\n        // 开始动画时间\n        startDropTime: 0,\n        // 当前奖励分数\n        curGiveScore: 0,\n        // 是否已经弹出过领取界面\n        hadshowlqbox: false,\n        // 记录当前数字显示过小皇冠\n        curshowxhgs: [],\n        // 记录已经标示有小皇冠的格子\n        allxhggz: [],\n        // 所有禁用小皇冠ID\n        alljzxhgid: [],\n        // 所有展示过分享领奖的数字\n        allshowshareids: [],\n        // 交换道具的使用\n        twocellexchange: [],\n        // 打开宝箱之前禁止操作盘面\n        playjjaniing: false,\n        // 本局合出来的最大数\n        curmaxNumber: 5,\n        // 之前存储的进度数据\n        curPreStorePData: null,\n        // 领取如意box的按钮\n        ryBox: cc.Node,\n        ryBoxBack: cc.Sprite,\n        // 如意宝箱的按钮\n        ryBoxBtn: cc.Node,\n        // 控制帮助显示广告\n        isitemhelphide: false,\n        // 当前的免费领取道具是否是领取红包\n        curmflqIsRedPacket: false,\n        // 每局限制使用的道具数量\n        useItemNumber: 0,\n        // 当前红包的状态\n        curRedPacketStatue: 0,\n        // 红包飞行图标\n        redpacketicon: {\n            default: null,\n            type: cc.Node,\n        },\n        getRedPacketBtn: {\n            default: null,\n            type: cc.Node,\n        },\n        fhShowLabel: cc.Label,\n        fhHideLabel: cc.Label,\n        fhDjsLabel: cc.Label,\n        adNode: cc.Node,\n        quanSprite: cc.Node,\n        mflqhideLabel: cc.Label,\n        mflqshowLabel: cc.Label,\n        mflqshareNode: cc.Node,\n        returnBtnNode: cc.Node,\n        closeBtnNode: cc.Node,\n        mfAniNode: cc.Prefab,\n    },\n\n    /**\n     * @description 设置当前合出的最大数\n     * @param {Number} maxnum 设置的最大数\n     */\n    setCurMaxNumber: function (maxnum) {\n        if (maxnum > this.curmaxNumber) {\n            this.curmaxNumber = maxnum;\n        }\n    },\n\n    // 得到最大数\n    getCurMaxNumber: function () {\n        return this.curmaxNumber;\n    },\n\n    /**\n     * @description 添加交换对象\n     * @param {celltile} cell 格子对象\n     */\n    addJHCell: function (cell) {\n        if (this.twocellexchange.length < 2) {\n            this.twocellexchange[this.twocellexchange.length] = cell;\n        } else {\n            console.log(\"交换格子数不对\");\n        }\n    },\n\n    /**\n     * @description 清空交换对象\n     */\n    clearJHCell: function () {\n        this.twocellexchange = [];\n    },\n\n    /**\n     * @description 使用交换道具的时候调用\n     */\n    exchangeTWOCell: function () {\n        if (this.twocellexchange.length == 2) {\n\n\n            // 交换完成后检查是否有合并\n        } else {\n            console.log(\"请选择交换对象\");\n        }\n    },\n\n    /**\n     * @description 添加展示过小皇冠的number\n     * @param {Number} id 对应的数字\n     */\n    addXHGId: function (id) {\n        this.alljzxhgid[this.alljzxhgid.length] = id;\n    },\n\n    // 处理当前保存的最大值以下的小皇冠ID\n    dealAddStoreMaxNum: function () {\n        console.log(\"游戏初始化的时候的最大值= \" + starNum);\n        for (var starNum = 7; starNum <= this.curmaxNumber; starNum++) {\n            if (starNum % 2 == 0) {\n                this.addXHGId(starNum);\n                this.allshowshareids[this.allshowshareids.length] = starNum;\n            }\n        }\n    },\n\n    /**\n     * @description 判断给定给的数字是否显示过皇冠\n     * @param {Number } id 数字\n     */\n    hadXHGId: function (id) {\n        for (var ti = 0; ti < this.alljzxhgid.length; ti++) {\n            if (this.alljzxhgid[ti] == id) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n    /**\n     * @description 添加小皇冠的cell\n     * @param {celltile} cell 格子对象\n     */\n    addXHGCell: function (cell) {\n        this.allxhggz[this.allxhggz.length] = cell;\n    },\n\n    /**\n     * @description 处理小皇冠的显示\n     */\n    dealXhgCells: function () {\n        for (var mai = 0; mai < this.getAllmask().length; mai++) {\n            if (this.allpngs[mai]) {\n                this.allpngs[mai].getComponent(\"celltile\").setCurNum(this.getAllmask()[mai].num);\n                this.allpngs[mai].getComponent(\"celltile\").showHG();\n            }\n\n        }\n    },\n\n    /**\n     * @description 得到对应格子的数据\n     * @param {Number} id 对应格子的ID\n     */\n    getIDData: function (id) {\n        return this.getAllmask()[id];\n    },\n\n    /**\n     * @description: 场景加载完成后的一些UI逻辑处理 \n     */\n    onLoad: function () {\n        let an = tywx.AdManager.getAdNodeByTag('GAME_START');\n        console.log(\"IIIIIIIIIIAD....\", an, tywx.AdManager.adNodeList.length);\n        if (an) an.hideAdNode();\n        this.maxpoint = tywx.ado.hpvalue;\n        this.pos = this.gameOutRoot.convertToWorldSpace(this.gameOutRoot.position);\n        console.log(JSON.stringify(this.pos1) + \" v= \" + JSON.stringify(cc.view.getVisibleSize()) + \"尺寸= \" + this.gameOutRoot.width + \" z = \" + this.gameOutRoot.height + \" 坐标 = \" + JSON.stringify(this.pos))\n        tywx.gamecenter = this;\n        tywx.ado.inGame(this);\n        this.addScoreLabelPools = new cc.NodePool();\n        this.mfNodePools = new cc.NodePool();\n        this.bzEffectNodePools = new cc.NodePool();\n        this.comoboNodePools = new cc.NodePool();\n        this.useryboxnumber = 0;\n        var curcount = 15;\n        for (let i = 0; i < curcount; ++i) {\n            let scoreNodeLabel = cc.instantiate(this.addScoreNode); // 创建节点\n            this.addScoreLabelPools.put(scoreNodeLabel); // 通过 putInPool 接口放入对象池\n        }\n\n        for (let i = 0; i < 5; ++i) {\n            let mfnode = cc.instantiate(this.mfAniNode);\n            this.mfNodePools.put(mfnode);\n        }\n\n        for (let i = 0; i < 5; ++i) {\n            let efnode = cc.instantiate(this.boomEffectPrefab);\n            this.bzEffectNodePools.put(efnode);\n        }\n\n        for (let i = 0; i < 5; ++i) {\n            let efnode = cc.instantiate(this.lianjiNodePrefab);\n            this.comoboNodePools.put(efnode);\n        }\n\n\n\n        this.lockupdate = false;\n        this.pjlShareButtton.getComponent(\"ShareButton\").setShareConfig(tywx.ado.Constants.ShareConfig.POJILU_SHARE);\n        // 初始分数显示为0\n        this.scoreLabel.string = this.score;\n        var self = this;\n\n        var tmp_lbid = -1;\n        this.tnum = [];\n        // 循环生成初始游戏\n        for (var i = 0; i < gezi_map.length; i++) {\n            tmp_lbid = -1;\n            if (gezi_map[i] == 1) {\n                var node = new cc.Node(\"node\");\n                var cellt = cc.instantiate(this.celltile);\n                var script = cellt.getComponent(\"celltile\");\n\n                script.setClickCall(function (data, celltile, qzcall) {\n                    self.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.POPUPCLOSE);\n                    if (!self.playjjaniing) {\n                        self.touchEndCallback(data, celltile, qzcall);\n                    }\n                });\n                this.allpngs.push(cellt);\n                cellt.parent = this.yyview;\n                cellt.position = cc.v2(0, 0);\n                node.position = cc.v2(0, 0);\n                node.parent = this.node;\n\n                this.tnum.push(1);\n                tmp_lbid = this.tnum.length - 1;\n                script.setId(i);\n                // console.log(\"当前的格子changdu  \" + this.tnum.length);\n                // cellt.active = false;\n            } else {\n                this.allpngs.push(null);\n            }\n\n            var tmp_g = new gezi(i, this, tmp_lbid);\n            this.getAllgz().push(tmp_g);\n            var tmp_m = new mask(i, this);\n            this.getAllmask().push(tmp_m);\n        }\n\n        console.log(\"格子图片总数 = \" + this.allpngs.length);\n        if (tywx.publicwx) {\n            this.tex = new cc.Texture2D();\n        }\n        var self = this;\n        // 游戏的点击逻辑\n        // this.node.on('touchend', function ( event ) {\n        //     if(self.stopView.active == false){\n        //         var mpos = event.touch.getLocation();\n        //         self.touchEndCallback(mpos.x,mpos.y);\n        //     }\n        // });\n        // 前一个产生的随机数\n        this.prerandomnumber = 0;\n        // 初始游戏\n        this.initgame();\n        this.cantuserpoint = false;\n        this.isRestartGame = false;\n        //   // 游戏的点击逻辑\n        this.stopViewBack.node.on('touchstart', function (event) {\n            return true;\n        });\n\n        this.gameOut.node.on('touchstart', function (event) {\n            return true;\n        });\n\n        this.ryBoxBack.node.on('touchstart', function (event) {\n            return true;\n        });\n\n\n\n        // var effect = cc.instantiate(this.effect);\n        // this.node.parent.addChild(effect);\n        // effect.x = 140;\n        // effect.y = 90;\n\n        // ! 读取进度\n        var tmp_progress = tywx.ado.loadProgress();\n        if (tmp_progress && tmp_progress == -1) {\n            this.givePlayerItems();\n        }\n        this.showItem();\n        // 设置复活按钮的点击回调\n        tywx.LOGE(\"dddds\" + JSON.stringify(config));\n        this.fhBtnShow();\n        let fhbut = this.fuHuo.getComponent(\"ShareButton\");\n        if (fhbut) {\n            var fhcall = function () {\n                console.log(\"fhcall fhcall\")\n                self.recoverGame();\n            }\n            var hycall = function () {\n                console.log(\"fhcall hycall\")\n                self.fhsbCallBack();\n            }\n\n            var errorcall = function () {\n                self.fhsbCallBack();\n            }\n            // 设置分享到组的成功回调\n            fhbut.setShareGroupCall(fhcall);\n            // 设置分享到好友的回调\n            fhbut.setSuccessCall(fhcall);\n            // 设置分享失败后的回调\n            fhbut.setErrorCall(hycall);\n            fhbut.setShareConfig(tywx.ado.Constants.ShareConfig.RECOVER_GAME_SHARE_VIDEO);\n        }\n        // 开启一个进程循环显示即将超逾的玩家\n        tywx.Timer.setTimer(self, function () {\n            self.showMinFriend();\n        }, 10, cc.macro.REPEAT_FOREVER, 0);\n\n        // // 开启一个进程循环隐藏即将超逾的玩家\n        tywx.Timer.setTimer(self, function () {\n            self.hideMinFriend();\n        }, 15, cc.macro.REPEAT_FOREVER, 5);\n\n\n        // console.log(\"显示如意宝箱了时间= \" + tywx.config.ruyiButtonDelaytime);\n        // 开一个线程监听次时间段用户是否有点击\n        tywx.Timer.setTimer(self, function () {\n            if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n                this.hadClickScreen = false;\n                self.dealPlayerNoClickScreen();\n            }\n        }, 15, 0, 15);\n\n        this.node.on('touchend', function (event) {\n            self.itemhelpview.getComponent(\"ItemHelp\").hideView();\n            self.curUsingItemData = null;\n            if (self.isitemhelphide == true) {\n                tywx.ado.Utils.showWXBanner();\n                self.isitemhelphide = false;\n            }\n            self.itemhelpview.active = false;\n            self.dealPlayerClickScreen();\n            self.hadClickScreen = true;\n        });\n\n        // 设置免费领取的回调\n        this.mflq = this.mflqBtn.getComponent(\"ShareButton\");\n        this.produceHPAni(this.mflqBtn, 0.6, 1.1);\n        console.log(\"当前红包是否可以直接领取 \" + tywx.config.auditing);\n        if (tywx.config.auditing == true) {\n            this.mflq.setReactCall(true);\n        } else {\n            this.mflq.setReactCall(false);\n        }\n        this.mflq.setSuccessCall(function () {\n            self.lingQuBox();\n        });\n        this.mflq.setShareGroupCall(function () {\n            self.lingQuBox();\n        });\n\n        this.mflq.setErrorCall(function () {\n            console.log(\"关闭了广告了啊\");\n            tywx.ado.Utils.hideWXBanner();\n        });\n\n        this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE);\n\n        this.showNumberNode = cc.instantiate(this.showNumberPrefab);\n        this.showNumberNode.active = false;\n        this.showNumberNode.parent = this.node;\n\n        this.showNumberNode.getComponent(\"MoreTanNumber\").setCloseCall(function () {\n            self.hadshowlqbox = false;\n        });\n\n        var showmflqBtn = this.showNumberNode.getComponent(\"MoreTanNumber\").getShareComponent();\n        this.produceHPAni(this.showNumberNode.getChildByName(\"rootnode\").getChildByName(\"xin2048_baoxiang_03\").getChildByName(\"sharebuttton\").getChildByName(\"button\"), 0.6, 1.1);\n        showmflqBtn.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE);\n        if (tywx.config.auditing == true) {\n            showmflqBtn.setReactCall(true);\n        } else {\n            showmflqBtn.setReactCall(false);\n        }\n        showmflqBtn.setSuccessCall(function () {\n            // console.log(\"Helloc\");\n            // self.lingQuBox();\n            self.showNumberNode.active = false;\n            self.stopView.active = false;\n            self.hadshowlqbox = false;\n            self.showNumberNode.getComponent(\"MoreTanNumber\").doubleScore();\n        });\n        showmflqBtn.setShareGroupCall(function () {\n            // self.lingQuBox();\n            self.showNumberNode.active = false;\n            self.stopView.active = false;\n            self.hadshowlqbox = false;\n            self.showNumberNode.getComponent(\"MoreTanNumber\").doubleScore();\n        });\n        // 设置保存照片成功后的回调\n        this.showNumberNode.getComponent(\"MoreTanNumber\").setStoreSucCallBack(function () {\n            self.lingQuItem(true);\n            // console.log(\"当前已经领取成功\");\n        });\n        // this.showAnimationWhenScoreBiggerThanTen(14);\n        this.firstShowHelpView();\n        self.friendIcon.node.active = true;\n        this.musicBtn.getComponent(\"Audio\").changeTexture();\n        let [cw, ch] = [cc.game.canvas.width, cc.game.canvas.height];\n        let is_ipx = tywx.ado.Utils.isIpx();\n        let is_ot = ch / cw > 1.9;\n        if (is_ipx) {\n            //    this.friendIcon.node.y = this.friendIcon.node.y + 40;\n            this.topRootView.y = this.topRootView.y - 110;\n            this.itemview.y = this.itemview.y - 90;\n            this.btRootView.y = this.btRootView.y + 86;\n        } else if (is_ot) {\n            this.btRootView.y = this.btRootView.y + 94;\n        }\n        this.showBanner();\n        // ! Modify by luning [07-09-2018] 矫正道具位置\n        if (tywx.ado.Utils.isIpx()) {\n            console.log('// ! Modify by luning [07-09-2018] ipxipxipxipx');\n            //this.itemview.parent.position.y += 500;\n        }\n        this.btnRefreshGameOverPhotoCallback();\n        this.flushRedPacketBtns(0);\n        this.initShowBoxButton();\n        // 设置当前红包的显示金额\n        console.log(\"RedPacketInfo = \" + JSON.stringify(tywx.ado.RedPacketInfo))\n        this.moneyLabel.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(tywx.ado.RedPacketInfo.totalAmount) || 0.0}`;\n        this.dlqBtnMoneyLabel.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(tywx.ado.RedPacketInfo.totalAmount) || 0.0}`;\n        //! 适配pad \n        if (tywx.ado.Utils.isPad()) {\n            let tmp_view_screen = this.node.getChildByName('screen'); // 0.765\n            let tmp_view_top_screen = this.node.getChildByName('topscreen'); // 0.156\n            let s1 = tmp_view_screen.getContentSize();\n            let s2 = tmp_view_top_screen.getContentSize();\n            let s1_aim_h = this.node.getContentSize().height * 0.765;\n            let s2_aim_h = this.node.getContentSize().height * 0.156;\n            let s1_scale = s1_aim_h / s1.height;\n            let s2_scale = s2_aim_h / s2.height;\n            tmp_view_screen.scale = s1_scale;\n            tmp_view_top_screen.scale = s2_scale;\n        }\n\n        // ! 显示交叉导流广告\n        this.showCrossAd();\n        // 监听红包事件\n        tywx.NotificationCenter.listen(tywx.ado.Events.ADO_EVENT_RED_PACKET_CHANGE, this.onRedPacktChange, this);\n    },\n\n    /** \n     * @description 红包数量变化\n     */\n    onRedPacktChange: function () {\n        this.flushMoneyNumber();\n    },\n\n    /**\n     * @description 退出游戏\n     */\n    onDestroy() {\n        // this.printMaskMsg();\n        tywx.ado.outGame();\n\n        tywx.ado.Utils.destroyWXBanner();\n    },\n\n    /**\n     * @description 复活按钮的显示控制\n     */\n    fhBtnShow: function () {\n        // console.log(\"当前的版本信息 =\" + tywx.SystemInfo.version + JSON.stringify(config));\n        if (tywx.config.auditing == true) {\n            this.fuHuo.active = false;\n            this.loseRestartGameBtn.active = true;\n        } else {\n            this.fuHuo.active = true;\n            // this.loseRestartGameBtn.active = false;\n        }\n    },\n\n    /**\n     * @description 添加小皇冠显示过的格子数据\n     * @param {Number} num 格子显示的数字\n     * @param {Number} id 格子的ID\n     */\n    addxhgNumber: function (num, id) {\n        // if (tywx.gamecenter.hasShowxhgNum(num) == false && tywx.gamecenter.hasShowxhgNum(id) == false) {\n        this.curshowxhgs[this.curshowxhgs.length] = {\n            id: id,\n            num: num\n        };\n        // }\n    },\n\n    /**\n     * @description 根据数字移除格子的数据\n     * @param {Number} num 移除显示的格子数字\n     */\n    removexhgNumber: function (num) {\n        // console.log(\"当前的ID是1 = \" + JSON.stringify(this.curshowxhgs));\n        for (var thn = 0; thn < this.curshowxhgs.length; thn++) {\n            if (this.curshowxhgs[thn].num == num) {\n                // this.curshowxhgs.splice(thn, 1);\n                this.curshowxhgs[thn].num = -1;\n            }\n        }\n        // console.log(\"当前的ID是2 = \" + JSON.stringify(this.curshowxhgs));\n    },\n\n    /**\n     * @description 根据数字移除格子的数据\n     * @param {Number} num 移除显示的格子数字\n     */\n    removexhgId: function (id) {\n        // console.log(\"当前的ID是1 = \" + JSON.stringify(this.curshowxhgs));\n        for (var thn = 0; thn < this.curshowxhgs.length; thn++) {\n            if (this.curshowxhgs[thn].id == id) {\n                // this.curshowxhgs.splice(thn, 1);\n                this.curshowxhgs[thn].id = -1;\n            }\n        }\n        // console.log(\"当前的ID是2 = \" + JSON.stringify(this.curshowxhgs));\n    },\n\n    /**\n     * @description 初始化领取的\n     */\n    initShowBoxButton: function () {\n        const share_control = tywx.config.share_control_2.comboitem;\n        var random = parseInt(Math.random() * 100);\n        if (share_control[0] == \"video\" && tywx.ado.isCanWatchVideo) {\n            if (random <= share_control[1] || tywx.ado.isMinGanIP) {\n                this.mflqVideo();\n            } else {\n                this.mflqShare();\n            }\n        } else if (share_control[0] == \"share\" || !tywx.ado.isCanWatchVideo) {\n            if (random <= share_control[1] || !tywx.ado.isCanWatchVideo) {\n                this.mflqShare();\n            } else {\n                this.mflqVideo();\n            }\n        }\n\n        if (!tywx.ado.isCanWatchVideo) {\n            this.mflqshareNode.active = false;\n        }\n    },\n\n    mflqShare: function () {\n        this.mflqshareNode.active = true;\n        this.mflqhideLabel.string = \"免费领取\";\n        this.mflqshowLabel.string = \"免费领取\";\n        this.mflqshareNode.getComponent(\"cc.Toggle\").check();\n        this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE);\n        this.mflq.setButtonCallType(1);\n        if (tywx.ado.isMinGanIP || tywx.config.auditing) {\n            this.mflqshareNode.active = false;\n        }\n    },\n\n    mflqVideo: function () {\n        this.mflqshareNode.active = true;\n        console.log(\"tywx.config.auditing \" + tywx.config.auditing);\n        if (tywx.config.auditing == true) {\n            this.mflqhideLabel.string = \"免费领取\";\n            this.mflqshowLabel.string = \"免费领取\";\n            console.log(\"tywx.config.auditing1 \" + tywx.config.auditing);\n        } else {\n            this.mflqhideLabel.string = \"视频领取\";\n            this.mflqshowLabel.string = \"视频领取\";\n            console.log(\"tywx.config.auditing2 \" + tywx.config.auditing);\n        }\n\n        if (tywx.ado.isMinGanIP || tywx.config.auditing) {\n            this.mflqshareNode.active = false;\n        }\n        this.mflqshareNode.getComponent(\"cc.Toggle\").uncheck();\n        this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE_VIDEO);\n        this.mflq.setButtonCallType(2);\n    },\n\n    /**\n     * @description 复选框点击回调\n     * @param {Object} toggle 复选框本身\n     */\n    toggleChecked: function (toggle) {\n        if (!toggle.isChecked) {\n            if (tywx.config.auditing == true) {\n                this.mflqhideLabel.string = \"免费领取\";\n                this.mflqshowLabel.string = \"免费领取\";\n            } else {\n                this.mflqhideLabel.string = \"视频领取\";\n                this.mflqshowLabel.string = \"视频领取\";\n            }\n            this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE_VIDEO);\n            this.mflq.setButtonCallType(2);\n        } else {\n            this.mflqhideLabel.string = \"免费领取\";\n            this.mflqshowLabel.string = \"免费领取\";\n            this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE);\n            this.mflq.setButtonCallType(1);\n        }\n    },\n    showCrossAd() {\n        // 审核状态不显示\n        if (tywx.config.auditing === true) return;\n        if(true){\n            return;\n        }\n        let adInfos = tywx.AdManager.rawAdInfoList;\n        if (!adInfos || adInfos.length <= 0) return;\n        let tmpAdInfo = adInfos[0];\n        let adButton = this.adNode.getChildByName('adButton');\n        adButton.on('click', function () {\n            tywx.ado.Utils.jump2MiniProgramByConfig(tmpAdInfo);\n        });\n        let spriteIco = this.adNode.getChildByName('adIcon').getComponent(cc.Sprite);\n        let self = this;\n        cc.loader.load(tmpAdInfo.icon_url[0], (err, texture) => {\n            if (!err) {\n                // let new_sprite_frame = new cc.SpriteFrame(texture);\n                // spriteIco.spriteFrame = new_sprite_frame;\n                // spriteIco.node.setContentSize(cc.size(100, 100));\n                self.adNode.active = true;\n                console.log(\"刷新CDN图片成功\");\n            }\n        });\n        //tywx.ado.Utils.refreshSpriteByUrl(spriteIco,tmpAdInfo.icon_url[0],cc.size(100,100));\n    },\n    /**\n     * @description 测试日志方法2\n     */\n    showmsm2: function () {\n        //  console.log(\"showmsm2 = \" + JSON.stringify(this.curshowxhgs));\n    },\n\n    /**\n     * @description 测试日志方法1\n     */\n    showmsm1: function () {\n        // console.log(\"showmsm1 = \" + JSON.stringify(this.curshowxhgs));\n    },\n\n    /**\n     * @description 判断当前的数字是否显示小皇冠\n     * @param {Number} num 显示的数字\n     * @param {Number} id 显示格子的ID\n     */\n    hasShowxhgNum: function (num, id) {\n        if (this.curshowxhgs.length == 0) {\n            return false;\n        }\n        for (var ti = 0; ti < this.curshowxhgs.length; ti++) {\n            if (num == this.curshowxhgs[ti].num) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n    /**\n     * @description 判断当前的数字是否显示小皇冠\n     * @param {Number} num 显示的数字\n     * @param {Number} id 显示格子的ID\n     */\n    hasShowxhgId: function (id) {\n        if (this.curshowxhgs.length == 0) {\n            return false;\n        }\n        for (var ti = 0; ti < this.curshowxhgs.length; ti++) {\n            if (id == this.curshowxhgs[ti].id) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n    // 当前是否是等待点击状态\n    isWaiting: function () {\n        return this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n    },\n    /**\n     * @description 设置游戏状态\n     * @param {Number}\n     */\n    setWaitClickState: function () {\n\n        // this.curshowxhgs = [];\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.gameover) {\n            return;\n        }\n        this.statelocking = false;\n        if (this.point <= 0) {\n            return;\n        }\n\n        // 判断连接数的大小 如果连接数大于不同的值则产生不同的效果\n        if (this.gamestate != tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n\n            if (this.lianjiNumber >= tywx.config.combo_level_new.good && this.point > 0) {\n                if (!this.hadshowlqbox) {\n                    this.dealLianJiNumber();\n                } else {\n                    this.playjjaniing = false;\n                    if (this.hadshowlqbox) {\n                        if (tywx.config.auditing == false) {\n                            tywx.ado.Utils.hideWXBanner();\n                            this.showRyBox();\n                            // this.showNumberNode.active = true;\n                            // this.showCDAni();\n                            // this.showNumberNode.getComponent(\"MoreTanNumber\").playAni();\n                        }\n                        this.hadshowlqbox = false;\n                    }\n                }\n            } else {\n                if (this.hadshowlqbox) {\n                    if (tywx.config.auditing == false) {\n                        tywx.ado.Utils.hideWXBanner();\n                        this.showRyBox();\n                        // this.showNumberNode.active = true;\n                        // this.showCDAni();\n                        // this.showNumberNode.getComponent(\"MoreTanNumber\").playAni();\n                    }\n                    this.hadshowlqbox = false;\n                } else if (this.hadShowPjl == false && this.point > 0 && this.hasProduceNewScore == true) {\n                    this.hasProduceNewScore = false;\n                    // this.pjlCallBack();\n                }\n            }\n            this.showRYBoxButton();\n            this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n        }\n\n    },\n\n    /**\n     * 显示如意宝箱\n     */\n    showRYBoxButton: function () {\n        // this.ryBoxBtn.active = false;\n        let pjnumber = this.getAllPJNumber();\n        if (pjnumber >= tywx.config.ru_yi_box_limit_num && this.useryboxnumber < 2) {\n            if (tywx.config.auditing == true) {\n                this.ryBoxBtn.active = false;\n                this.hadshowrybox = false;\n            } else {\n                // if (this.sharedelaytime && (((new Date()).getTime() - this.sharedelaytime) / 1000 < tywx.config.ruyiButtonDelaytime)) {\n                //     this.ryBoxBtn.active = false;\n                // } else if (this.sharedelaytime && (((new Date()).getTime() - this.sharedelaytime) / 1000 < tywx.config.ruyiButtonDelaytime)) {\n                // if (this.ryBoxBtn.active) {\n                //     this.ryBoxBtn.active = true;\n                //     var animation = this.ryBoxBtn.getComponent(cc.Animation);\n                //     animation.play(\"daiji\");\n                // }\n                //     this.sharedelaytime = null;\n                // } else {\n                if (!this.ryBoxBtn.active) {\n                    this.ryBoxBtn.active = true;\n                    var animation = this.ryBoxBtn.getComponent(cc.Animation);\n                    animation.play(\"daiji\");\n                }\n                // }\n            }\n        } else {\n            this.ryBoxBtn.active = false;\n            this.hadshowrybox = false;\n        }\n    },\n\n    /**\n     * @description 设置当前待处理的显示Number\n     */\n    setWaitNum: function (waitnum) {\n        this.waitnum = waitnum;\n    },\n\n    /**\n     * @description 处理玩家没有点击屏幕的状态\n     */\n    dealPlayerNoClickScreen: function () {\n        if (this.hadClickScreen == false) {\n            var self = this;\n            this.hadClickScreen = true;\n            // 得到当前点击可以消除的格子\n            var allcellids = [];\n            for (var i = 0; i < gezi_map.length; i++) {\n                this.resetAllMask();\n                this.getAllmask()[i].num = this.getAllmask()[i].num + 1;\n                this.checkmaskbyid(i, 0);\n                if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                    allcellids[allcellids.length] = i;\n                }\n            }\n\n            // for(var ci = 0; ci < allcellids.length; ci ++){\n            //     if(this.allpngs[allcellids[ci]] != null){\n            //        this.allpngs[allcellids[ci]].getComponent(\"celltile\").playDaijiEff();\n            //     }\n            // }\n\n            if (allcellids.length > 0) {\n                // console.log(\" 所有可连接的ID = \" + JSON.stringify(allcellids));\n                self.node.stopAllActions();\n                var delay = cc.delayTime(tywx.ado.Constants.GameCenterConfig.letUserClickTime);\n                var idindex = 0;\n                var call = cc.callFunc(function () {\n                    var cellid = allcellids[idindex];\n                    // console.log(idindex + \" = 当前的ID信息 = \" + cellid);\n                    if (idindex > 0) {\n                        var precellid = allcellids[idindex - 1];\n                        self.allpngs[precellid] && (self.allpngs[precellid].getComponent(\"celltile\").stopDaijiEff());\n                    }\n\n\n                    if (idindex - 1 >= 0) {\n                        var precellid = allcellids[idindex - 1];\n                        self.allpngs[precellid] && (self.allpngs[precellid].getComponent(\"celltile\").stopDaijiEff());\n                    } else {\n                        var precellid = allcellids[allcellids.length - 1];\n                        self.allpngs[precellid] && (self.allpngs[precellid].getComponent(\"celltile\").stopDaijiEff());\n                    }\n                    self.allpngs[cellid] && (self.allpngs[cellid].getComponent(\"celltile\").playDaijiEff());\n                    if (idindex == allcellids.length - 1) {\n                        idindex = 0;\n                    } else {\n                        idindex = idindex + 1;\n                    }\n                });\n                var seq = cc.sequence(call, delay);\n                var rep = cc.repeatForever(seq);\n                self.node.runAction(rep);\n            }\n\n\n        }\n    },\n\n\n    /**\n     * @description 处理玩家当前的点击屏幕的逻辑\n     */\n    dealPlayerClickScreen: function () {\n        // if(this.hadClickScreen == false){\n        var self = this;\n        this.node.stopAllActions();\n        for (var ci = 0; ci < gezi_map.length; ci++) {\n            if (this.allpngs[ci] != null) {\n                this.allpngs[ci].getComponent(\"celltile\").stopDaijiEff();\n            }\n        }\n        this.hadClickScreen = true;\n        // 开一个线程监听次时间段用户是否有点击\n        tywx.Timer.setTimer(self, function () {\n            if (self.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n                self.hadClickScreen = false;\n                self.dealPlayerNoClickScreen();\n            }\n        }, 5, 0, 15);\n        // }\n    },\n\n\n\n    /**\n     * @description 显示游戏帮助界面\n     */\n    showPlayMethod: function () {\n        if (this.helpviewpre != null) {\n            this.helpviewpre.destroy();\n            this.helpviewpre = null;\n        }\n        // 添加帮助界面\n        this.helpviewpre = cc.instantiate(this.helpViewPre);\n        this.helpviewpre.x = 360;\n        this.helpviewpre.y = 0;\n        this.helpviewscript = this.helpviewpre.getComponent(\"helpview\");\n        var self = this;\n        this.helpviewscript.setIsGame(1);\n        this.helpviewscript.setCloseCall(function () {\n            //  self.showSubStopView();\n            self.helpview.active = !self.helpview.active ? true : false;\n            self.showUseHpHelp(true);\n            // console.log(\"当前的新手帮助\")\n        });\n\n        this.helpviewscript.setStartGameCall(function () {\n            self.helpview.active = !self.helpview.active ? true : false;\n            self.showUseHpHelp(true);\n        });\n        this.helpviewpre.parent = this.helpview;\n        self.helpview.active = !self.helpview.active ? true : false;\n    },\n\n    /**\n     * @description 复活成功后的回调调用\n     */\n    fhsbCallBack: function () {\n        // this.showAlert(\"请分享到不同的群\");\n        // this.visibleControllButton(false);\n        // this.initgame();\n        console.log(\"复活失败call\");\n        tywx.ado.Utils.hideWXBanner();\n\n    },\n\n    /**\n     * @description 显示当前玩家的道具\n     */\n    showItem: function () {\n        tywx.LOGE(\"当局 = \");\n        let [cw, ch] = [cc.game.canvas.width, cc.game.canvas.height];\n        let is_ipx = tywx.ado.Utils.isIpx();\n        let is_ot = ch / cw > 1.9;\n        if (is_ipx) {\n            this.itemview.y = this.scoreLabel.node.y - 30;\n        } else if (is_ot) {\n            // this.itemview.y = this.scoreLabel.node.y - 15;\n        }\n\n        for (var itemIndex = 0; itemIndex < tywx.ado.Constants.GameCenterConfig.allitem.length; itemIndex++) {\n            var item = cc.instantiate(this.djitem);\n            let itemsceipt = item.getComponent(\"DjItem\");\n            itemsceipt.setData(tywx.ado.Constants.GameCenterConfig.allitem[itemIndex]);\n            item.parent = this.itemview;\n            var self = this;\n            itemsceipt.setClickCall(function (data, item) {\n                // 判断当前游戏是否是等待点击状态 不是则不能使用道具\n                if (self.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n                    // 判断道具数量足不足\n                    // 如果使用道具数量大于 则提示道具使用限制已达最大值\n                    // 暂时去掉道具使用次数限制 20181115\n                    // if (self.useItemNumber > (tywx.config.mjUseItemNumber || 10)) {\n                    //     self.showAlertMSG(\"道具使用次数已达\" + (tywx.config.mjUseItemNumber || 10) + \"次\");\n                    //     return;\n                    // }\n\n                    if (data.num > 0) {\n                        var canupdate = true;\n                        if (data.id == 4) {\n                            if (self.point == self.maxpoint) {\n                                self.showAlert(\"当前生命值已满。\");\n                                canupdate = false;\n                            } else {\n                                self.recoverGame();\n                            }\n                        } else if (data.id == 5) { // 加1血\n                            tywx.LOGE(\"当前徐良= \" + self.point + \",\" + self.maxpoint);\n                            if (self.point < self.maxpoint) {\n                                // self.showOneHpEf(item);\n                                self.prepoint = self.point;\n                                self.point = self.point + 1;\n                                self.useItemNumber++;\n                                self.drawPhyPoint();\n                                canupdate = true;\n                            } else {\n                                canupdate = false;\n                                self.showAlert(\"血量充足\");\n                            }\n                        } else {\n                            // canupdate = self.getAllPathByitemValue(data);\n                            self.itemhelpview.active = true;\n                            tywx.ado.Utils.hideWXBanner();\n                            self.isitemhelphide = true;\n                            let itemhelpscript = self.itemhelpview.getComponent(\"ItemHelp\");\n                            if (data.id == 2 || data.id == 1) {\n                                self.curUsingItemData = data;\n                                itemhelpscript.showNum(data.value);\n                            } else if (data.id == 6) {\n                                self.curUsingItemData = data;\n                                itemhelpscript.showChuiZi();\n                            }\n                            canupdate = false;\n                        }\n                        // 显示\n                        if (canupdate == true) {\n                            data.num = data.num - 1;\n                            if (data.num < 0) {\n                                data.num = 0;\n                            }\n                            self.updateItemByData(data);\n                        }\n                    } else {\n                        self.showAlert(\"道具数量不足！\");\n                    }\n                }\n            });\n\n            item.x = 320 + (itemIndex * 110);\n            if (is_ipx) {\n                item.y = item.y - 130;\n            } else {\n                item.y = item.y - 80;\n            }\n            this.allOpenItems.push(item);\n        }\n        this.friendIcon.node.y = this.allOpenItems[0].position.y;\n        this.getMoneyBtn.y = this.friendIcon.node.y - 5;\n        this.getMoneyBtn.x -= 15;\n        this.getRedPacketBtn.y = this.getMoneyBtn.y;\n        this.getRedPacketBtn.x = this.getMoneyBtn.x;\n        // 刷新道具显示\n        this.dealAllItems();\n    },\n\n    // 重置道具\n    repeateItems: function () {\n        this.givePlayerItems();\n        var self = this;\n        tywx.Timer.setTimer(this, function () {\n            self.dealAllItems();\n        }, 0.2, 3, 0);\n    },\n\n    /**\n     * 初始化的时候给玩家三个道具\n     * 参数: 无\n     */\n    givePlayerItems: function () {\n        var giveitems = [];\n        for (var djIndex = 0; djIndex < tywx.ado.Constants.GameCenterConfig.allitem.length; djIndex++) {\n            var titem = {};\n            titem.id = tywx.ado.Constants.GameCenterConfig.allitem[djIndex].id;\n            titem.num = tywx.ado.Constants.GameCenterConfig.initGivePlayerItemNumber;\n            giveitems.push(titem);\n        }\n        tywx.Util.setItemToLocalStorage(\"allitems\", JSON.stringify(giveitems));\n\n    },\n\n    /**\n     * @description  使用1血特效\n     * @param {Object} item 具体的某个道具对象\n     */\n    showOneHpEf: function (item) {\n        if ((this.point != this.maxpoint || this.point != 1) && item.xx1Icon.node.getNumberOfRunningActions() == 0) {\n            var node = this.stars[this.point];\n            var newVec2 = node.convertToWorldSpace(cc.v2(node.x, node.y));\n            var new1Vec2 = item.xx1Icon.node.convertToWorldSpace(cc.v2(item.xx1Icon.node.x, item.xx1Icon.node.y));\n            var tmove = cc.moveTo(0.6, cc.v2(newVec2.x - new1Vec2.x - node.x - 30, newVec2.y - Math.abs(new1Vec2.y) - node.y));\n            var seq = cc.sequence(tmove, cc.callFunc(function () {\n                item.xx1Icon.node.x = 0;\n                item.xx1Icon.node.y = 0;\n            }))\n            item.xx1Icon.node.runAction(seq);\n        }\n\n    },\n\n    /**\n     * @description 更新某个道具\n     * @param {Object} data 更新道具的数据\n     */\n    updateItemByData: function (data) {\n        if (data != null) {\n            tywx.LOGE(\"当前更新的数据 = \" + JSON.stringify(data));\n            for (var itmindex = 0; itmindex < this.allitems.length; itmindex++) {\n                var tdata = this.allitems[itmindex];\n                if (tdata.id == data.id) {\n                    tdata.num = data.num;\n                    this.allitems[itmindex] = tdata;\n                    this.storeAllItem();\n                    this.dealAllItems(this.allitems);\n                    break;\n                }\n            }\n        }\n    },\n    /**\n     * @description 添加已经复活次数\n     */\n    addRecoverNumber: function () {\n        this.recoverNumber = this.recoverNumber + 1;\n        // 如果恢复的次数等于2的话 隐藏恢复按钮\n        if (this.recoverNumber == tywx.ado.Constants.GameCenterConfig.maxrnum) {\n            this.fuHuo.active = false;\n        } else {\n            this.fhBtnShow();\n        }\n    },\n\n\n    /**\n     * @description 显示微信的的toast 提示框\n     * @param {String} msg 显示的文本信息\n     */\n    showAlert: function (msg) {\n        wx.showToast({\n            title: msg,\n            icon: 'success',\n            duration: 1500,\n        });\n\n    },\n    /**\n     * @description 显示向上弹出的文字提示\n     * @param {String} msg 显示的文本信息\n     */\n    showAlertMSG: function (msg) {\n        if (msg !== null && this.showalertmsg.node.getNumberOfRunningActions() === 0) {\n            this.showalertmsg.node.stopAllActions();\n            var self = this;\n            this.showalertmsg.node.active = true;\n            this.showalertmsg.string = msg;\n            var ty = self.showalertmsg.node.y;\n            let pri_pos = this.showalertmsg.node.position;\n            var rc = function () {\n                self.showalertmsg.node.active = false;\n                self.showalertmsg.node.y = ty - 160;\n                // 通过 tag 停止一个动作\n                self.showalertmsg.node.stopAllActions();\n                self.showalertmsg.node.position = pri_pos;\n            };\n            var move = cc.moveBy(2.5, cc.v2(0, 260));\n\n            var call = cc.callFunc(rc);\n            var seq = cc.sequence(move, call);\n            this.showalertmsg.node.runAction(seq);\n        }\n        //tywx.ado.Utils.showWXToast(msg);\n    },\n\n\n    /**\n     * @description 点击方块产生特效\n     * @param {cc.v2} touchpos 当前点击的位置\n     */\n    showTouchEffect: function (touchpos) {\n\n    },\n\n    /**\n     * 显示通用的彩带\n     */\n    showCDAni: function () {\n        if (!this.caiDaiAni) {\n            this.caiDaiAni = cc.instantiate(this.tupoJIluAni);\n            this.caiDaiAni.parent = this.node;\n            this.caiDaiAni.zIndex = 100000000;\n        } else {\n            this.caiDaiAni.active = true;\n        }\n        var self = this;\n        let removeCall = function () {\n            self.caiDaiAni.active = false;\n        }\n\n        var ani = this.caiDaiAni.getComponent(cc.Animation);\n        ani.on('finished', removeCall, self);\n        //  console.log(ani + \"当前的彩带动画 = \" + this.caiDaiAni);\n        ani.play(\"tupojilu\");\n    },\n\n\n    /**\n     * @description 显示当前的暂停界面\n     */\n    showStopView: function () {\n        this.stopView.active = !this.stopView.active ? true : false;\n        if (this.stopView.active == false) {\n            this.stopV.active = false;\n            this.pjlView.active = false;\n            this.openboxview.active = false;\n            if (this.itemhelpview.active == true) {\n                tywx.ado.Utils.hideWXBanner();\n            } else {\n                tywx.ado.Utils.showWXBanner();\n            }\n        } else {\n            tywx.ado.Utils.hideWXBanner();\n        }\n    },\n\n    /**\n     * @description 显示停止按钮控制的菜单\n     */\n    showSubStopView: function () {\n        this.stopView.active = !this.stopView.active ? true : false;\n        this.stopV.active = !this.stopV.active ? true : false;\n    },\n\n    /**\n     * @description 点击暂停按钮的时候调用 显示暂停界面\n     */\n    stopCall: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick && !this.playjjaniing) {\n            tywx.ado.Utils.hideWXBanner();\n            this.openboxview.active = false;\n            this.pjlView.active = false;\n            this.stopView.active = !this.stopView.active ? true : false;\n            this.stopV.active = !this.stopV.active ? true : false;\n        }\n    },\n\n\n    /**\n     * @description 处理并保存道具数据\n     * @param {Number} allitem 处理的道具数据\n     */\n    dealAllItems: function (allitem) {\n        // tywx.Util.setItemToLocalStorage(\"allitems\",JSON.stringify([{id:1, num:2}])); \n        var items = tywx.Util.getItemFromLocalStorage(\"allitems\", [])\n        tywx.LOGE(\"处理的道具数据 = \" + items)\n        // 刷新道具显示\n        if (items != null && items != undefined && items != []) {\n            try {\n                if (allitem) {\n                    this.allitems = allitem;\n                } else {\n                    this.allitems = JSON.parse(items);\n                }\n\n            } catch (e) {\n                this.allitems = this.allitems;\n            }\n            for (var titemIndex = 0; titemIndex < this.allitems.length; titemIndex++) {\n                var storitem = this.allitems[titemIndex];\n                tywx.LOGE(titemIndex + \"道具数据 = \" + JSON.stringify(items))\n                for (var openitemIndex = 0; openitemIndex < this.allOpenItems.length; openitemIndex++) {\n                    var topenitem = this.allOpenItems[openitemIndex].getComponent(\"DjItem\");\n                    var tdata = topenitem.getData();\n                    if (tdata.id == storitem.id) {\n                        tdata.num = storitem.num;\n                        topenitem.setData(tdata);\n                        break;\n                    }\n                }\n            }\n        }\n    },\n\n    /**\n     * @description 产生对应的道具\n     * @param {Number} maxnum 产生的最大道具数量 暂时默认值都为1\n     */\n    produceItems: function (maxnum) {\n        // 随机道具的ID\n        var tindex = this.randomFrom(0, tywx.ado.Constants.GameCenterConfig.allitem.length - 1);\n        var itemid = tywx.ado.Constants.GameCenterConfig.allitem[tindex].id;\n        // 随机道具的数量\n\n        var itemnum = 1;\n        var itemname = \"-1\";\n        var randomNum = Math.random();\n        if (randomNum >= 1 - config.box_rate.sub1) {\n            itemid = tywx.ado.Constants.GameCenterConfig.allitem[0].id;\n            itemname = tywx.ado.Constants.GameCenterConfig.allitem[0].name;\n        } else if (randomNum < 1 - config.box_rate.sub1 && randomNum >= 1 - config.box_rate.sub1 - config.box_rate.add2) {\n            itemid = tywx.ado.Constants.GameCenterConfig.allitem[1].id;\n            itemname = tywx.ado.Constants.GameCenterConfig.allitem[1].name;\n        } else if (randomNum < 1 - config.box_rate.sub1 - config.box_rate.add2 && randomNum > config.box_rate.chui) {\n            itemid = tywx.ado.Constants.GameCenterConfig.allitem[2].id;\n            itemname = tywx.ado.Constants.GameCenterConfig.allitem[2].name;\n        } else if (randomNum <= config.box_rate.chui) {\n            itemid = tywx.ado.Constants.GameCenterConfig.allitem[3].id;\n            itemname = tywx.ado.Constants.GameCenterConfig.allitem[3].name;\n        }\n\n        this.produceItem = {\n            id: itemid,\n            num: itemnum,\n            name: itemname,\n        };\n        tywx.LOGE(\"当前产生的道具 \" + JSON.stringify(this.produceItem))\n\n    },\n\n\n    /**\n     * @description 产生指定范围的随机数\n     * @param {Number} lowerValue 最小值\n     * @param {Number} upperValue 最大值\n     */\n    randomFrom: function (lowerValue, upperValue) {\n        return Math.floor(Math.random() * (upperValue - lowerValue + 1) + lowerValue);\n    },\n\n    /**\n     * @description: 该类的构造函数 可用于自身变量的初始化\n     */\n    ctor: function () {\n        tywx.LOGE(\"helloc g\");\n        config = tywx.config != null ? tywx.config : config;\n    },\n\n    /**\n     * @description 得到当前的格子容器\n     * @returns {Table} 格子的数据\n     */\n    getAllgz: function () {\n        return this.g_gezi;\n    },\n\n    /**\n     * @description 得到当前的mask容器\n     * @returns {Table} mask数据 \n     */\n    getAllmask: function () {\n        return this.g_mask;\n    },\n\n    /**\n     * @description 根据这个值在格子中的数字进行和值运算 找出每个格子加上这个值是否可以连接\n     * @param {Data} 道具数据\n     */\n    getAllPathByitemValue: function (data) {\n\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n            this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.usingitem;\n            // 得出当前可连的所有路径\n            var allcellids = [];\n            for (var i = 0; i < gezi_map.length; i++) {\n                this.resetAllMask();\n                this.getAllmask()[i].num = this.getAllmask()[i].num + data.value;\n                this.checkmaskbyid(i, 0);\n                if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                    allcellids[allcellids.length] = i;\n                    break;\n                }\n\n            }\n            this.resetAllMask();\n            //  tywx.LOGE(\"当前值可消除的mask\"+JSON.stringify(allcellids));\n            if (allcellids.length > 0) {\n                let i = allcellids[0];\n                var num = this.getAllgz()[i].num + data.value;\n                this.getAllgz()[i].setnum(num);\n                this.getAllgz()[i].settoblock();\n                this.getAllgz()[i].block.effectid = 0;\n                this.getAllgz()[i].block.effecttime = 0.5;\n                if (num > this.maxnum) {\n                    this.setMaxNumber(num);\n                }\n                this.g_clickid = allcellids[0];\n                this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.checkclick;\n                return true;\n            } else {\n                this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.checkclick;\n                tywx.ado.Utils.showWXToast(\"此块不能使用道具\")\n                return false;\n            }\n        }\n        return false;\n    },\n\n\n    /**\n     * 处理点击屏幕产生的逻辑(主要是判断出当前点击的位置在某个格子上)\n     * @param {Number} i 锤子作用的ID\n     * @param {celltile} celltile 格子对象\n     */\n    touchEndCallback: function (i, celltile, qzadd) {\n        if (this.statelocking) {\n            return;\n        }\n        if (qzadd || (this.getAllgz()[i] && this.getAllgz()[i].block && this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick)) {\n            var curaddnum = 1;\n            console.log(\"this.getAllgz()[i].block \", this.getAllgz()[i].block.id_keep, this.getAllgz()[i].block.id_dest)\n            var tdata = this.curUsingItemData;\n            this.curUsingItemData = null;\n            if ((tdata != null && tdata.id != 6) || tdata == null) {\n                if (tdata != null) {\n                    curaddnum = tdata.value;\n                }\n                // 判断当前的游戏状态是否为等待点击状态\n                // 根据点击的点 来判断当前点击在那个格子上面\n                var num = this.getAllgz()[i].num + curaddnum;\n                this.setCurMaxNumber(num);\n                // this.showAnimationWhenScoreBiggerThanTen(num);\n                if (num < 1) {\n                    this.showAlert(\"不能使用此道具\");\n                } else {\n\n                    if (tdata != null) {\n                        tdata.num = tdata.num - 1;\n                        if (tdata.num < 0) {\n                            tdata.num = 0;\n                        }\n                        this.isUsingItem = true;\n                        this.useItemNumber++;\n                        this.updateItemByData(tdata);\n                    } else {\n                        this.isUsingItem = false;\n                    }\n                    this.getAllgz()[i].setnum(num, true);\n                    this.getAllgz()[i].settoblock();\n                    this.getAllgz()[i].block.effectid = 0;\n                    this.getAllgz()[i].block.effecttime = 0.5;\n                    if (num > this.maxnum) {\n                        this.setMaxNumber(num);\n                    }\n                    // 记录下当前点击的格子 和切换当前的游戏状态为检查点击状态\n                    this.g_clickid = i;\n                    this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.checkclick;\n                    // 在方块上产生点击特效\n                    var mpos = {};\n                    this.showTouchEffect(mpos);\n                    // 终止此次点击的循环处理\n                }\n            } else {\n                if (tdata != null) {\n                    tdata.num = tdata.num - 1;\n                    if (tdata.num < 0) {\n                        tdata.num = 0;\n                    }\n                    this.isUsingItem = true;\n                    this.useItemNumber++;\n                    this.updateItemByData(tdata);\n                } else {\n                    this.isUsingItem = false;\n                }\n                this.useCZClick(i, celltile);\n            }\n        }\n\n    },\n\n    /**\n     * @description 设置最大值\n     * @param {Number} num 当前设置的最大数\n     */\n    setMaxNumber: function (num) {\n        this.maxnum = num;\n        this.maxScoreShow();\n    },\n\n    /**\n     * @description 使用锤子类型的道具\n     * @param {Number} id 锤子作用的ID\n     * @param {celltile} celltile 格子对象\n     */\n    useCZClick: function (id, celltile, index) {\n        var self = this;\n        self.chuiziEft.active = true;\n        self.chuiziEft.scale = 1.4;\n        self.chuiziEft.parent = celltile.node;\n        self.chuiziEft.x = 25;\n        self.chuiziEft.y = -30;\n        // self.chuiziEft.node.setLocalZOrder(1999);\n        var anim = this.chuiziEft.getComponent(cc.Animation);\n        var self = this;\n        var finishCallback = function () {\n            self.chuiziEft.active = false;\n            self.chuiziEft.parent = self.node;\n            anim.stop(\"chuiziza\");\n        }\n        var tid = id;\n        var call = cc.callFunc(function () {\n            self.getAllmask()[tid].step = 1;\n            self.refreshbymask();\n            self.lianjiNumber = 1;\n            self.gamestatetime = tywx.ado.Constants.GameCenterConfig.drop_time;\n            tywx.Timer.setTimer(self, function () {\n                self.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.dodrop;\n                self.hadAddNum = false;\n\n                //pπ 开启一个进程循环显示即将超逾的玩家\n            }, 0, 0, tywx.ado.Constants.GameCenterConfig.merge_delay_time);\n        })\n\n        var delay = cc.delayTime(0.5);\n        var seq = cc.sequence(delay, call);\n        celltile.node.runAction(seq);\n        var animateState = anim.play(\"chuiziza\");\n        animateState.wrapMode = cc.WrapMode.Normal;\n        anim.on('finished', finishCallback, self);\n    },\n\n    /**\n     * @description 使用锤子类型的道具\n     * @param {Number} id 锤子作用的ID\n     * @param {celltile} celltile 格子对象\n     */\n    mfBoom: function (id, celltile, tcellindex) {\n        var self = this;\n        let boomEffect = this.getBZEFNode();\n        boomEffect.active = true;\n        boomEffect.scale = 1.5;\n        let cindex = (celltile.renumber - 1) % tywx.ado.Constants.GameCenterConfig.celltileColors.length;\n        if (cindex < 0) cindex = 0;\n        if (cindex > tywx.ado.Constants.GameCenterConfig.celltileColors.length - 1) cindex = tywx.ado.Constants.GameCenterConfig.celltileColors.length - 1;\n        let color = tywx.ado.Constants.GameCenterConfig.celltileColors[cindex];\n        boomEffect.color = cc.Color.BLACK.fromHEX(color);\n        boomEffect.parent = this.cellUpView;\n        boomEffect.x = celltile.node.x;\n        boomEffect.y = celltile.node.y;\n        var anim = boomEffect.getComponent(cc.Animation);\n        var self = this;\n        var tid = id;\n\n        var finishCallback = function () {\n            boomEffect.active = false;\n            boomEffect.parent = self.node;\n            self.bzEffectNodePools.put(boomEffect);\n            anim.stop(\"boom\");\n        }\n\n        var calldrop = cc.callFunc(function () {\n            self.getAllmask()[tid].step = 1;\n            if (tcellindex == 2) {\n                if (self.lockupdate){\n                    self.lockupdate = false;\n                    self.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.dodrop;\n                }\n                self.refreshbymask();\n            }\n            self.lianjiNumber = 1;\n            self.gamestatetime = tywx.ado.Constants.GameCenterConfig.drop_time;\n            tywx.Timer.setTimer(self, function () {\n                self.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.dodrop;\n                self.hadAddNum = false;\n                celltile.node.opacity = 255;\n                self.cantuserpoint = false;\n                //pπ 开启一个进程循环显示即将超逾的玩家\n            }, 0, 0, tywx.ado.Constants.GameCenterConfig.merge_delay_time);\n        })\n\n        let callhide = cc.callFunc(function () {\n            celltile.node.opacity = 0;\n        });\n        var delay1 = cc.delayTime(0.6);\n        var delay2 = cc.delayTime(0.4);\n        var seqs = cc.sequence(delay2, callhide, delay1, calldrop);\n        celltile.node.runAction(seqs);\n        var animateState = anim.play(\"boom\");\n        // 使动画播放速度减速\n        // animateState.speed = 0.5;\n        animateState.wrapMode = cc.WrapMode.Normal;\n        anim.on('finished', finishCallback, self);\n    },\n\n\n\n\n    /**\n     * @description 游戏的主体逻辑都在这个方法里面\n     * @param {Number} dt  刷新delay \n     */\n    update: function (dt) {\n\n        this.showRYBoxButton();\n        if (this.clickdomove && this.waitdomovetime) {\n            this.waitdomovetime = this.waitdomovetime - dt;\n            if (this.waitdomovetime < 0) {\n                this.clickdomove = false;\n                this.waitdomovetime = null;\n            }\n            return;\n        }\n\n        // this.showAddTime = this.showAddTime - dt;\n        if (this.startDropTime <= 0) {\n            if (this.getAllgz().length == gezi_map.length) {\n                for (var i = 0; i < this.getAllgz().length; i++) {\n                    if (this.getAllgz()[i].block) {\n                        this.getAllgz()[i].block.tickmove(dt);\n                        this.getAllgz()[i].block.tickeffect(dt, this.star, this.star1);\n                        if (this.allpngs[i]) {\n                            this.getAllgz()[i].draw(this.allpngs[i]);\n                        }\n                    }\n                }\n            }\n        }\n\n        // this.dealXhgCells();\n\n\n        if (this.isShowFIcon) {\n            this._updateSubDomainCanvas();\n        }\n        if (this.waitmfmergetime) {\n            this.waitmfmergetime = this.waitmfmergetime - dt;\n        }\n     \n        switch (this.gamestate) {\n            /*case tywx.ado.Constants.GameCenterConfig.gameState.waitclick:{\n                if (this.hadShowPjl == false && this.point > 0) {\n                    this.pjlCallBack();\n                }\n                break;\n            }*/\n            case tywx.ado.Constants.GameCenterConfig.gameState.checkclick:\n                {\n                    this.resetAllMask();\n                    var sc = this.getAllgz()[this.g_clickid].num;\n                    this.lianjiNumber = 1;\n\n                    this.allmergecellIds = [];\n                    this.allmergecellIds[this.allmergecellIds.length] = this.g_clickid;\n                    this.checkmaskbyid(this.g_clickid, 0);\n\n                    if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                        this.gamestatetime = this.getMergeTime() + tywx.ado.Constants.GameCenterConfig.merge_delay_time;\n                        this.score += tywx.ado.Constants.GameCenterConfig.baseScore * this.g_mask_samecnt * 1;\n                        this.waitmfmergetime = this.gamestatetime;\n                        this.hasProduceNewScore = true;\n                        this.scoreLabel.string = this.score;\n                        for (var i = 0; i < gezi_map.length; i++) {\n                            // 判断是否已经标记 \n                            if (this.getAllgz()[i].label_id >= 0 && this.getAllmask()[i].step != 9999999 && this.getAllmask()[i].step != 0) {\n                                this.getAllgz()[i].block.speed_keep = tywx.ado.Constants.GameCenterConfig.gezi_h_s * 2 * this.getAllmask()[i].step / this.getMergeTime();\n                                this.getAllgz()[i].block.actiontime_keep = this.getMergeTime() / this.getAllmask()[i].step;\n                                this.getAllgz()[i].block.id_keep = i;\n                                this.getAllgz()[i].block.id_dest = this.getAllmask()[i].from;\n                                this.getAllgz()[i].block.adjustmove();\n                            }\n                        }\n                        this.playMergeAnimation();\n                        // console.log(\"当前可以连接的格子数ID是 = \" + this.allmergecellIds)\n                        // this.showAddTime = 0.1;\n                        this.addGetScoreLabelOnTile(this.allmergecellIds, tywx.ado.Constants.GameCenterConfig.baseScore);\n                        // console.log(\"this.hadAddNum2 \" + this.hadAddNum);\n                        this.hadAddNum = false;\n                        // var self = this; \n                        // tywx.Timer.setTimer(self, function () {\n                        this.clickdomove = true;\n                        this.waitdomovetime = tywx.ado.Constants.GameCenterConfig.merge_delay_time;\n                        if (this.hadMFInMergeBlock()) {\n                            this.lockupdate = true;\n                            let num = this.getAllgz()[this.g_clickid].num + 1;\n                            this.showAnimationWhenScoreBiggerThanTen(num);\n                            this.setCurMaxNumber(num);\n                            this.getAllgz()[this.g_clickid].setnum(num, true);\n                            this.getAllgz()[this.g_clickid].block.num = num;\n                            this.getAllgz()[this.g_clickid].draw(this.allpngs[this.g_clickid]);\n                        }  \n                        this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.domove;\n                        // }, 0, 0, tywx.ado.Constants.GameCenterConfig.merge_delay_time + 0.1);\n                    } else {\n                        this.hasProduceNewScore = false;\n                        if (this.isUsingItem == true) {\n                            this.isUsingItem = false;\n                        } else {\n                            if (!this.cantuserpoint) {\n                                this.point--;\n                                this.drawPhyPoint();\n                            }\n                            this.cantuserpoint = false;\n                        }\n                        // 判断游戏是否结束\n                        if (this.point <= 0) {\n                            this.gameOverCallBack()\n                        } else {\n                            // this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n                            this.setWaitClickState();\n                            this.finalDealMask();\n                        }\n                        // if (this.hadShowPjl == false) {\n                        //     this.pjlCallBack();\n                        // }\n                    }\n                    break;\n                }\n                //格子组合移动，进入掉落状态\n            case tywx.ado.Constants.GameCenterConfig.gameState.domove:\n                {\n                  \n                    if (this.lockupdate) {\n                        if (this.waitmfmergetime && this.waitmfmergetime <= 0) {\n                            this.getAllgz()[this.g_clickid].settoblock();\n                            this.getAllgz()[this.g_clickid].block.effectid = 1;\n                            this.getAllgz()[this.g_clickid].block.effecttime = 0.5;\n                            // this.refreshbymask();\n                            this.mfmergescript.hideThanTenIcon();\n                            tywx.gamecenter.addMoreThanNumberEffect(this.mfmergescript.id);\n                            this.waitmfmergetime = null;\n                            // this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n                        }\n                        return;\n                    }\n\n                    this.gamestatetime -= dt;\n                    if (this.gamestatetime <= 0) {\n                        this.dealDoMove();\n                    }\n                    if (this.gamestatetime <= tywx.ado.Constants.GameCenterConfig.merge_delay_time) {\n                        if (this.hadAddNum == false) {\n                            this.hadAddNum = true;\n                            this.allpngs[this.g_clickid] && (this.allpngs[this.g_clickid].zIndex = maxzorder++);\n                            var num = this.getAllgz()[this.g_clickid].num + 1;\n                            this.getAllgz()[this.g_clickid].setnum(num);\n                            this.getAllgz()[this.g_clickid].block.num = num;\n                            // this.allpngs[this.g_clickid].getComponent(\"celltile\").showHG(num);\n                            if (this.hadshowlqbox) {\n\n                            }\n                            this.showAnimationWhenScoreBiggerThanTen(num);\n                            this.setCurMaxNumber(num);\n                        }\n                    }\n\n                    break;\n                }\n                //格子掉落完，进入再次检查合并状态，或者等待点击状态\n            case tywx.ado.Constants.GameCenterConfig.gameState.dodrop:\n                {\n                    this.gamestatetime -= dt;\n                    if (this.gamestatetime <= 0) {\n                        //console.log(\"dealLianJiLogic1\")\n                        this.dealLianJiLogic();\n                    }\n                    break;\n                }\n\n        }\n    },\n\n\n    // 得到合并的块上是否有蜜蜂\n    hadMFInMergeBlock: function () {\n        let hadmf = false;\n        for (let idIndex = 0; idIndex < this.allmergecellIds.length; idIndex++) {\n            let celltile = this.allpngs[this.allmergecellIds[idIndex]];\n            if (celltile) {\n                let script = celltile.getComponent(\"celltile\");\n                if (script && script.isShowMf()) {\n                    this.mfmergescript = script;\n                    hadmf = true;\n                    break;\n                }\n            }\n        }\n        console.log(\"消除的ID = \",JSON.stringify(this.allmergecellIds),\"当前合并的快上是否有蜜蜂 = \", hadmf);\n        return hadmf;\n    },\n\n    /**\n     * @description 移动的逻辑处理\n     */\n    dealDoMove() {\n        //  this.star.node.active = false;\n        var self = this;\n        // console.log(\"dealDoMovedealDoMovedealDoMove 1\");\n        this.gamestatetime = this.getMergeTime() + tywx.ado.Constants.GameCenterConfig.merge_delay_time;\n        var num = this.getAllgz()[this.g_clickid].num;\n\n        this.getAllgz()[this.g_clickid].settoblock();\n        this.getAllgz()[this.g_clickid].block.effectid = 1;\n        this.getAllgz()[this.g_clickid].block.effecttime = 0.5;\n        if (num > this.maxnum) {\n            this.setMaxNumber(num);\n        }\n        if (this.allpngs[this.g_clickid]) {\n            var audioIndex = this.lianjiNumber % tywx.ado.Constants.GameCenterConfig.SOUNDS.COMBO.length - 1;\n            // console.log(this.lianjiNumber + \"当前播放的音效下标 = \" + audioIndex);\n            if (audioIndex < 0) {\n                audioIndex = 0;\n            }\n            if (audioIndex > tywx.ado.Constants.GameCenterConfig.SOUNDS.COMBO.length - 1) {\n                audioIndex = tywx.ado.Constants.GameCenterConfig.SOUNDS.COMBO.length - 1;\n            }\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.COMBO[audioIndex]);\n            this.allpngs[this.g_clickid] && (this.allpngs[this.g_clickid].getComponent(\"celltile\").playZhEff());\n        }\n        //  tywx.LOGE(\"Hellocd\");\n        this.refreshbymask();\n        tywx.Timer.setTimer(self, function () {\n            self.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.dodrop;\n            // 开启一个进程循环显示即将超逾的玩家\n        }, 0, 0, tywx.ado.Constants.GameCenterConfig.merge_delay_time);\n    },\n\n\n    /**\n     * @description 产生最大数字的逻辑处理\n     */\n    maxScoreShow: function () {\n        tywx.LOGD(\"产生最大数字\", this.maxnum);\n    },\n\n    getMergeTime: function () {\n        var sc = this.g_mask_samecnt;\n        var mt = tywx.ado.Constants.GameCenterConfig.merge_time;\n        var ret = mt;\n        if (sc > 4) ret = mt + mt * (sc - 4) * 0.2;\n        //console.log(\"SC=\", sc, \"RET=\", ret);\n        return ret;\n    },\n\n    /**\n     * @description 展示连接\b效果\n     */\n    showLianJiEffect: function () {\n        let lianjinode = this.getComboNode();\n        lianjinode.active = true;\n        lianjinode.opacity = 255;\n        lianjinode.parent = this.lianjiEmpty;\n        let lianjiescript = lianjinode.getComponent(\"LianjiEffect\");\n        lianjiescript.setNumber(this.lianjiNumber);\n        lianjiescript.setLianjiNode(lianjinode);\n        lianjiescript.play();\n    },\n\n    putLianJiNode: function (node) {\n        if (node) {\n            this.comoboNodePools.put(node);\n        }\n    },\n\n    /**\n     * @description 掉落状态的逻辑处理\n     */\n    dealLianJiLogic: function () {\n        var bfound = false;\n        //console.log(\"dealLianJiLogic abc\")\n        for (var j = 0; j < gezi_map.length; j++) {\n            if (this.getAllgz()[j].label_id == -1)\n                continue;\n            this.resetAllMask();\n            var sc = this.getAllgz()[j].num;\n            this.allmergecellIds = [];\n            this.allmergecellIds[0] = 0;\n            this.checkmaskbyid(j, 0);\n            if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                this.gamestatetime = this.getMergeTime() + tywx.ado.Constants.GameCenterConfig.merge_delay_time;\n                this.lianjiNumber++;\n                this.showLianJiEffect();\n                this.score += tywx.ado.Constants.GameCenterConfig.baseScore * this.g_mask_samecnt * this.lianjiNumber;\n                this.scoreLabel.string = this.score;\n                for (var i = 0; i < gezi_map.length; i++) {\n                    if (this.getAllgz()[i].label_id >= 0 && this.getAllmask()[i].step != 9999999 && this.getAllmask()[i].step != 0) {\n                        this.getAllgz()[i].block.speed_keep = tywx.ado.Constants.GameCenterConfig.gezi_h_s * 2 * this.getAllmask()[i].step / this.getMergeTime();\n                        this.getAllgz()[i].block.actiontime_keep = this.getMergeTime() / this.getAllmask()[i].step;\n                        this.getAllgz()[i].block.id_keep = i;\n                        this.getAllgz()[i].block.id_dest = this.getAllmask()[i].from;\n                        this.getAllgz()[i].block.adjustmove();\n                    }\n                }\n                bfound = true;\n                this.g_clickid = j;\n                this.allmergecellIds[0] = this.g_clickid;\n                if (this.point < this.maxpoint) {\n                    this.point++;\n                }\n                this.drawPhyPoint();\n                var self = this;\n                // var num = this.getAllgz()[this.g_clickid].num + 1;\n                // this.getAllgz()[this.g_clickid].setnum(num);\n                // this.showAddTime = 0.1;\n                this.addGetScoreLabelOnTile(this.allmergecellIds, tywx.ado.Constants.GameCenterConfig.baseScore * this.lianjiNumber);\n                // console.log(\"当前可以连接的格子数ID是 = \" + this.allmergecellIds)\n                this.playMergeAnimation();\n                tywx.Timer.setTimer(self, function () {\n                    self.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.domove;\n                    // console.log(\"this.hadAddNum1 \" + this.hadAddNum);\n                    self.hadAddNum = false;\n                    //pπ 开启一个进程循环显示即将超逾的玩家\n                }, 0, 0, tywx.ado.Constants.GameCenterConfig.merge_delay_time);\n                break;\n            } else {\n                this.lianjiescript && this.lianjiescript.onFinished();\n            }\n\n        }\n\n        if (bfound == false) {\n            // this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n            this.setWaitClickState();\n            this.finalDealMask();\n        }\n    },\n\n    /**\n     * @description: 展示相关的特效UI\n     */\n    dealLianJiNumber: function () {\n        this.playjjaniing = true;\n        if (this.lianjiNumber == tywx.config.combo_level_new.good) {\n            this.playGood();\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.NICE);\n            this.showboxNumber = this.lianjiNumber;\n        } else if (this.lianjiNumber == tywx.config.combo_level_new.cool) {\n            this.playCool();\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.COOL);\n            this.showboxNumber = this.lianjiNumber;\n        } else if (this.lianjiNumber == tywx.config.combo_level_new.awesome) {\n            this.playAwesome();\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.GREAT);\n            this.showboxNumber = this.lianjiNumber;\n        } else if (this.lianjiNumber >= tywx.config.combo_level_new.unbelive) {\n            this.playUnbelive();\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.SUPER);\n            this.showboxNumber = this.lianjiNumber;\n        } else {\n            this.showboxNumber = 0;\n            this.playjjaniing = false;\n        }\n        this.ljnumberLabel.string = this.lianjiNumber;\n        //    else if(this.lianjiNumber > 1) {\n        //       this.showBox(1);  \n        //    }\n    },\n\n\n\n    /**\n     * @description: 播放特定的音效\n     */\n    palyAudioByIndex: function (fileName) {\n        tywx.ado.AudioManager.playSound(fileName);\n    },\n\n\n\n\n    /**\n     * @@description: 播放good特效\n     */\n    playGood: function () {\n        var self = this;\n        this.goodEft.active = true;\n        var animation = this.goodEft.getComponent(cc.Animation);\n\n        var finishCallback = function () {\n            if (self.showboxNumber > 0) {\n                self.showBox(this.showboxNumber);\n                self.showboxNumber = 0;\n            } else {\n                this.playjjaniing = false;\n            }\n            this.goodEft.active = false;\n        }\n        animation.on('finished', finishCallback, self);\n        var animationState = animation.play(\"nice\");\n    },\n\n    /**\n     * @description: 播放good特效\n     */\n    playCool: function () {\n        var self = this;\n        this.coolEft.active = true;\n        var animation = this.coolEft.getComponent(cc.Animation);\n\n        var finishCallback = function () {\n            if (self.showboxNumber > 0) {\n                self.showBox(this.showboxNumber);\n                self.showboxNumber = 0;\n            } else {\n                this.playjjaniing = false;\n            }\n            this.coolEft.active = false;\n\n        }\n        animation.on('finished', finishCallback, self);\n        var animationState = animation.play(\"cool\");\n    },\n\n\n    /**\n     * @description: 播放awesome特效\n     */\n    playAwesome: function () {\n        var self = this;\n        this.awesEft.active = true;\n        var animation = this.awesEft.getComponent(cc.Animation);\n        var finishCallback = function () {\n            if (self.showboxNumber > 0) {\n                self.showBox(this.showboxNumber);\n                self.showboxNumber = 0;\n                this.awesEft.active = false;\n            } else {\n                this.playjjaniing = false;\n            }\n        }\n        animation.on('finished', finishCallback, self);\n        var animationState = animation.play(\"great\");\n        animationState.wrapMode = cc.WrapMode.Normal;\n    },\n\n    /**\n     * @description: 播放awesome特效\n     */\n    playUnbelive: function () {\n        var self = this;\n        this.unbeliveEft.active = true;\n        var animation = this.unbeliveEft.getComponent(cc.Animation);\n        var finishCallback = function () {\n            if (self.showboxNumber > 0) {\n                self.showBox(this.showboxNumber);\n                self.showboxNumber = 0;\n                self.unbeliveEft.active = false;\n            } else {\n                this.playjjaniing = false;\n            }\n        }\n        animation.on('finished', finishCallback, self);\n        var animationState = animation.play(\"great\");\n        animationState.wrapMode = cc.WrapMode.Normal;\n    },\n\n    /**\n     * @description: 把宝箱数据存储到本地\n     */\n    storeAllItem: function () {\n        // console.log(\"当前存储的数据 = \"+JSON.stringify(this.allitems))\n        if (this.allitems) {\n            tywx.Util.setItemToLocalStorage(\"allitems\", JSON.stringify(this.allitems));\n        }\n    },\n\n\n    initStars: function () {\n        if (!this.allstars) {\n            this.allstars = [];\n            for (var starIndex = 0; starIndex < this.maxpoint; starIndex++) {\n                var item = cc.instantiate(this.lifeStarPrefab);\n                item.parent = this.stars[starIndex];\n                if (this.maxpoint == 6) {\n                    if (starIndex > 0) {\n                        this.stars[starIndex].x = this.stars[starIndex].x - starIndex * 28;\n                    }\n                    this.stars[starIndex].scaleX = 0.8;\n                }\n                this.allstars.push(item);\n            }\n        }\n    },\n\n    /**\n     * @description：展示相关的特效UI\n     */\n    drawPhyPoint: function () {\n        this.initStars();\n        if (this.point > 1) {\n            this.allstars[0].scaleX = 1;\n            this.allstars[0].scaleY = 1;\n            this.allstars[0].stopAllActions();\n        }\n        if (this.prepoint == this.point) {\n            return;\n        }\n        // 咋这里判断当前的血量是否为1 如果为1的话产生 动画提示和tips\n        if (this.point == 1) {\n            this.produceHPAni(this.allstars[0]);\n            this.showAlertMSG(\"血量要耗光啦~\");\n        }\n        this.prepoint = this.point;\n        for (var starIndex = 0; starIndex < this.maxpoint; starIndex++) {\n            if (this.point >= starIndex + 1) {\n                this.allstars[starIndex].getComponent(\"LifeStar\").show();\n            } else {\n                this.allstars[starIndex].getComponent(\"LifeStar\").hide();\n            }\n        }\n\n    },\n\n    /**\n     * @description: 第一个星星产生一个放大缩小的动画 并且产生提示动画\n     */\n    produceHPAni: function (node, stime, scale) {\n\n        node.stopAllActions();\n        var scaletime = !stime ? 0.2 : stime;\n        var tscale = !scale ? 1.2 : scale;\n        var scaleBoom = cc.scaleTo(scaletime, tscale);\n        var scaleSmaller = cc.scaleTo(scaletime, 1);\n        var delay = cc.delayTime(scaletime);\n        var seq = cc.sequence(scaleBoom, scaleSmaller, delay);\n        var rep = cc.repeatForever(seq);\n        node.runAction(rep);\n\n    },\n\n    /**\n     * @description: gameOver和restart按钮的显示隐藏控制\n     * @param vis Boolean 是否显示gameout界面\n     */\n    visibleControllButton: function (vis) {\n        this.gameOut.node.active = vis;\n        if (this.gameOut.node.active == true) {\n            tywx.ado.Utils.hideWXBanner();\n            tywx.ado.Utils.commonScaleIn(this.gameOutRoot);\n        } else {\n            tywx.ado.Utils.showWXBanner();\n        }\n    },\n\n\n    returnBtnCall: function () {\n        this.fhDjsLabel.node.active = false;\n        this.quanSprite.active = false;\n        this.gameOverMaxRoot.active = true;\n        this.closeBtnNode.active = true;\n        this.returnBtnNode.active = false;\n        this.fuHuo.active = false;\n        this.fhDjsLabel.node.stopAllActions();\n        this.gameOutRoot.stopAllActions();\n        tywx.ado.Utils.commonScaleIn(this.gameOverMaxRoot);\n    },\n\n    /**\n     * @description: 游戏结束的逻辑\n     */\n    gameOverCallBack: function () {\n        this.storeScore();\n        this.statelocking = false;\n        // if (this.mfAniNode) {\n        //     this.mfAniNode.active = false;\n        // }\n        tywx.ado.resetProgerss();\n        this.hadshowlqbox = false;\n        this.produceHPAni(this.fuHuoBtn, 0.6, 1.1);\n        this.isShowFIcon = false;\n        this.friendIcon.node.active = false;\n        // 判断此次得分是否创纪录\n        this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.gameover;\n        this.visibleControllButton(true);\n        // 刷新当前的显示得分\n        this.loseScoreLabel.string = this.score;\n        // 刷新最大得分显示\n        var maxscore = parseInt(tywx.ado.Utils.loadItem(\"ADDONE_SCORE2\", 0));\n        this.maxscoreLabel.string = \"最好成绩 \" + maxscore + \"\";\n        if (this.recoverNumber < tywx.ado.Constants.GameCenterConfig.maxrnum) {\n            this.recoverNumberLabel.string = tywx.ado.Constants.GameCenterConfig.maxrnum - this.recoverNumber;\n        } else {\n            this.recoverNumberLabel.string = 0;\n        }\n        console.log(\"当dd前的最大数\" + this.curmaxNumber);\n        this.curmaxnumberLabel.string = this.curmaxNumber + \"\";\n        // 刷新显示的排行榜\n        this.showOverFriendsPH();\n        this.showCDAni();\n        var self = this;\n        var tdjs = 5;\n        self.fhDjsLabel.string = tdjs;\n        var totalPassTime = 0;\n        var totalrepeate = 5;\n        this.fhBtnShow();\n        self.closeBtnNode.active = false;\n        self.returnBtnNode.active = true;\n        this.fhDjsLabel.node.scale = 1;\n        this.fhDjsLabel.node.stopAllActions();\n        this.gameOutRoot.stopAllActions();\n        var djsCall = cc.callFunc(\n            function () {\n                self.fhDjsLabel.node.scale = 1;\n                totalPassTime++;\n                tdjs = tdjs - 1;\n                if (tdjs == 0) {\n                    tdjs = 5;\n                    if (totalPassTime < totalrepeate) {\n                        self.fhDjsLabel.string = \"\" + tdjs;\n                    }\n                    self.setFHBtnCallBack(2);\n                } else {\n                    self.fhDjsLabel.string = tdjs;\n                }\n\n                if (totalPassTime == totalrepeate) {\n                    // 显示UI\n                    self.fhDjsLabel.string = \"\";\n                    self.quanSprite.active = false;\n                    self.gameOverMaxRoot.active = true;\n                    tywx.ado.Utils.commonScaleIn(self.gameOverMaxRoot);\n                    self.fuHuo.active = false;\n                    self.closeBtnNode.active = true;\n                    self.returnBtnNode.active = false;\n                    self.fhDjsLabel.node.active = false;\n                }\n                let scale = cc.scaleTo(0.3, 0);\n                let delay = cc.delayTime(1);\n                let call = cc.callFunc(function () {\n\n                    if (totalPassTime == totalrepeate - 1) {\n                        self.fhDjsLabel.string = \"\";\n                        self.quanSprite.active = false;\n                        self.closeBtnNode.active = true;\n                        self.returnBtnNode.active = false;\n                    } else {\n                        if (totalPassTime != totalrepeate - 1) {\n                            self.fhDjsLabel.string = tdjs - 1;\n                        }\n                    }\n\n                    self.fhDjsLabel.node.scale = 1;\n                });\n                let tseq = cc.sequence(delay, scale, call);\n                self.fhDjsLabel.node.runAction(tseq);\n            }\n        );\n\n        // 如果是提审状态 直接显示 不走倒计时\n        if (tywx.config.auditing || this.recoverNumber == tywx.ado.Constants.GameCenterConfig.maxrnum) {\n            this.fhDjsLabel.node.active = false;\n            this.quanSprite.active = false;\n            this.gameOverMaxRoot.active = true;\n            this.fuHuo.active = false;\n            self.closeBtnNode.active = true;\n            self.returnBtnNode.active = false;\n            tywx.ado.Utils.commonScaleIn(this.gameOverMaxRoot);\n        } else {\n            this.gameOverMaxRoot.active = false;\n            this.fhDjsLabel.node.active = true;\n            this.quanSprite.active = true;\n            this.fhDjsLabel.string = 5;\n            // 倒计时动画\n            let scale = cc.scaleTo(0.3, 0);\n            let delay = cc.delayTime(1);\n            let call = cc.callFunc(function () {\n                self.fhDjsLabel.string = 4;\n                self.fhDjsLabel.node.scale = 1;\n            });\n            let tseq = cc.sequence(delay, scale, call);\n            this.fhDjsLabel.node.runAction(tseq);\n\n            // 倒计时逻辑\n            self.setFHBtnCallBack(2);\n            var seq = cc.sequence(cc.delayTime(1.5), djsCall);\n            var fiverepeat = cc.repeat(seq, totalrepeate);\n            this.gameOutRoot.runAction(fiverepeat);\n        }\n    },\n\n\n    /** \n     * @description 复活按钮的回调类型设置\n     */\n    setFHBtnCallBack: function (calltype) {\n        const share_control = tywx.config.share_control_2.fuhuo;\n        var random = parseInt(Math.random() * 100);\n        if (share_control[0] == \"video\" && tywx.ado.isCanWatchVideo) {\n            if (random <= share_control[1] || tywx.ado.isMinGanIP) {\n                this.videoFH();\n            } else {\n                this.shareFH();\n            }\n        } else if (share_control[0] == \"share\" || !tywx.ado.isCanWatchVideo) {\n            if (random <= share_control[1]) {\n                this.shareFH();\n            } else {\n                this.videoFH();\n            }\n        }\n    },\n\n    videoFH: function () {\n        this.fhShowLabel.string = \"视频复活\";\n        this.fhHideLabel.string = \"视频复活\";\n        this.fuHuo.getComponent(\"ShareButton\").setShareConfig(tywx.ado.Constants.ShareConfig.RECOVER_GAME_SHARE_VIDEO);\n        this.fuHuo.getComponent(\"ShareButton\").setButtonCallType(2);\n    },\n\n    shareFH: function () {\n        this.fhShowLabel.string = \"免费复活\";\n        this.fhHideLabel.string = \"免费复活\";\n        this.fuHuo.getComponent(\"ShareButton\").setShareConfig(tywx.ado.Constants.ShareConfig.RECOVER_SHARE_GAME_SHARE);\n        this.fuHuo.getComponent(\"ShareButton\").setButtonCallType(1);\n    },\n\n    /**\n     * @description 发送数据给子域 绘制出当前的\n     */\n    showOverFriendsPH: function () {\n        this.isShowFIcon = false;\n        wx.postMessage({\n            method: 7,\n        });\n        // this.tex.releaseTexture();\n        window.sharedCanvas.width = 460;\n        window.sharedCanvas.height = 180;\n        var self = this;\n        // 开启一个进程循环隐藏即将超逾的玩家\n        var tindex = 0;\n        wx.postMessage({\n            method: 9,\n        });\n        this.paimingSprite.node.active = false;\n        tywx.Timer.setTimer(self, function () {\n            if (tindex == 0) {\n                wx.postMessage({\n                    method: 8,\n                });\n\n            }\n            tindex += 1;\n            console.log(\"当前刷新次数 \" + tindex);\n            self.flushPHBView();\n        }, 1, 5, 0);\n    },\n\n    /**\n     * @description: 展示破纪录界面\n     */\n    pjlCallBack: function () {\n        // 判断当前的得分是否超过了可显示的分数\n        if (this.score < tywx.ado.Constants.GameCenterConfig.showPjlScore) {\n            return;\n        }\n        // 判断此次得分是否创纪录\n        if (this.score > parseInt(tywx.ado.Utils.loadItem(\"ADDONE_SCORE2\", 0))) {\n            this.hadShowPjl = true;\n            this.visibleControllButton(false);\n            var delay = cc.delayTime(0.1);\n            var self = this;\n            var call = cc.callFunc(function () {\n                self.stopView.active = true;\n                tywx.ado.Utils.hideWXBanner();\n                self.pjlView.active = true;\n                self.openboxview.active = false;\n                self.stopV.active = false;\n                self.pjlView.runAction(\n                    cc.sequence(\n                        cc.scaleTo(0.1, 1.1),\n                        cc.scaleTo(0.2, 1)\n                    )\n                );\n            });\n            var seq = cc.sequence(delay, call);\n            tywx.LOGD(\"是否破纪录21212\");\n            this.node.runAction(seq);\n            // var animation = this.tupojilu.getComponent(cc.Animation);\n            // this.newPlayerEf.active = false;\n            // animation.stop(\"tupojilu\");\n            // 刷新破纪录的显示\n            this.pjlScoreLabel.string = this.score;\n        }\n    },\n\n\n    /**\n     * @description: 关闭破纪录界面\n     */\n    closePjlView: function () {\n        // 判断此次得分是否创纪录\n        tywx.ado.Utils.showWXBanner();\n        this.showStopView();\n        this.pjlView.active = false;\n    },\n\n\n    /**\n     * @description: 最后补充格子\n     */\n    finalDealMask: function () {\n        for (var i = 0; i < gezi_map.length; i++) {\n            this.getAllgz()[i].settoblock();\n        }\n    },\n\n\n    /**\n     * @description: 游戏初始化\n     * @param restart Boolean 是否为重新开始游戏的初始化\n     */\n    initgame: function (restart) {\n        this.storeScore();\n        this.statelocking = false;\n        this.cantuserpoint = false;\n        if (this.mfani) {\n            this.mfani.stop();\n        }\n        this.lockupdate = false;\n        this.initgameing = true;\n        this.hadstorephotonumber = false;\n        // ! 读取进度\n        var tmp_progress = restart ? -1 : tywx.ado.loadProgress();\n\n        this.curmaxNumber = tmp_progress === -1 ? 5 : tmp_progress.curmaxNumber;\n        this.score = tmp_progress === -1 ? 0 : tmp_progress.score;\n        this.useItemNumber = tmp_progress === -1 ? 0 : tmp_progress.useitemnumber;\n        if (tmp_progress != -1 && !tmp_progress.useryboxnumber) {\n            tmp_progress.useryboxnumber = 0;\n        }\n        this.useryboxnumber = tmp_progress === -1 ? 0 : tmp_progress.useryboxnumber;\n        this.playjjaniing = false;\n        this.allshowshareids = [];\n        this.alljzxhgid = [];\n        this.allxhggz = [];\n        // 判断是否有存储的小皇冠显示数据\n        if (tmp_progress != -1 && !tmp_progress.curshowxhgs) {\n            tmp_progress.curshowxhgs = [];\n        }\n        this.curshowxhgs = tmp_progress === -1 ? [] : tmp_progress.curshowxhgs;\n        //  console.log(\"存储的小皇冠数据 \", JSON.stringify(this.curshowxhgs));\n        if (tmp_progress != -1 && !tmp_progress.mfids) {\n            tmp_progress.mfids = [];\n        }\n\n        this.mfids = tmp_progress === -1 ? [] : tmp_progress.mfids;\n\n        this.hasProduceNewScore = false;\n        this.hadProducetantenNUmber = false;\n        this.startDropTime = 0;\n        this.curGiveScore = 0;\n        this.hadshowlqbox = false;\n        wx.postMessage({\n            method: 9,\n        });\n        this.scoreLabel.string = this.score;\n        this.point = tmp_progress === -1 ? this.maxpoint : tmp_progress.life;\n        this.drawPhyPoint();\n        this.maxnum = 5;\n        this.recoverNumber = tmp_progress === -1 ? 0 : tmp_progress.recovernumber;\n        this.fhBtnShow();\n        this.isRestartGame = true;\n        this.hadShowPjl = false;\n\n        for (var i = 0; i < gezi_map.length; i++) {\n            if (this.getAllgz()[i] && this.getAllgz()[i].label_id >= 0) {\n                var num = tmp_progress === -1 ? this.getrandomnum() : tmp_progress.mask[i];\n                this.allpngs[i].getComponent(\"celltile\").hideThanTenIcon();\n                this.getAllgz()[i].setnum(num, true);\n                this.setCurMaxNumber(num);\n                this.getAllgz()[i].settoblock();\n                // this.allpngs[i].getComponent(\"celltile\").setCurNum(this.getAllmask()[i].num);\n            }\n        }\n        // console.log(\"存储的蜜蜂位置数据 \", JSON.stringify(this.mfids));\n        for (let mfidindex = 0; mfidindex < this.mfids.length; mfidindex++) {\n            this.allpngs[this.mfids[mfidindex]] && this.allpngs[this.mfids[mfidindex]].getComponent(\"celltile\").showThanTenIcon();\n        }\n        this.mfids = [];\n\n\n        var needcheck = tmp_progress === -1;\n\n        while (needcheck) {\n            needcheck = false;\n            for (i = 0; i < gezi_map.length; i++) {\n                if (this.getAllgz()[i] && this.getAllgz()[i].label_id >= 0) {\n                    this.resetAllMask();\n                    this.checkmaskbyid(i, 0);\n                    if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                        this.changenumbymask();\n                        needcheck = true;\n                    }\n                }\n            }\n        }\n\n        this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n        this.visibleControllButton(false);\n\n        if (parseInt(tywx.Util.getItemFromLocalStorage(\"hadshowhelpview\", 0)) == 1) {\n            this.showUseHpHelp(true);\n        }\n        if (restart) {\n            this.startDropAnimation();\n        }\n        this.dealPlayerClickScreen();\n        this.dealAddStoreMaxNum();\n        this.showRYBoxButton();\n        // 刷新当前的最高分\n        this.storescorevalue = tywx.ado.Utils.loadItem(\"ADDONE_SCORE2\", 0);\n        this.setMaxScore();\n        // this.mfAniNode.active = false;\n        this.initgameing = false;\n    },\n\n    setMaxScore: function () {\n        if (parseInt(this.storescorevalue) < this.score) {\n            this.maxScoreLabel.string = this.score;\n        } else {\n            this.maxScoreLabel.string = this.storescorevalue;\n        }\n\n    },\n    /**\n     * @description: 产生格子下落动画\n     */\n    startDropAnimation: function () {\n        var self = this;\n        var allpos = [];\n        for (var i = 0; i < gezi_map.length; i++) {\n            this.allpngs[i] && (this.allpngs[i].active = false);\n        }\n        // 开启一个进程循环显示即将超逾的玩家\n        tywx.Timer.setTimer(self, function () {\n            for (var i = 0; i < gezi_map.length; i++) {\n                self.allpngs[i] && (self.allpngs[i].active = true);\n                var ty = this.randomFrom(300, 660);\n                allpos[allpos.length] = ty;\n                self.allpngs[i] && (self.allpngs[i].y = self.allpngs[i].y + ty);\n            }\n            self.startDropTime = 0.2;\n            tywx.Timer.setTimer(self, function () {\n                self.startDropTime = 0;\n            }, 0, 0, tywx.ado.Constants.GameCenterConfig.startGameDropTime + 0.05);\n            for (var ti = 0; ti < gezi_map.length; ti++) {\n                var move = cc.moveBy(tywx.ado.Constants.GameCenterConfig.startGameDropTime, cc.v2(0, -allpos[ti]));\n                self.allpngs[ti] && (self.allpngs[ti].runAction(move));\n            }\n        }, 0, 0, 0.2);\n    },\n\n    /**\n     * @description: 重置棋盘mask， 为重新探路做准备\n     */\n    resetAllMask: function () {\n        if (this.refreshingMask == false) {\n            this.refreshingMask = true;\n            for (var i = 0; i < gezi_map.length; i++) {\n                if (this.getAllgz()[i].label_id >= 0) {\n                    this.getAllmask()[i].reset();\n                }\n            }\n            this.g_mask_samecnt = 1;\n            this.refreshingMask = false;\n        }\n\n    },\n    findtopinmask: function (id) {\n        var tmpid1 = id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1);\n        var tmpid2 = id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1);\n\n        if (tmpid1 >= gezi_map.length || tmpid2 >= gezi_map.length)\n            return -1;\n\n        if (this.getAllgz()[tmpid1].label_id >= 0 && (this.getAllmask()[tmpid1].step == 9999999 || this.getAllmask()[tmpid1].step == 0)) {\n            return tmpid1;\n        }\n\n        if (this.getAllgz()[tmpid2].label_id >= 0 && (this.getAllmask()[tmpid2].step == 9999999 || this.getAllmask()[tmpid2].step == 0)) {\n            return tmpid2;\n        }\n\n        if (this.getAllgz()[tmpid1].label_id >= 0)\n            return this.findtopinmask(tmpid1);\n        if (this.getAllgz()[tmpid2].label_id >= 0)\n            return this.findtopinmask(tmpid2);\n\n    },\n    /**\n     * 递归寻找给定ID的格子 并在mask数组里面进行标记\n     * @param id Number 格子的ID\n     * @param step Number 当前找到第几步\n     */\n    checkmaskbyid: function (id, step) {\n        this.getAllmask()[id].step = step;\n        // 从左找\n        if (this.checkmaskleft(id, step) == true) {\n            this.checkmaskbyid(id - 2, step + 1);\n        }\n        if (this.checkmaskdownleft(id, step) == true) {\n            this.checkmaskbyid(id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1), step + 1);\n        }\n        if (this.checkmaskdownright(id, step) == true) {\n            this.checkmaskbyid(id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1), step + 1);\n        }\n        if (this.checkmaskright(id, step) == true) {\n            this.checkmaskbyid(id + 2, step + 1);\n        }\n        if (this.checkmaskupleft(id, step) == true) {\n            this.checkmaskbyid(id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1), step + 1);\n        }\n        if (this.checkmaskupright(id, step) == true) {\n            this.checkmaskbyid(id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1), step + 1);\n        }\n    },\n\n\n    checkmaskleft: function (id, step) {\n        if (!this.getAllmask()[id - 2]) {\n            return false;\n        }\n        if (this.getAllmask()[id].x < 2)\n            return false;\n\n        if (gezi_map[id - 2] == 0)\n            return false;\n\n        if (this.getAllmask()[id - 2].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id - 2].step <= step)\n            return false;\n\n        if (this.getAllmask()[id - 2].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id - 2].step = step;\n        this.getAllmask()[id - 2].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id - 2;\n        return true;\n    },\n\n    /**\n     * @description 检查给定的ID是否有连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskright: function (id, step) {\n        if (!this.getAllmask()[id + 2]) {\n            return false;\n        }\n        if (this.getAllmask()[id].x >= 12)\n            return false;\n\n        if (gezi_map[id + 2] && gezi_map[id + 2] == 0)\n            return false;\n\n        if (this.getAllmask()[id + 2] && this.getAllmask()[id + 2].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id + 2] && this.getAllmask()[id + 2].step <= step)\n            return false;\n\n        if (this.getAllmask()[id + 2] && this.getAllmask()[id + 2].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id + 2].step = step;\n        this.getAllmask()[id + 2].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id + 2;\n        return true;\n    },\n    /**\n     * @description 检查左上方的格子是否可以连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskdownleft: function (id, step) {\n        if (this.getAllmask()[id].y == 0)\n            return false;\n        if (!this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)]) {\n            return false;\n        }\n        if (gezi_map[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)] == 0)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step <= step)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step = step;\n        this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1);\n        return true;\n    },\n\n    /**\n     * @description 检查左上方的格子是否可以连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskdownright: function (id, step) {\n        if (this.getAllmask()[id].y == 0)\n            return false;\n        if (!this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)]) {\n            return false;\n        }\n        if (gezi_map[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)] == 0)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step <= step)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step = step;\n        this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1);\n        return true;\n    },\n\n    /**\n     * @description 检查左上方的格子是否可以连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskupleft: function (id, step) {\n        if (this.getAllmask()[id].y == 6)\n            return false;\n        if (!this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)]) {\n            return false;\n        }\n        if (gezi_map[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)] == 0)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step <= step)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step = step;\n        this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1);\n        return true;\n    },\n\n    /**\n     * @description 检查左上方的格子是否可以连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskupright: function (id, step) {\n        if (this.getAllmask()[id].y == 6)\n            return false;\n        if (!this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)]) {\n            return false;\n        }\n        if (gezi_map[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)] == 0)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step <= step)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step = step;\n        this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1);\n        return true;\n    },\n\n    /**\n     * @description:  检查是否可以继续连接\n     * @param id Number 每个格子的ID\n     * @param step Number 此次寻找的步数\n     * @param bj Number 寻找边界\n     * @param add Number 叠加数 上下加减5 左右加减1\n     */\n    checkDirPaths: function (id, step, bj, add) {\n        if (Math.abs(add) == 4 && this.getAllmask()[id] != null && this.getAllmask()[id].y == bj) {\n            return false;\n        } else if (Math.abs(add) == 1 && this.getAllmask()[id] != null && this.getAllmask()[id].x == bj) {\n            return false;\n        }\n        if (this.getAllmask()[id] == null || this.getAllmask()[id + add] == null) {\n            return false;\n        }\n        if (this.getAllmask()[id + add].num != this.getAllmask()[id].num || this.getAllmask()[id + add].step <= step) {\n            return false;\n        }\n\n        if (this.getAllmask()[id + add].step == 9999999) {\n            this.g_mask_samecnt++;\n        }\n\n        this.getAllmask()[id + add].step = step;\n        this.getAllmask()[id + add].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id + add;\n        this.checkmaskbyid(id + add, step + 1, bj, add);\n    },\n\n\n    /**\n     * @description: 改变格子的数字 通过mask\n     */\n    changenumbymask: function () {\n        for (var i = 0; i < gezi_map.length; i++) {\n            if (this.getAllgz()[i].label_id >= 0 && this.getAllmask()[i].step != 9999999 && this.getAllmask()[i].step != 0) {\n                var num = this.getrandomnum();\n                this.getAllgz()[i].setnum(num);\n                this.getAllgz()[i].settoblock();\n            }\n        }\n    },\n\n    /**\n     * @description: 创建随机的新块 返回新快的显示\n     */\n    getrandomnum: function () {\n        var tnum = this.maxnum - 1;\n        if (tnum < tywx.ado.Constants.GameCenterConfig.initGameMaxNum)\n            tnum = tywx.ado.Constants.GameCenterConfig.initGameMaxNum;\n        var num = parseInt(Math.random() * 10000) % tnum + 1;\n        return num;\n    },\n\n    /**\n     * @description: 使用满血道具 或者分享游戏的时候调用\n     */\n    recoverGame: function () {\n        console.log(\"复活回调了吗\")\n        if (this.recoverNumber < tywx.ado.Constants.GameCenterConfig.maxrnum) {\n            this.point = this.maxpoint;\n            this.drawPhyPoint();\n            this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n            this.addRecoverNumber();\n            this.visibleControllButton(false);\n        } else {\n            this.showAlert(\"复活次数已达\" + tywx.ado.Constants.GameCenterConfig.maxrnum + \"次，不能继续复活。\");\n            this.initgame(true);\n            this.repeateItems();\n            // if (this.mfAniNode) {\n            //     this.mfAniNode.active = false;\n            // }\n        }\n    },\n\n    /**\n     * @description: 创建新的棋盘， 为掉落做准备\n     */\n    refreshbymask: function () {\n        this.createdNum = this.lianjiNumber * 2;\n        for (var i = 0; i < gezi_map.length; i++) {\n            if (this.getAllgz()[i].label_id >= 0 && this.getAllmask()[i].step != 9999999 && this.getAllmask()[i].step != 0) {\n                this.getAllmask()[i].from = -1;\n                var topid = this.findtopinmask(i);\n                if (topid != -1) { //\n                    var disy = this.getAllmask()[i].y - this.getAllmask()[topid].y;\n                    var disx = this.getAllmask()[i].x - this.getAllmask()[topid].x;\n                    var dis = this.getAllmask()[topid].y - this.getAllmask()[i].y;\n                    this.getAllgz()[i].block.posx = this.getAllgz()[topid].posx;\n                    this.getAllgz()[i].block.posy = this.getAllgz()[topid].posy;\n                    this.getAllgz()[i].block.id_keep = topid;\n                    this.getAllgz()[i].block.id_dest = i;\n                    // this.getAllgz()[i].block.speed_keep = (dis * tywx.ado.Constants.GameCenterConfig.gezi_pitch) / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    var spx = disx * tywx.ado.Constants.GameCenterConfig.gezi_h_s / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    var spy = (disy * tywx.ado.Constants.GameCenterConfig.gezi_size * 3 / 2) / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    this.getAllgz()[i].block.adjustdrop(spx, spy);\n                    this.getAllmask()[topid].step = 8888;\n                    var num = this.getAllgz()[topid].num;\n                    this.setCurMaxNumber(num);\n                    this.getAllgz()[i].setnum(num);\n                    this.getAllgz()[i].settoblockvalue();\n                    this.getAllgz()[i].block.effectid = this.getAllgz()[topid].block.effectid;\n                    this.getAllgz()[i].block.effecttime = this.getAllgz()[topid].block.effecttime;\n                    this.getAllgz()[topid].block.effectid = -1;\n                    this.getAllgz()[topid].block.effecttime = 0;\n                } else {\n                    var dis = 7 - this.getAllmask()[i].y;\n                    this.getAllgz()[i].block.posx = this.getAllgz()[i].posx;\n                    this.getAllgz()[i].block.posy = this.getAllgz()[i].posy + dis * (tywx.ado.Constants.GameCenterConfig.gezi_size * 3 / 2);\n                    this.getAllgz()[i].block.id_keep = -1;\n                    this.getAllgz()[i].block.id_dest = i;\n                    // this.getAllgz()[i].block.speed_keep = (dis * tywx.ado.Constants.GameCenterConfig.gezi_pitch) / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    var spy = -(dis * tywx.ado.Constants.GameCenterConfig.gezi_size * 3 / 2) / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    this.getAllgz()[i].block.adjustdrop(0, spy);\n                    var num = this.createNewNumber();\n                    //                    var num = this.getrandomnum();\n                    // var num = this.maxnum < tywx.ado.Configs.change_create_num\n                    //     ? this.getPjNumberName(i) : this.getrandomnum(); //* 根据最大数配置\n                    this.getAllgz()[i].setnum(num);\n                    this.setCurMaxNumber(num);\n                    this.getAllgz()[i].settoblockvalue();\n                }\n            }\n        }\n    },\n    isCreatePJNum() {\n        let random = Math.random();\n        let max_nums = tywx.ado.Configs.create_num_config.max_nums;\n        let rates = tywx.ado.Configs.create_num_config.pj_rate;\n        let rate = -1;\n        for (let i = 1; i < max_nums.length; ++i) {\n            if (this.maxnum >= max_nums[i] && this.maxnum < max_nums[i]) {\n                rate = rates[i - 1];\n            }\n        }\n        if (rate === -1) rate = rates[rates.length - 1];\n        return rate <= random;\n    },\n\n    createNewNumber() {\n        let pj_num = parseInt(this.getAllPJNumber());\n        let score = this.score;\n        let pj_config = [0, 6, 10, 14];\n        let min_v = -2.8;\n        let max_v = 4.2;\n        let values = [min_v, min_v - 1, min_v - 2, min_v - 3];\n        let v = -1;\n        for (let i = 1; i < pj_config.length; ++i) {\n            if (pj_num > pj_config[i - 1] && pj_num <= pj_config[i]) {\n                v = values[i - 1];\n            }\n        }\n        if (pj_num > pj_config[pj_config.length - 1]) v = values[values.length - 1];\n\n        let ret = 0;\n        ret = parseInt(Math.random() * (max_v - v) + (pj_num + v));\n        if (ret <= 0) ret = 1;\n\n        console.log('createNewNumber', pj_num, ret, v);\n        return ret;\n    },\n\n    getAllPJNumber() {\n        let ret = 0;\n        let total = 0;\n        let gzindex = 0;\n        for (let i = 0; i < this.getAllgz().length; ++i) {\n            if (this.getAllmask()[i] && this.getAllgz()[i].block) {\n                total += this.getAllgz()[i].block.num;\n                gzindex++;\n            }\n        }\n        ret = total / gzindex;\n        // console.log('createNewNumber --> getAllPJNumber', total, gzindex);\n        return ret;\n    },\n\n\n    /**\n     * @description: 找出个格子的周围的数 算出平均数 来设置当前格子的数子\n     * @param id Number 给定的格子ID\n     */\n    getPjNumberName: function (id) {\n        var luck = false;\n        var sjs = Math.random();\n        var ttindex = 0;\n        //this.maxnum\n        // for (var sindex = tywx.config.luck_block.score.length - 1; sindex > 0; sindex--) {\n        //     if (this.score >= tywx.config.luck_block.score[sindex]) {\n        //         ttindex = sindex;\n        //         break;\n        //     }\n        // }\n\n        for (var sindex = tywx.config.luck_block.max_num.length - 1; sindex > 0; sindex--) {\n            if (this.maxnum >= tywx.config.luck_block.max_num[sindex]) {\n                ttindex = sindex;\n                break;\n            }\n        }\n        var tgl = tywx.config.luck_block.rate[ttindex] -\n            this.lianjiNumber * (tywx.config.luck_block.rate[ttindex] / 10); // 最大10连击\n        if (sjs <= tgl) {\n            luck = true;\n        }\n\n        var allids = [id - 2, id + 2, id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1), id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1), id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1), id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)];\n        var total = 0;\n        var gzindex = 1;\n        // for (var tcellIndex = 0; tcellIndex < allids.length; tcellIndex++) {\n        //     if (this.getAllmask()[tcellIndex] && this.getAllgz()[tcellIndex].block) {\n        //         total = total + this.getAllgz()[tcellIndex].block.num;\n        //         gzindex = gzindex + 1;\n        //     }\n        // }\n        for (let i = 0; i < this.getAllgz().length; ++i) {\n            if (this.getAllmask()[i] && this.getAllgz()[i].block) {\n                total += this.getAllgz()[i].block.num;\n                gzindex++;\n            }\n        }\n        // 3-4  6-redpack  < 10\n        let limit_combo = 3;\n        let pjNumber = parseInt(total / gzindex) + (this.lianjiNumber > limit_combo || this.createdNum > 20) ? 3 : 0;\n        let unlucky_fudu = (this.lianjiNumber > limit_combo || this.createdNum > 20) ? 5 : 3.5;\n        let fudu = luck ? 1.0 : unlucky_fudu;\n        let num = parseInt(pjNumber + fudu - 2 * fudu * Math.random());\n        let getUnluckNum = () => {\n            let avileble_nums = this.getAvilableNumsByPJNum(pjNumber, unlucky_fudu);\n            return avileble_nums[parseInt(avileble_nums.length * Math.random())];\n        };\n        if (!luck) {\n            // let avileble_nums = this.getAvilableNumsByPJNum(pjNumber, unlucky_fudu);\n            // num = avileble_nums[parseInt(avileble_nums.length * Math.random())];\n            num = getUnluckNum();\n            //console.log('getPjNumberName',avileble_nums, num);\n        }\n\n        let max_density = this.getMaxDensityByCombo(this.lianjiNumber + parseInt(this.createdNum / 3));\n        let density_info = this.getDensityInfoById(id);\n        if (density_info.max[1] >= max_density) {\n            // * 密度超了，生成密度小于2的数字\n            let all_info = density_info.all;\n            if (all_info.has(num)) {\n                if (all_info.get(num) >= max_density) {\n                    num = getUnluckNum();\n                    while (all_info.has(num) && all_info.get(num) >= max_density) {\n                        num = getUnluckNum();\n                    }\n                }\n            }\n        }\n\n        if (num <= 0) num = 1;\n        // console.log('getPjNumberName', this.createdNum, fudu, num);\n\n        let info = `Combo:${this.lianjiNumber},MaxDensity:${max_density},Num${num},PJ:${pjNumber}`;\n        // console.log('getPjNumberName', info, density_info);\n        //console.log('getPjNumberName',this.lianjiNumber,this.createdNum,fudu,num, pjNumber);\n\n        this.createdNum++;\n        return num;\n    },\n    getMaxDensityByCombo(combo) {\n        let densities = tywx.ado.Configs.combo_density_config; //[6, 5, 5, 4, 3, 2];\n        if (densities[combo] !== undefined) return densities[combo];\n        return 1;\n    },\n\n    // 记录当前蜜蜂的位置\n    getMfData: function () {\n        let mfids = [];\n        for (let ti = 0; ti < this.allpngs.length; ti++) {\n            if (this.allpngs[ti] && this.allpngs[ti].getComponent(\"celltile\").isShowMf() == true) {\n                mfids.push(this.allpngs[ti].getComponent(\"celltile\").getId());\n            }\n        }\n        console.log(\"当前蜜蜂的位置信息 = \", JSON.stringify(mfids));\n        return mfids;\n    },\n\n    getDensityInfoById(id) {\n        let ret = [];\n        let map = new Map();\n        var allids = [\n            id,\n            id - 2,\n            id + 2,\n            id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1),\n            id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1),\n            id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1),\n            id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)\n        ];\n        // console.log('getDensityInfoById', allids);\n        for (var tcellIndex = 0; tcellIndex < allids.length; tcellIndex++) {\n            if (this.getAllmask()[allids[tcellIndex]] && this.getAllgz()[allids[tcellIndex]].block) {\n                let key = this.getAllgz()[allids[tcellIndex]].block.num;\n                let v = 1;\n                if (map.has(key)) {\n                    v = map.get(key);\n                    v++;\n                    map.set(key, v);\n                } else {\n                    map.set(key, v);\n                }\n                if (ret.length > 0) {\n                    if (ret[1] < v) ret = [key, v];\n                } else {\n                    ret = [key, v];\n                }\n                // console.log('getDensityInfoById success ', allids[tcellIndex], key, v);\n            } else {\n                // console.log('getDensityInfoById failed ', id);\n            }\n        }\n        return {\n            max: ret,\n            all: map\n        };\n    },\n    getAvilableNumsByPJNum(pj_num, fudu) {\n        let min = parseInt(pj_num - fudu);\n        min = min <= 0 ? 1 : min;\n        let max = parseInt(pj_num + fudu);\n        max = max >= this.maxnum ? this.maxnum : max;\n        let ret = [];\n        for (let i = min; i < max; ++i) {\n            ret.push(i);\n        }\n        return ret;\n    },\n\n\n    /**\n     * @description： 点击返回首页的时候会调用\n     */\n    backFirstPage: function () {\n        tywx.ado.saveProgress();\n        this.storeScore();\n        cc.director.loadScene(\"gamestart\", this.destroyFinish);\n    },\n\n    /**\n     * @description: 存储当前的分数\n     */\n    storeScore: function () {\n        if (parseInt(tywx.ado.Utils.loadItem(\"ADDONE_SCORE2\", 0)) < this.score) {\n            tywx.ado.Utils.saveItem('ADDONE_SCORE2', this.score, false);\n        }\n    },\n\n    /**\n     * @description: 暂时没用的功能\n     */\n    backCall: function () {\n        this.showAlert(\"测试提示信息\");\n    },\n\n    /**\n     * @description: 开启玩家即将超逾的好友显示 开始更新update\n     */\n    showMinFriend: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.gameover) {\n            return;\n        }\n        window.sharedCanvas.width = 162;\n        window.sharedCanvas.height = 95;\n        tywx.ado.logWithColor('showMinFriend=====');\n        var self = this;\n        var bpos = cc.v2(this.stopButton.x, this.stopButton.y);\n        this.isShowFIcon = true;\n        var rest = self.isRestartGame;\n        // var pos = this.friendsNode.convertToWorldSpace(cc.v2(this.friendsNode.x, this.friendsNode.y))\n        var screen = cc.view.getVisibleSizeInPixel();\n        // console.log(\"y = \" + pos.y + \"x = \" + pos.x + \"screen = \" + JSON.stringify(screen));\n        wx.postMessage({\n            method: 5,\n            isrestart: rest,\n            score: self.score,\n            width: screen.width,\n            // x: pos.x,\n            // y: screen.height - pos.y - 90,\n        });\n        self.isRestartGame = false;\n    },\n\n    /**\n     * @description: 隐藏玩家即将超逾的好友显示 停止更新update\n     */\n    hideMinFriend: function () {\n        var self = this;\n        this.isShowFIcon = false;\n        return;\n    },\n\n    /**\n     * @description: 打印当前界面上的格子信息\n     */\n    printMaskMsg: function () {\n        for (var gzIndex = 0; gzIndex < gezi_map.length; gzIndex++) {\n            this.getAllmask()[gzIndex].showMSG();\n        }\n    },\n\n    /**\n     * @description： 首次弹出帮助界面\n     */\n    firstShowHelpView: function () {\n        if (parseInt(tywx.Util.getItemFromLocalStorage(\"hadshowhelpview\", 0)) === 0) {\n            tywx.Util.setItemToLocalStorage(\"hadshowhelpview\", 1);\n            tywx.ado.Utils.hideWXBanner();\n            this.showPlayMethod();\n        }\n    },\n\n\n    /**\n     * @description: 刷新子域即将超越的玩家Canvas\n     */\n    _updateSubDomainCanvas: function () {\n        //return;\n        if (!this.tex || !tywx.publicwx) {\n            return;\n        }\n        if (this.isShowFIcon == true) {\n            var openDataContext = wx.getOpenDataContext();\n            var sharedCanvas = openDataContext.canvas;\n            this.tex.initWithElement(sharedCanvas);\n            this.tex.handleLoadedTexture();\n            this.friendIcon.spriteFrame = new cc.SpriteFrame(this.tex);\n            this.friendIcon.node.active = true;\n        }\n    },\n\n    /**\n     * @description 刷新显示gameover排行榜\n     */\n    flushPHBView: function () {\n        var openDataContext = wx.getOpenDataContext();\n        var sharedCanvas = openDataContext.canvas;\n        this.tex.initWithElement(sharedCanvas);\n        this.tex.handleLoadedTexture();\n        this.paimingSprite.spriteFrame = new cc.SpriteFrame(this.tex);\n        this.paimingSprite.node.active = true;\n\n    },\n\n\n    /** \n     * @description 一次给多个道具\n     * @param {Boolean} dontsetnull 是否需要设置成领取一次\n     * @param {Object} giveitems 给定的所有道具\n     */\n    giveItems: function (dontsetnull, giveitems) {\n        // var name = \"\";\n        if (giveitems && giveitems.length > 0) {\n            for (var itemIndex = 0; itemIndex < giveitems.length; itemIndex++) {\n                let giveitem = giveitems[itemIndex];\n                // if (itemIndex < (giveitems.length - 1)){\n                //     name = name + giveitem.name;\n                // }else{\n                //     name = name + giveitem.name + \" \";\n                // }\n                this.lingQuItem(dontsetnull, giveitem, true);\n            }\n            this.showAlertMSG(\"成功领取 \" + giveitems.length + \" 个道具\");\n        }\n    },\n\n    /**\n     * @description: destroy当前场景的时候调用\n     */\n    destroyFinish: function () {\n        // if(this.node){\n        //    this.node.destroy();\n        // }\n    },\n\n    /**\n     * @description: 点击免费领取宝箱的时候调用\n     * @param {Boolean} dontsetnull 是否需要设置成领取一次\n     * @param {Object} giveitem 给定的道具\n     */\n    lingQuItem: function (dontsetnull, giveitem, notneedshow) {\n        if (giveitem) {\n            this.produceItem = giveitem;\n        }\n        // 查看当前ID的道具玩家是否存在\n        if (this.produceItem != null) {\n            if (this.allitems.length == 0) {\n                this.allitems[0] = this.produceItem;\n            } else {\n                // tywx.LOGE(\"领取时玩家的道具数据 = \"+JSON.stringify(this.allitems))\n                var findata = false;\n                for (var itemIndex = 0; itemIndex < this.allitems.length; itemIndex++) {\n                    var itemdata = this.allitems[itemIndex];\n                    // tywx.LOGE(\"领取时玩家的道具数据 = \"+JSON.stringify(this.allitems))\n                    if (itemdata.id == this.produceItem.id) {\n                        itemdata.num = itemdata.num + this.produceItem.num;\n                        findata = true;\n                        this.allitems[itemIndex] = itemdata;\n                        break;\n                    }\n                }\n                if (findata == false) {\n                    this.allitems[this.allitems.length] = this.produceItem;\n                }\n            }\n            // 组织显示得到的信息\n\n            var item = null;\n            for (var djIndex = 0; djIndex < tywx.ado.Constants.GameCenterConfig.allitem.length; djIndex++) {\n                var dj = tywx.ado.Constants.GameCenterConfig.allitem[djIndex];\n                // tywx.LOGE(JSON.stringify(dj)+\"当前得到的宝箱数据  = \"+JSON.stringify(this.produceItem));\n                if (this.produceItem.id == dj.id) {\n                    item = dj;\n                    break;\n                }\n            }\n\n            if (item != null && !notneedshow) {\n                this.showAlertMSG(\"领取成功 \" + item.name + \" 道具\");\n            }\n            if (!dontsetnull) {\n                this.produceItem = null;\n            }\n            this.storeAllItem();\n            this.dealAllItems(this.allitems);\n        }\n    },\n\n    /**\n     * 游戏中弹出的领取宝箱\n     */\n    lingQuBox: function () {\n        if (this.curmflqIsRedPacket) {\n            // this.curmflqIsRedPacket = false;\n            // tywx.ado.Utils.requestAddRedPacket();\n        } else {\n            this.lingQuItem();\n        }\n        this.showStopView();\n        this.stopView.active = false;\n        this.openboxview.active = false;\n    },\n\n\n    /**\n     * @description: 当条件达到某个值的时候显示领取宝箱\n     * @param maxnum Number 此次宝箱对应的连接数产生的值\n     */\n    showBox: function (maxnum) {\n        let rvalue = 0;\n        let cn = this.curmaxNumber;\n        let sbr = tywx.config.show_box_rate;\n        for (var i = 1; i < sbr.maxnum.length; i++) {\n            if (cn >= sbr.maxnum[i - 1] && cn < sbr.maxnum[i]) {\n                rvalue = sbr.rate[i - 1] * Math.pow(maxnum, sbr.comboz);\n                break;\n            }\n        }\n        let ran = Math.random();\n        //let is_show = ran <= rvalue;\n        // ! Modify by luning [14-11-2018] 修改展示方式\n        let is_show = maxnum >= tywx.ado.Configs.show_gift_box_combo; //ran <= rvalue;//TODO: 根据最大数配置\n        if (tywx.ado.Configs.auditing) is_show = false; // * 审核状态不弹\n        tywx.ado.logWithColor(`combonum:${maxnum},maxnum:${this.curmaxNumber},rvalue:${rvalue},ran:${ran},is_show:${is_show}`);\n        var self = this;\n        if (is_show) {\n            // 产生道具\n            self.curmflqIsRedPacket = false;\n            let dealData = function (result, qzrequest) {\n                // 判断是否需要分享领取红包\n                if (tywx.ado.RedPacketInfo.nextAmount > 0 && tywx.ado.RedPacketInfo.needShare == false) {\n                    if (tywx.config.auditing == false && qzrequest) {\n                        if (tywx.StateInfo.networkConnected) {\n                            // 传递参数\n                            var param = {\n                                success: dealData,\n                                fail: dealData\n                            };\n                            tywx.ado.Utils.requestRedPacket(param);\n                        } else {\n\n                        }\n                        return;\n                    }\n                }\n                // 如果是审核状态  则只能弹领取道具\n                if (tywx.config.auditing == true) {\n                    result = -1;\n                }\n                console.log(\"result \" + result);\n                // 更新获得道具的item\n                if (result) {\n                    if (result == -1) {\n                        // * 道具需要满足show_gift_box_combo配置才能展示\n                        let is_gift_prop = maxnum >= tywx.ado.Configs.show_gift_box_combo;\n                        if(!is_gift_prop) return;\n                        self.produceItems(maxnum);\n                        var frameindex = 0;\n                        if (self.produceItem.id == 2) {\n                            frameindex = 1;\n                        } else if (self.produceItem.id == 5) {\n                            frameindex = 2;\n                        } else if (self.produceItem.id == 6) {\n                            frameindex = 3;\n                        }\n                        self.showStopView();\n                        let itemLabel = self.openboxview.getChildByName(\"sgfldjLabel\");\n                        let zsdjLabel = self.openboxview.getChildByName(\"zsdjLabel\");\n                        let redmsgLabel = self.openboxview.getChildByName(\"redpacketmsg\");\n                        itemLabel.active = true;\n                        redmsgLabel.active = false;\n                        self.giveYouItemLabel.string = \"赠送道具\";\n                        self.openBoxIconSprite.spriteFrame = self.itemframes[frameindex];\n                        self.openBoxIconSprite.node.width = 154;\n                        self.openBoxIconSprite.node.height = 154;\n                        self.pjlView.active = false;\n                        self.stopV.active = false;\n                        self.openboxview.active = true;\n                        self.showCDAni();\n                        self.initShowBoxButton();\n                        tywx.ado.Utils.commonScaleIn(self.openboxview);\n                    } else {\n                        // 设置当前红包的显示金额\n                        self.dlqBtnMoneyLabel.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(tywx.ado.RedPacketInfo.totalAmount) || 0.0}`;\n                        self.moneyLabel.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(tywx.ado.RedPacketInfo.totalAmount) || 0.0}`;\n                        if (self.curRedPacketStatue == 1) {\n                            // 红包飞的动画\n                            if (tywx.ado.RedPacketInfo.nextAmount > 0) {\n                                self.redpacketicon.active = true;\n                                let pri_pos = self.redpacketicon.position;\n                                // 红包飞行的结束位置\n                                let endpos = self.getRedPacketBtn.position;\n                                // 红包飞行结束后回调函数\n                                let finishCall = function () {\n                                    self.redpacketicon.active = false;\n                                    self.redpacketicon.position = pri_pos;\n                                };\n                                self.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.FLY_REDPACKET);\n                                tywx.ado.Utils.simpleBezierAction(self.redpacketicon, endpos, finishCall);\n                            }\n                            // 刷新当前\n                        } else {\n                            self.curRedPacketStatue = 1;\n                            self.getRedPacket(result);\n                        }\n                        if (tywx.ado.RedPacketInfo.nextAmount == 0) {\n                            self.curRedPacketStatue = 0;\n                        }\n                        self.flushRedPacketBtns(self.curRedPacketStatue);\n                    }\n                }\n            }\n            // 如果满足概率 请求红包数据\n            let ranRate = Math.random();\n\n            if (ranRate > (tywx.config.box_rate.red_packet || 0.5)) {\n                dealData(-1, true);\n            } else {\n                if (tywx.config.auditing == true) {\n                    dealData(-1);\n                } else {\n                    if (tywx.StateInfo.networkConnected) {\n                        // 传递参数\n                        var param = {\n                            success: dealData,\n                            fail: dealData\n                        };\n                        tywx.ado.Utils.requestRedPacket(param);\n                    } else {\n\n                    }\n                }\n            }\n        }\n        this.playjjaniing = false;\n    },\n\n\n    /**\n     * @description: 暂停界面的重新开始游戏\n     */\n    restartGame: function () {\n        this.initgame(true);\n        this.repeateItems();\n        this.showSubStopView();\n    },\n\n\n    /**\n     * @description: 失败界面的重新开始游戏\n     */\n    loseRestartGame: function () {\n        this.initgame(true);\n        this.repeateItems();\n        this.visibleControllButton(false);\n    },\n\n    /**\n     * @description: 点击失败界面上的关闭按钮调用 重新开始新的游戏\n     */\n    startNewGame: function () {\n        this.visibleControllButton(false)\n        this.repeateItems();\n        this.initgame(true);\n    },\n\n    /**\n     * @description: 在置顶的块上播放组合动画\n     */\n    playMergeAnimation: function () {\n        //return;\n        if (this.g_clickid) {\n            var self = this;\n            if (!this.cmergeAniNode) {\n                this.cmergeAniNode = cc.instantiate(this.mergeAniNode);\n                var mergeAni = this.cmergeAniNode.getComponent(cc.Animation);\n\n                let removeCall = function () {\n                    self.cmergeAniNode.active = false;\n                }\n                this.cmergeAniNode.scale = 0.85;\n                this.cmergeAniNode.parent = this.cellUpView;\n                mergeAni.on('finished', removeCall, self);\n            }\n\n\n            if (this.isIPHX()) {\n                if (this.allpngs[this.g_clickid]) {\n                    this.cmergeAniNode.x = this.allpngs[this.g_clickid].x;\n                    this.cmergeAniNode.y = this.allpngs[this.g_clickid].y;\n                }\n            } else {\n                if (this.allpngs[this.g_clickid]) {\n                    this.cmergeAniNode.position = this.allpngs[this.g_clickid].position;\n                    this.cmergeAniNode.y = this.allpngs[this.g_clickid].y - 2;\n                }\n            }\n            this.cmergeAniNode.active = true;\n            this.cmergeAniNode.getComponent(cc.Animation).stop();\n            var animState = this.cmergeAniNode.getComponent(cc.Animation).play(\"mergani\", 0);\n            // 使动画播放速度加速\n            // animState.speed = 1.3;\n        }\n    },\n\n    /**\n     * @description: 得到加分label\n     * @param num Number label显示的分数\n     */\n    getLabel: function (num) {\n        let label = null;\n        if (this.addScoreLabelPools.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\n            label = this.addScoreLabelPools.get();\n        } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\n            label = cc.instantiate(this.addScoreNode);\n        }\n        var labelScrpt = label.getComponent(\"AddScoreLabel\");\n        labelScrpt.setNumber(\"\" + num);\n        return label;\n    },\n\n    /**\n     * @description: 得到飞出去的蜜蜂Node\n     * @param num Number label显示的分数\n     */\n    getMfNode: function (num) {\n        let mfnode = null;\n        if (this.mfNodePools.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\n            mfnode = this.mfNodePools.get();\n        } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\n            mfnode = cc.instantiate(this.mfAniNode);\n        }\n        return mfnode;\n    },\n\n    /**\n     * @description: 得到飞出去的蜜蜂Node\n     * @param num Number label显示的分数\n     */\n    getBZEFNode: function (num) {\n        let efnode = null;\n        if (this.bzEffectNodePools.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\n            efnode = this.bzEffectNodePools.get();\n        } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\n            efnode = cc.instantiate(this.boomEffectPrefab);\n        }\n        return efnode;\n    },\n\n    /**\n     * @description: 得到飞出去的蜜蜂Node\n     * @param num Number label显示的分数\n     */\n    getComboNode: function (num) {\n        let efnode = null;\n        if (this.comoboNodePools.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\n            efnode = this.comoboNodePools.get();\n        } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\n            efnode = cc.instantiate(this.lianjiNodePrefab);\n        }\n        return efnode;\n    },\n\n    /**\n     * @description: 在当前加分的每个格子上显示 加分\n     * @param tiles Table 此次连接对应的所有格子ID\n     * @param shownum Number 所加的分数\n     */\n    addGetScoreLabelOnTile: function (tiles, shownum) {\n\n        for (var tileIndex = 0; tileIndex < tiles.length; tileIndex++) {\n            var id = tiles[tileIndex];\n            this.dealAddNumber(id);\n            // var num = 10;\n            // if (id == this.g_clickid) {\n            //     num = tywx.ado.Constants.GameCenterConfig.baseScore * (this.getAllgz()[this.g_clickid].num);\n            //     console.log(id  + \"当前的下标 first \" + tileIndex + \" 分数 = \" + num);\n            // }else{\n            //     num = tywx.ado.Constants.GameCenterConfig.baseScore * tileIndex;\n            //     console.log(id  + \"当前的下标 second \" + tileIndex + \" 分数 = \" + num);\n            // }\n            let label = this.getLabel(shownum);\n            label.getComponent(\"addNode\");\n            var scaleBoom = cc.scaleTo(0.2, 1.3);\n            var scalesm = cc.scaleTo(0.2, 1);\n            var mtop = cc.moveBy(0.2, cc.v2(0, 10));\n            var spawn = cc.spawn([scaleBoom, mtop]);\n            var self = this;\n            var call = cc.callFunc(function () {\n                label.scalex = 1;\n                label.scaley = 1;\n                self.addScoreLabelPools.put(label);\n                //console.log(\"移除没有4\")\n            })\n            // var pos = this.getPos(id);\n\n            label.parent = this.cellUpView;\n            if (this.allpngs[id]) {\n                label.x = this.allpngs[id].x;\n                label.y = this.allpngs[id].y - 10;\n            }\n            var seq = cc.sequence(spawn, scalesm, call);\n            label.runAction(seq);\n        }\n    },\n\n    /**\n     * @description: 判断合成的格子中是否有小皇冠的格子\n     * @param id number 格子ID\n     */\n    dealAddNumber: function (id) {\n        if (this.allpngs[id] && this.allpngs[id].getComponent(\"celltile\").prenum != 0) {\n            this.addXHGId(this.allpngs[id].getComponent(\"celltile\").prenum);\n            // console.log(\"当前的小皇冠禁用ID = \" + JSON.stringify(this.alljzxhgid));\n        }\n    },\n\n    /**\n     * @description: 展示血量帮助提示\n     * @param needaddstore Boolean 用于扩展 暂时没用\n     */\n    showUseHpHelp: function (needaddstore) {\n        this.hpHelpTips.active = false;\n        // if (parseInt(tywx.Util.getItemFromLocalStorage(\"hadshowhpnum\", 0)) < 2) {\n        //     if (needaddstore) {\n        //         tywx.Util.setItemToLocalStorage(\"hadshowhpnum\", parseInt(tywx.Util.getItemFromLocalStorage(\"hadshowhpnum\", 0)) + 1);\n        //     }\n        //     this.hpHelpTips.active = true;\n        //     var delay = cc.delayTime(5);\n        //     var self = this;\n        //     var call = cc.callFunc(function () {\n        //         self.hpHelpTips.active = false;\n        //     });\n        //     var seq = cc.sequence(delay, call);\n        //     this.hpHelpTips.runAction(seq);\n        // } else {\n        //     this.hpHelpTips.active = false;\n        // }\n    },\n\n    /** \n     * @description: 显示当前给定的数字对应的奖励界面当分数超过10以后显示一个动画(合并完成后出现)\n     * @param num {Number} 格子的显示数字\n     */\n    showAnimationWhenScoreBiggerThanTen: function (num) {\n        // console.log(this.getCurMaxNumber()\n        //     ,\" 当前合出的数 = \", num, )\n        if (num <= this.getCurMaxNumber()) {\n            return;\n        }\n        // 产生大于10的效果\n        // if (num % 2 == 0 && this.hadShowShareLJ(num) == false && num >= tywx.ado.Constants.GameCenterConfig.moreThanEightNumber && this.hadshowlqbox == false) {\n        if (num > this.getCurMaxNumber()) {\n            // this.produceItems(1);\n            // this.allshowshareids[this.allshowshareids.length] = num;\n            // // 去掉和数奖励 2018-09-19\n            // var tcur = num * tywx.ado.Constants.GameCenterConfig.mergeMaxNumberBaseScore;\n            // if (num * tywx.ado.Constants.GameCenterConfig.mergeMaxNumberBaseScore > this.curGiveScore) {\n            //     this.curGiveScore = num;\n            //     // this.scoreLabel.string = this.score;\n            // }\n            // this.hadshowlqbox = true;\n            // let showScript = this.showNumberNode.getComponent(\"MoreTanNumber\");\n            // showScript.init();\n            // showScript.setShowNumber(num, tcur, this.produceItem.name);\n        }\n    },\n\n\n    /** \n     * @description 分享X2\n     */\n    shareDoubleScore: function (score) {\n        this.score = this.score + score;\n        this.showAlertMSG(\"合出数字\" + this.curGiveScore + \"奖励:\" + score + \"分\");\n        this.scoreLabel.string = this.score;\n    },\n\n    /**\n     * @description 得到屏幕比是否大于1 .9 针对iPhone10类型的机型\n     */\n    isIPHX: function () {\n        let [cw, ch] = [cc.game.canvas.width, cc.game.canvas.height];\n        let is_ipx = tywx.ado.Utils.isIpx();\n        return is_ipx;\n    },\n    /**\n     * @description 保存照片\n     */\n    storePhoto: function () {\n        var contentsize = {\n            width: this.gameOutRoot.width,\n            height: this.gameOutRoot.height\n        }\n        let [cw, ch] = [cc.game.canvas.width, cc.game.canvas.height];\n        let is_ipx = ch / cw >= 1.9; // * 是否是2:1屏幕\n        let ds = cc.size(720, 1280);\n        let dcs = cc.size(contentsize.width, contentsize.height);\n        let [rate_width, rate_height] = [dcs.width / ds.width, dcs.height / ds.height];\n        let [d_x, d_y] = [(ds.width - dcs.width) / 2, (ds.height - dcs.height) / 2 - 30];\n        let [rate_x, rate_y] = [d_x / ds.width, d_y / ds.height];\n\n        let w = cw * rate_width;\n        let h = is_ipx ? w * (dcs.height / dcs.width) : ch * rate_height;\n        let x = cw * rate_x;\n        let y = is_ipx ? (ch - h) / 2 - this.gameOutRoot.position.y : ch * rate_y;\n        var self = this;\n        canvas.toTempFilePath({\n            x: x,\n            y: y,\n            width: w,\n            height: h,\n            destWidth: contentsize.width,\n            destHeight: contentsize.height,\n            quality: 1,\n            fileType: \"jpg\",\n            success: function success(res) {\n                //console.log(res);\n                tywx.ado.Utils.saveImage2PhoneByUrl(res.tempFilePath, function () {\n                    tywx.ado.Utils.showWXToast(\"保存图片成功\");\n                    // self.lingQuItem();\n                    // self.hadstorephotonumber = false;\n                }, function () {\n                    tywx.ado.Utils.showWXToast(\"保存图片失败\");\n                });\n            },\n            fail: function fail(res) {\n                tywx.ado.Utils.showWXToast(\"保存图片失败\");\n            }\n        });\n    },\n\n\n    /**\n     * @description: 判断当前数字是否显示过分享领奖\n     * @param num {Number} 格子的显示数字\n     */\n    hadShowShareLJ: function (num) {\n        for (var t = 0; t < this.allshowshareids.length; t++) {\n            if (num == this.allshowshareids[t]) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n\n    /**\n     * @description 展示广告\n     */\n    showBanner: function () {\n        tywx.ado.Utils.createAndcreateAndShowWXBanner();\n        this.schedule(this.bannerRefresh, tywx.ado.Constants.WXAdConfig.bannerRefreshTime);\n    },\n\n    /**\n     * @description 刷新广告的显示\n     */\n    bannerRefresh: function () {\n        tywx.ado.Utils.createAndcreateAndShowWXBanner();\n    },\n\n    addRyBoxNumber: function () {\n        this.useryboxnumber = this.useryboxnumber + 1;\n    },\n\n    /**\n     * @description 显示如意宝箱的\n     */\n    showRyBox: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n            this.ryBox.active = true;\n            tywx.ado.Utils.hideWXBanner();\n            this.ryBox.getComponent(\"LuckBox\").init();\n            tywx.ado.Utils.commonScaleIn(this.luckboxroot);\n        }\n    },\n\n    /**\n     * @description 得到道具地板的节点\n     * @returns 返回一个节点\n     */\n    getCommenItemNode() {\n        let parent = this.itemview.parent;\n        let ret = parent.getChildByName('commbottom');\n        return ret;\n    },\n\n\n    /**\n     *@description 刷新gameover界面上的图片更换\n     */\n    btnRefreshGameOverPhotoCallback() {\n        let photo_urls = tywx.config.PYQImg.GameOverPhotos;\n        if (!this.showPicIndex || this.showPicIndex > (photo_urls.length - 1)) {\n            this.showPicIndex = 0;\n        }\n        let pngurl = tywx.SystemInfo.cdnPath + 'share_pyq/addone/' +\n            photo_urls[this.showPicIndex];\n        console.log(\"cdnpngurl = \" + pngurl);\n        tywx.ado.Utils.refreshSpriteByUrl(this.gameOutRoot.getChildByName(\"maxroot\").getComponent(cc.Sprite), pngurl);\n        this.showPicIndex = this.showPicIndex + 1;\n    },\n\n\n    /** \n     * @description 扩展血槽\n     */\n    kzHpNumber: function () {\n\n    },\n\n    /** \n     * @description 领取红包按钮调用\n     */\n    getRedPacketCall: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n            this.getRedPacket();\n        }\n    },\n\n    /** \n     * @description 红包提现按钮调用\n     */\n    getRedPacketMoneyCall: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n            this.getRedPacketMoney();\n        }\n    },\n\n    /** \n     * @description 刷新现金数\n     */\n    flushMoneyNumber: function () {\n        console.log(\"刷新红的数据 = \" + JSON.stringify(tywx.ado.RedPacketInfo))\n        this.moneyLabel.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(tywx.ado.RedPacketInfo.totalAmount) || 0.0}`;\n        this.dlqBtnMoneyLabel.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(tywx.ado.RedPacketInfo.totalAmount) || 0.0}`;\n        this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.ADDMONEY);\n    },\n\n    /** \n     * @description 刷新红包按钮的显示\n     */\n    flushRedPacketBtns: function (state) {\n        this.curRedPacketStatue = state;\n        if (tywx.config.auditing == true) {\n            this.getRedPacketBtn.active = false;\n            this.getMoneyBtn.active = false;\n        } else {\n            if (this.curRedPacketStatue == 1 && tywx.ado.RedPacketInfo.nextAmount > 0) {\n                this.getRedPacketBtn.active = true;\n                this.getMoneyBtn.active = false;\n            } else {\n                this.getRedPacketBtn.active = false;\n                this.getMoneyBtn.active = true;\n            }\n        }\n\n\n    },\n    /** \n     * @description 领取红包\n     */\n    getRedPacket: function () {\n        let result = tywx.ado.RedPacketInfo;\n        if (!tywx.ado.RedPacketInfo || tywx.ado.RedPacketInfo.nextAmount == 0) {\n            this.flushRedPacketBtns(0);\n        } else {\n            cc.loader.loadRes('prefabs/OpenRedPackView', function (err, prefab) {\n                if (!err) {\n                    var prefabNode = cc.instantiate(prefab);\n                    cc.game.addPersistRootNode(prefabNode);\n                    prefabNode.x = 360;\n                    prefabNode.y = 720;\n                    tywx.ado.Utils.hideWXBanner();\n                    prefabNode.getComponent('OpenRedPackView').showUI();\n                    prefabNode.getComponent('OpenRedPackView').setData(result);\n                }\n            });\n        }\n\n    },\n    /** \n     * @description 红包提现\n     */\n    getRedPacketMoney: function () {\n        tywx.ado.Utils.hideWXBanner();\n        tywx.ado.Utils.showRedPacketTransferPop(tywx.ado.Utils.formatCashFen2Yuan());\n    },\n\n    /**\n     * @description 得到蜜蜂飞到的目标ID\n     * @param {Number} id 蜜蜂的起始位置ID\n     */\n    getMFTargetCellTileId: function (id) {\n        let allselectid = [];\n        // 得到目标cell\n        for (let i = 0; i < this.allpngs.length; i++) {\n            if (this.allpngs[i]) {\n                let tid = this.allpngs[i].getComponent(\"celltile\").id;\n                if (tid != id) {\n                    let num = this.allpngs[i].getComponent(\"celltile\").renumber;\n                    let tdata = {}\n                    tdata.id = tid;\n                    tdata.num = num;\n                    allselectid.push(tdata);\n                }\n            }\n        }\n        if (allselectid.length == 0) {\n            return [id];\n        }\n        allselectid.sort((d1, d2) => {\n            if (d1.num > d2.num) {\n                return 1;\n            } else if (d1.num < d2.num) {\n                return -1\n            } else {\n                return 0;\n            }\n        });\n\n        // 当前\b界面最小的三个数的ID和Number数据\n\n        return allselectid;\n    },\n\n    /** \n     * @description 消除大数的时候调用的方法\n     * @param {Number} id 移除小皇冠的ID\n     * @param {Function} finishcallback \b小蜜蜂飞到指定位置后的回调函数完成后的回调\n     */\n\n    addMoreThanNumberEffect: function (id, finishcallback) {\n        let lsversion = true;\n        // if (this.initgameing && this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.gameover) {\n        //     return;\n        // }\n        let curpos = this.allpngs[id].position;\n        // 目标位置的格子ID\n        let ids = this.getMFTargetCellTileId(id);\n        // let script = this.allpngs[id].getComponent(\"celltile\");\n        // script.clickCell(true);\n        this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.FLY_REDPACKET);\n\n        if (finishcallback) {\n            this.finishcallback = finishcallback;\n        }\n\n        if (this.finishcallback) {\n            this.getAllgz()[this.finishcallback].setnum(this.getAllgz()[this.finishcallback].num + 1, true);\n            this.getAllgz()[this.finishcallback].settoblock();\n            this.finishcallback = null;\n        }\n        for (let i = 0; i < 3; i++) {\n            let cellid = ids[i].id;\n            if (!cellid) {\n                return;\n            }\n\n            console.log(\"蜜蜂数据  = \", cellid);\n            let mfnode = this.getMfNode();\n            mfnode.active = true;\n            let targetpos = this.allpngs[cellid].position;\n\n            mfnode.parent = this.cellUpView;\n            mfnode.position = curpos;\n            let pos1 = cc.Vec2(this.allpngs[cellid].x, this.allpngs[cellid].y);\n            if (this.allpngs[id].x > this.allpngs[cellid].x) {\n                mfnode.getChildByName(\"mifeng\").scaleX = -Math.abs(mfnode.getChildByName(\"mifeng\").scaleX);\n            } else {\n                mfnode.getChildByName(\"mifeng\").scaleX = Math.abs(mfnode.getChildByName(\"mifeng\").scaleX);\n            }\n            let height = 240;\n            let angle = 60;\n            if (this.allpngs[id].y > this.allpngs[cellid].y) {\n                angle = -angle;\n                height = -height;\n            }\n\n            //this.mfani.stop();\n            //this.mfani.play(\"mifeng\");\n\n            // 把角度转换为弧度\n            let radian = angle * 3.14159 / 180.0;\n\n            // 第一个控制点为抛物线左半弧的中点\n            let q1x = this.allpngs[id].x + (this.allpngs[cellid].x - this.allpngs[id].x) / 4;\n            let q1 = cc.v2(q1x, height + this.allpngs[id].y + Math.cos(radian) * q1x);\n            // 第二个控制点为整个抛物线的中点\n            let q2x = this.allpngs[id].x + (this.allpngs[cellid].x - this.allpngs[id].x) / 2;\n            let q2 = cc.v2(q2x, height + this.allpngs[id].y + Math.cos(radian) * q2x);\n            let speed = 240;\n            let distance = Math.sqrt(Math.pow(this.allpngs[id].x - this.allpngs[cellid].x, 2) + Math.pow(this.allpngs[id].y - this.allpngs[cellid].y, 2));\n            let bztime = 1.5; //distance / speed;\n            if (this.allpngs[id].x < this.allpngs[cellid].x) {\n                q1.x = q1.x - 720;\n            } else {\n                q1.x = q1.x + 720;\n            }\n\n            let sp = curpos;\n            let ep = targetpos;\n            let dist = tywx.ado.Utils.distance(sp, ep);\n            let normalPos = sp.sub(ep).normalizeSelf();\n            let cfg = [\n                cc.v2(sp.x + 30, sp.y + normalPos.y * dist / 2),\n                cc.v2(sp.x + normalPos.x * dist / 4 * 3, sp.y + normalPos.y * dist / 4 * 3),\n                targetpos\n            ];\n\n\n            //let bezier = cc.bezierTo(bztime, [q1, q2, targetpos]);\n            let bezier = cc.bezierTo(bztime, cfg).easing(cc.easeSineIn());\n            let move = cc.moveTo(bztime, targetpos);\n            var self = this;\n            this.statelocking = true;\n\n            let call = cc.callFunc(function () {\n                if (self.point < self.maxpoint) {\n\n                }\n                self.mfNodePools.put(mfnode);\n                self.cantuserpoint = true;\n                if (i == 2) {\n                    self.statelocking = false;\n                    self.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.BOOM);\n                }\n                mfnode.stopAllActions();\n                mfnode.active = false;\n                // self.allpngs[cellid].runAction(cc.sequence(cc.scaleTo(0.2, 1.2), cc.scaleTo(0.2, 1)));\n                let script = self.allpngs[cellid].getComponent(\"celltile\");\n                // script.clickCell(true);\n                self.mfBoom(cellid, script, i);\n            });\n\n            let seq = cc.sequence(bezier, call);\n            mfnode.stopAllActions();\n            mfnode.runAction(seq);\n        }\n    },\n\n});"]}