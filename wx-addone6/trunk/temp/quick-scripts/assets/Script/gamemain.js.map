{"version":3,"sources":["gamemain.js"],"names":["config","require","gezi","mask","maxzorder","gezi_map","gamemain","cc","Class","extends","Component","properties","scoreLabel","default","type","Label","showalertmsg","num","allpngs","Prefab","showNumberPrefab","celltile","stars","Node","stopView","tupojilu","fuHuo","fuHuoBtn","stopV","stopButton","pjlView","openboxview","itemview","yyview","goodEft","coolEft","awesEft","unbeliveEft","chuiziEft","giveYouItemLabel","giveYouRedPackLabel","loseScoreLabel","maxScoreLabel","sgfldjLabel","sharelqScoreLabel1","sharelqScoreLabel2","GameOver","loseShareButtton","pjlShareButtton","topRootView","musicBtn","itemhelpview","loseRestartGameBtn","friendsNode","mergeAniNode","helpview","pjlScoreLabel","ljnumberLabel","itemframes","SpriteFrame","maxscoreLabel","recoverNumberLabel","curmaxnumberLabel","fh1Label","fh2Label","moneyLabel","openBoxIconSprite","Sprite","paimingSprite","effect","djitem","lifeStarPrefab","gameOut","friendIcon","stopViewBack","tupoJIluAni","helpViewPre","mflqBtn","hpHelpTips","gameOutRoot","luckboxroot","cellUpView","btRootView","addScoreLabelPools","NodePool","addScoreNode","getMoneyBtn","gameOverMaxRoot","bg","restart","Button","score","point","tywx","ado","hpvalue","g_mask_samecnt","g_clickid","gamestate","gamestatetime","maxnum","lianjiNumber","g_gezi","g_mask","allitems","curtimeawaypre","isShowFIcon","recoverNumber","hadShowPjl","allOpenItems","produceItem","isRestartGame","showboxNumber","prepoint","hadClickScreen","curUsingItemData","isUsingItem","refreshingMask","hasProduceNewScore","hadAddNum","allmergecellIds","showAddTime","hadProducetantenNUmber","startDropTime","curGiveScore","hadshowlqbox","curshowxhgs","allxhggz","alljzxhgid","allshowshareids","twocellexchange","playjjaniing","curmaxNumber","curPreStorePData","ryBox","ryBoxBack","ryBoxBtn","isitemhelphide","curmflqIsRedPacket","useItemNumber","curRedPacketStatue","redpacketicon","getRedPacketBtn","fhShowLabel","fhHideLabel","fhDjsLabel","adNode","quanSprite","mflqhideLabel","mflqshowLabel","mflqshareNode","returnBtnNode","closeBtnNode","setCurMaxNumber","addJHCell","cell","length","console","log","clearJHCell","exchangeTWOCell","addXHGId","id","dealAddStoreMaxNum","starNum","hadXHGId","ti","addXHGCell","dealXhgCells","mai","getAllmask","getComponent","setCurNum","showHG","getIDData","onLoad","an","AdManager","getAdNodeByTag","adNodeList","hideAdNode","maxpoint","pos","convertToWorldSpace","position","JSON","stringify","pos1","view","getVisibleSize","width","height","gamecenter","inGame","curcount","i","scoreNodeLabel","instantiate","put","setShareConfig","Constants","ShareConfig","POJILU_SHARE","string","self","tmp_lbid","tnum","node","cellt","script","setClickCall","data","palyAudioByIndex","GameCenterConfig","SOUNDS","POPUPCLOSE","touchEndCallback","push","parent","v2","setId","tmp_g","getAllgz","tmp_m","publicwx","tex","Texture2D","prerandomnumber","initgame","on","event","showItem","LOGE","fhBtnShow","fhbut","fhcall","recoverGame","hycall","fhsbCallBack","errorcall","setShareGroupCall","setSuccessCall","setErrorCall","RECOVER_GAME_SHARE_VIDEO","Timer","setTimer","showMinFriend","macro","REPEAT_FOREVER","hideMinFriend","gameState","waitclick","dealPlayerNoClickScreen","hideView","Utils","showWXBanner","active","dealPlayerClickScreen","mflq","produceHPAni","auditing","setReactCall","lingQuBox","FREE_GIFT_SHARE","showNumberNode","setCloseCall","showmflqBtn","getShareComponent","getChildByName","doubleScore","setStoreSucCallBack","lingQuItem","firstShowHelpView","changeTexture","game","canvas","cw","ch","is_ipx","isIpx","is_ot","y","showBanner","btnRefreshGameOverPhotoCallback","flushRedPacketBtns","initShowBoxButton","RedPacketInfo","formatCashFen2Yuan","totalAmount","isPad","tmp_view_screen","tmp_view_top_screen","s1","getContentSize","s2","s1_aim_h","s2_aim_h","s1_scale","s2_scale","scale","showCrossAd","NotificationCenter","listen","Events","ADO_EVENT_RED_PACKET_CHANGE","onRedPacktChange","toggleChecked","toggle","isChecked","hideLabel","showLabel","GIFT_GIFT_BOX_SHARE","setButtonCallType","GIFT_GIFT_SHARE_BOX_SHARE","flushMoneyNumber","onDestroy","outGame","destroyWXBanner","addxhgNumber","removexhgNumber","thn","removexhgId","share_control","comboitem","isCanWatchVideo","isMinGanIP","uncheck","FREE_GIFT_SHARE_VIDEO","check","adInfos","rawAdInfoList","tmpAdInfo","adButton","jump2MiniProgramByConfig","spriteIco","loader","load","icon_url","err","texture","new_sprite_frame","spriteFrame","setContentSize","size","gameover","combo_level_new","good","dealLianJiNumber","hideWXBanner","showCDAni","playAni","showRYBoxButton","ruyiScore","animation","Animation","play","waitnum","allcellids","resetAllMask","checkmaskbyid","minCanRemoveNumber","stopAllActions","delay","delayTime","letUserClickTime","idindex","call","callFunc","cellid","precellid","stopDaijiEff","playDaijiEff","seq","sequence","rep","repeatForever","runAction","ci","helpviewpre","destroy","x","helpviewscript","setIsGame","showUseHpHelp","setStartGameCall","itemIndex","allitem","item","itemsceipt","setData","mjUseItemNumber","showAlertMSG","canupdate","showAlert","drawPhyPoint","itemhelpscript","showNum","value","showChuiZi","updateItemByData","dealAllItems","xx1Icon","getNumberOfRunningActions","newVec2","new1Vec2","tmove","moveTo","Math","abs","itmindex","tdata","storeAllItem","maxrnum","msg","wx","showToast","title","icon","duration","ty","pri_pos","rc","move","moveBy","touchpos","caiDaiAni","zIndex","removeCall","ani","items","Util","getItemFromLocalStorage","undefined","parse","e","titemIndex","storitem","openitemIndex","topenitem","getData","tindex","randomFrom","itemid","itemnum","itemname","randomNum","random","box_rate","sub1","name","add2","chui","lowerValue","upperValue","floor","usingitem","setnum","settoblock","block","effectid","effecttime","setMaxNumber","checkclick","showWXToast","curaddnum","showAnimationWhenScoreBiggerThanTen","mpos","showTouchEffect","useCZClick","maxScoreShow","anim","finishCallback","stop","tid","step","refreshbymask","drop_time","dodrop","merge_delay_time","animateState","wrapMode","WrapMode","Normal","dt","tickmove","tickeffect","star","star1","draw","_updateSubDomainCanvas","sc","getMergeTime","baseScore","label_id","speed_keep","gezi_h_s","actiontime_keep","id_keep","id_dest","from","adjustmove","domove","addGetScoreLabelOnTile","gameOverCallBack","setWaitClickState","finalDealMask","dealDoMove","playMergeAnimation","dealLianJiLogic","audioIndex","COMBO","playZhEff","LOGD","mt","merge_time","ret","bfound","j","playGood","GOOD","cool","playCool","COOL","awesome","playAwesome","AWESOME","unbelive","playUnbelive","UNBLIEVEABLE","fileName","AudioManager","playSound","showBox","animationState","setItemToLocalStorage","allstars","starIndex","scaleX","initStars","scaleY","show","hide","stime","scaletime","tscale","scaleBoom","scaleTo","scaleSmaller","vis","commonScaleIn","storeScore","resetProgerss","visibleControllButton","maxscore","parseInt","loadItem","showOverFriendsPH","tdjs","totalPassTime","totalrepeate","djsCall","setFHBtnCallBack","tseq","fiverepeat","repeat","calltype","fuhuo","RECOVER_SHARE_GAME_SHARE","postMessage","method","window","sharedCanvas","flushPHBView","showPjlScore","showStopView","hadstorephotonumber","tmp_progress","loadProgress","useitemnumber","life","recovernumber","getrandomnum","needcheck","changenumbymask","startDropAnimation","storescorevalue","setMaxScore","allpos","startGameDropTime","reset","tmpid1","rowcellNumber","tmpid2","findtopinmask","checkmaskleft","checkmaskdownleft","checkmaskdownright","checkmaskright","checkmaskupleft","checkmaskupright","bj","add","initGameMaxNum","addRecoverNumber","topid","disy","disx","dis","posx","posy","spx","spy","gezi_size","adjustdrop","settoblockvalue","luck","sjs","ttindex","sindex","luck_block","tgl","rate","allids","total","gzindex","tcellIndex","pjNumber","fudu","saveProgress","director","loadScene","destroyFinish","saveItem","logWithColor","bpos","rest","screen","getVisibleSizeInPixel","isrestart","gzIndex","showMSG","showPlayMethod","openDataContext","getOpenDataContext","initWithElement","handleLoadedTexture","dontsetnull","giveitems","giveitem","notneedshow","findata","itemdata","djIndex","dj","rvalue","cn","sbr","show_box_rate","pow","comboz","ran","is_show","dealData","result","qzrequest","nextAmount","needShare","StateInfo","networkConnected","param","success","fail","requestRedPacket","produceItems","frameindex","itemLabel","zsdjLabel","redmsgLabel","endpos","finishCall","FLY_REDPACKET","simpleBezierAction","getRedPacket","ranRate","red_packet","showSubStopView","cmergeAniNode","mergeAni","isIPHX","animState","speed","label","get","labelScrpt","setNumber","tiles","shownum","tileIndex","dealAddNumber","getLabel","scalesm","mtop","spawn","scalex","scaley","prenum","needaddstore","hadShowShareLJ","moreThanEightNumber","tcur","mergeMaxNumberBaseScore","showScript","init","setShowNumber","contentsize","ds","dcs","rate_width","rate_height","d_x","d_y","rate_x","rate_y","w","h","toTempFilePath","destWidth","destHeight","quality","fileType","res","saveImage2PhoneByUrl","tempFilePath","t","createAndcreateAndShowWXBanner","schedule","bannerRefresh","WXAdConfig","bannerRefreshTime","photo_urls","PYQImg","GameOverPhotos","showPicIndex","pngurl","SystemInfo","cdnPath","refreshSpriteByUrl","getRedPacketMoney","ADDMONEY","state","loadRes","prefab","prefabNode","addPersistRootNode","showUI","showRedPacketTransferPop"],"mappings":"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","file":"gamemain.js","sourceRoot":"../../../../assets/Script","sourcesContent":["/*\n    游戏的逻辑UI\n    游戏的操作的主要逻辑在这个module里面编写\n    created by gyc on 2018-08-01.\n*/\n\n// 倒入游戏涉及到的module\nvar config = require(\"AddOneConfig\")\nvar gezi = require(\"GeZi\")\nvar mask = require(\"GeZiMask\")\nvar maxzorder = 999;\n\nvar gezi_map = [\n    0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, // 4\n    0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, // 5\n    0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, // 6\n    1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, // 7\n    0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, // 6\n    0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, // 5\n    0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0 // 4\n];\nvar gamemain = cc.Class({\n    extends: cc.Component,\n    properties: {\n        scoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n        showalertmsg: {\n            default: null,\n            type: cc.Label\n        },\n        num: {\n            default: [],\n            type: cc.Label\n        },\n        allpngs: {\n            default: [],\n            type: cc.Prefab\n        },\n        showNumberPrefab: {\n            default: null,\n            type: cc.Prefab\n        },\n        celltile: {\n            default: null,\n            type: cc.Prefab\n        },\n        stars: {\n            default: [],\n            type: cc.Node\n        },\n        stopView: {\n            default: null,\n            type: cc.Node\n        },\n        tupojilu: {\n            default: null,\n            type: cc.Node\n        },\n\n        fuHuo: {\n            default: null,\n            type: cc.Node\n        },\n        fuHuoBtn: {\n            default: null,\n            type: cc.Node\n        },\n        stopV: {\n            default: null,\n            type: cc.Node\n        },\n        stopButton: {\n            default: null,\n            type: cc.Node\n        },\n        pjlView: {\n            default: null,\n            type: cc.Node\n        },\n        openboxview: {\n            default: null,\n            type: cc.Node\n        },\n        itemview: {\n            default: null,\n            type: cc.Node\n        },\n\n        yyview: {\n            default: null,\n            type: cc.Node,\n        },\n\n        goodEft: {\n            default: null,\n            type: cc.Node\n        },\n\n        coolEft: {\n            default: null,\n            type: cc.Node\n        },\n\n        awesEft: {\n            default: null,\n            type: cc.Node\n        },\n\n\n        unbeliveEft: {\n            default: null,\n            type: cc.Node\n        },\n\n        chuiziEft: {\n            default: null,\n            type: cc.Node\n        },\n\n        giveYouItemLabel: {\n            default: null,\n            type: cc.Label\n        },\n        giveYouRedPackLabel: {\n            default: null,\n            type: cc.Label\n        },\n        loseScoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n        maxScoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n        sgfldjLabel: {\n            default: null,\n            type: cc.Label\n        },\n        sharelqScoreLabel1: {\n            default: null,\n            type: cc.Label\n        },\n        sharelqScoreLabel2: {\n            default: null,\n            type: cc.Label\n        },\n\n        GameOver: {\n            default: null,\n            type: cc.Label\n        },\n        loseShareButtton: {\n            default: null,\n            type: cc.Node\n        },\n        pjlShareButtton: {\n            default: null,\n            type: cc.Node\n        },\n        topRootView: {\n            default: null,\n            type: cc.Node\n        },\n        musicBtn: {\n            default: null,\n            type: cc.Node\n        },\n\n        itemhelpview: {\n            default: null,\n            type: cc.Node\n        },\n\n\n        loseRestartGameBtn: {\n            default: null,\n            type: cc.Node\n        },\n\n        friendsNode: {\n            default: null,\n            type: cc.Node\n        },\n        mergeAniNode: {\n            default: null,\n            type: cc.Prefab\n        },\n\n        helpview: {\n            default: null,\n            type: cc.Node\n        },\n        pjlScoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        ljnumberLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        itemframes: {\n            default: [],\n            type: cc.SpriteFrame,\n        },\n\n        maxscoreLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        recoverNumberLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        // 本局最大数的label\n        curmaxnumberLabel: {\n            default: null,\n            type: cc.Label\n        },\n        // 本局最大数的label\n        fh1Label: {\n            default: null,\n            type: cc.Label\n        },\n        // 本局最大数的label\n        fh2Label: {\n            default: null,\n            type: cc.Label\n        },\n        // 玩家红包数量的Label\n        moneyLabel: {\n            default: null,\n            type: cc.Label\n        },\n        openBoxIconSprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        // 排名的Sprite\n        paimingSprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n\n        effect: {\n            default: null,\n            type: cc.Prefab,\n        },\n        djitem: {\n            default: null,\n            type: cc.Prefab,\n        },\n        lifeStarPrefab: {\n            default: null,\n            type: cc.Prefab,\n        },\n        gameOut: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        friendIcon: {\n            default: null,\n            type: cc.Sprite,\n        },\n        stopViewBack: {\n            default: null,\n            type: cc.Sprite,\n        },\n        tupoJIluAni: {\n            default: null,\n            type: cc.Prefab,\n        },\n        helpViewPre: {\n            default: null,\n            type: cc.Prefab,\n        },\n        mflqBtn: {\n            default: null,\n            type: cc.Node,\n        },\n        // 血量提示tip\n        hpHelpTips: {\n            default: null,\n            type: cc.Node,\n        },\n\n        gameOutRoot: {\n            default: null,\n            type: cc.Node,\n        },\n\n        luckboxroot: {\n            default: null,\n            type: cc.Node,\n        },\n\n        cellUpView: {\n            default: null,\n            type: cc.Node,\n        },\n\n        btRootView: {\n            default: null,\n            type: cc.Node,\n        },\n        addScoreLabelPools: {\n            default: null,\n            type: cc.NodePool,\n        },\n\n        addScoreNode: {\n            default: null,\n            type: cc.Prefab,\n        },\n        getMoneyBtn: {\n            default: null,\n            type: cc.Node,\n        },\n        gameOverMaxRoot: {\n            default: null,\n            type: cc.Node,\n        },\n\n\n\n        // 游戏的背景\n        bg: cc.Node,\n        // 重新开始的按钮\n        restart: cc.Button,\n        // 当前玩家得分\n        score: 0,\n        // 玩家当前体力 默认为最大值\n        point: tywx.ado.hpvalue,\n        // 当前点击的块ID\n        g_mask_samecnt: 0,\n        //点击的格子ID\n        g_clickid: -1,\n        //游戏状态-无，等待点击，移动，下落等\n        gamestate: 'null',\n        //游戏状态的计时\n        gamestatetime: 0,\n        //当前最大值\n        maxnum: 5,\n        //此次点击产生的连击数\n        lianjiNumber: 1,\n        // 存放每个格子的数组\n        g_gezi: [],\n        // 存放每个mask的数组\n        g_mask: [],\n        // 玩家当前道具\n        allitems: [],\n        // 此时距离上次点击屏幕有多长时间\n        curtimeawaypre: 10,\n        // 控制隐藏好友\n        isShowFIcon: false,\n        // 此局复活次数\n        recoverNumber: 0,\n        // 此局是否展示过破纪录\n        hadShowPjl: false,\n        // 此局是否展示过破纪录\n        allOpenItems: [],\n        // 此次连接产生的道具\n        produceItem: null,\n        // 此局是否是进入游戏后的重新开始的局\n        isRestartGame: false,\n        // 显示宝箱的数量\n        showboxNumber: 0,\n        // 上一次的生命值\n        prepoint: 0,\n        // 时间段内玩家是否有点击过屏幕 true: 有点击 false: 没有点击 \n        hadClickScreen: false,\n        // 当前处于使用状态的道具ID\n        curUsingItemData: null,\n        // 是哦用道具不消耗生命\n        isUsingItem: false,\n        // 当前是否在刷新mask\n        refreshingMask: false,\n        // 此次点击是否有分数产生\n        hasProduceNewScore: false,\n        // 此次是否已经加过num\n        hadAddNum: false,\n        // 当前需要合并的所有块的ID\n        allmergecellIds: [],\n        // 显示加分时间\n        showAddTime: 0.1,\n        // 此次点击是否产生过大于10的分享\n        hadProducetantenNUmber: false,\n        // 开始动画时间\n        startDropTime: 0,\n        // 当前奖励分数\n        curGiveScore: 0,\n        // 是否已经弹出过领取界面\n        hadshowlqbox: false,\n        // 记录当前数字显示过小皇冠\n        curshowxhgs: [],\n        // 记录已经标示有小皇冠的格子\n        allxhggz: [],\n        // 所有禁用小皇冠ID\n        alljzxhgid: [],\n        // 所有展示过分享领奖的数字\n        allshowshareids: [],\n        // 交换道具的使用\n        twocellexchange: [],\n        // 打开宝箱之前禁止操作盘面\n        playjjaniing: false,\n        // 本局合出来的最大数\n        curmaxNumber: 5,\n        // 之前存储的进度数据\n        curPreStorePData: null,\n        // 领取如意box的按钮\n        ryBox: cc.Node,\n        ryBoxBack: cc.Sprite,\n        // 如意宝箱的按钮\n        ryBoxBtn: cc.Node,\n        // 控制帮助显示广告\n        isitemhelphide: false,\n        // 当前的免费领取道具是否是领取红包\n        curmflqIsRedPacket: false,\n        // 每局限制使用的道具数量\n        useItemNumber: 0,\n        // 当前红包的状态\n        curRedPacketStatue: 0,\n        // 红包飞行图标\n        redpacketicon: {\n            default: null,\n            type: cc.Node,\n        },\n        getRedPacketBtn: {\n            default: null,\n            type: cc.Node,\n        },\n        fhShowLabel: cc.Label,\n        fhHideLabel: cc.Label,\n        fhDjsLabel: cc.Label,\n        adNode: cc.Node,\n        quanSprite: cc.Node,\n        mflqhideLabel: cc.Label,\n        mflqshowLabel: cc.Label,\n        mflqshareNode: cc.Node,\n        returnBtnNode: cc.Node,\n        closeBtnNode: cc.Node,\n    },\n\n    /**\n     * @description 设置当前合出的最大数\n     * @param {Number} maxnum 设置的最大数\n     */\n    setCurMaxNumber: function (maxnum) {\n        if (maxnum > this.curmaxNumber) {\n            this.curmaxNumber = maxnum;\n        }\n    },\n\n    /**\n     * @description 添加交换对象\n     * @param {celltile} cell 格子对象\n     */\n    addJHCell: function (cell) {\n        if (this.twocellexchange.length < 2) {\n            this.twocellexchange[this.twocellexchange.length] = cell;\n        } else {\n            console.log(\"交换格子数不对\");\n        }\n    },\n\n    /**\n     * @description 清空交换对象\n     */\n    clearJHCell: function () {\n        this.twocellexchange = [];\n    },\n\n    /**\n     * @description 使用交换道具的时候调用\n     */\n    exchangeTWOCell: function () {\n        if (this.twocellexchange.length == 2) {\n\n\n            // 交换完成后检查是否有合并\n        } else {\n            console.log(\"请选择交换对象\");\n        }\n    },\n\n    /**\n     * @description 添加展示过小皇冠的number\n     * @param {Number} id 对应的数字\n     */\n    addXHGId: function (id) {\n        this.alljzxhgid[this.alljzxhgid.length] = id;\n    },\n\n    // 处理当前保存的最大值以下的小皇冠ID\n    dealAddStoreMaxNum: function () {\n        console.log(\"游戏初始化的时候的最大值= \" + starNum);\n        for (var starNum = 7; starNum <= this.curmaxNumber; starNum++) {\n            if (starNum % 2 == 0) {\n                this.addXHGId(starNum);\n                this.allshowshareids[this.allshowshareids.length] = starNum;\n            }\n        }\n    },\n\n    /**\n     * @description 判断给定给的数字是否显示过皇冠\n     * @param {Number } id 数字\n     */\n    hadXHGId: function (id) {\n        for (var ti = 0; ti < this.alljzxhgid.length; ti++) {\n            if (this.alljzxhgid[ti] == id) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n    /**\n     * @description 添加小皇冠的cell\n     * @param {celltile} cell 格子对象\n     */\n    addXHGCell: function (cell) {\n        this.allxhggz[this.allxhggz.length] = cell;\n    },\n\n    /**\n     * @description 处理小皇冠的显示\n     */\n    dealXhgCells: function () {\n        for (var mai = 0; mai < this.getAllmask().length; mai++) {\n            if (this.allpngs[mai]) {\n                this.allpngs[mai].getComponent(\"celltile\").setCurNum(this.getAllmask()[mai].num);\n                this.allpngs[mai].getComponent(\"celltile\").showHG();\n            }\n\n        }\n    },\n\n    /**\n     * @description 得到对应格子的数据\n     * @param {Number} id 对应格子的ID\n     */\n    getIDData: function (id) {\n        return this.getAllmask()[id];\n    },\n\n    /**\n     * @description: 场景加载完成后的一些UI逻辑处理 \n     */\n    onLoad: function () {\n        let an = tywx.AdManager.getAdNodeByTag('GAME_START');\n        console.log(\"IIIIIIIIIIAD....\", an, tywx.AdManager.adNodeList.length);\n        if (an) an.hideAdNode();\n        this.maxpoint = tywx.ado.hpvalue;\n        this.pos = this.gameOutRoot.convertToWorldSpace(this.gameOutRoot.position);\n        console.log(JSON.stringify(this.pos1) + \" v= \" + JSON.stringify(cc.view.getVisibleSize()) + \"尺寸= \" + this.gameOutRoot.width + \" z = \" + this.gameOutRoot.height + \" 坐标 = \" + JSON.stringify(this.pos))\n        tywx.gamecenter = this;\n        tywx.ado.inGame(this);\n        this.addScoreLabelPools = new cc.NodePool();\n        var curcount = 15;\n        for (let i = 0; i < curcount; ++i) {\n            let scoreNodeLabel = cc.instantiate(this.addScoreNode); // 创建节点\n            this.addScoreLabelPools.put(scoreNodeLabel); // 通过 putInPool 接口放入对象池\n        }\n        this.pjlShareButtton.getComponent(\"ShareButton\").setShareConfig(tywx.ado.Constants.ShareConfig.POJILU_SHARE);\n        // 初始分数显示为0\n        this.scoreLabel.string = this.score;\n        var self = this;\n\n        var tmp_lbid = -1;\n        this.tnum = [];\n        // 循环生成初始游戏\n        for (var i = 0; i < gezi_map.length; i++) {\n            tmp_lbid = -1;\n            if (gezi_map[i] == 1) {\n                var node = new cc.Node(\"node\");\n                var cellt = cc.instantiate(this.celltile);\n                var script = cellt.getComponent(\"celltile\");\n\n                script.setClickCall(function (data, celltile) {\n                    self.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.POPUPCLOSE);\n                    if (!self.playjjaniing) {\n                        self.touchEndCallback(data, celltile);\n                    }\n\n\n                });\n                this.allpngs.push(cellt);\n                cellt.parent = this.yyview;\n                cellt.position = cc.v2(0, 0);\n                node.position = cc.v2(0, 0);\n                node.parent = this.node;\n\n                this.tnum.push(1);\n                tmp_lbid = this.tnum.length - 1;\n                script.setId(i);\n                // console.log(\"当前的格子changdu  \" + this.tnum.length);\n                // cellt.active = false;\n            } else {\n                this.allpngs.push(null);\n            }\n\n            var tmp_g = new gezi(i, this, tmp_lbid);\n            this.getAllgz().push(tmp_g);\n            var tmp_m = new mask(i, this);\n            this.getAllmask().push(tmp_m);\n        }\n\n        console.log(\"格子图片总数 = \" + this.allpngs.length);\n        if (tywx.publicwx) {\n            this.tex = new cc.Texture2D();\n        }\n        var self = this;\n        // 游戏的点击逻辑\n        // this.node.on('touchend', function ( event ) {\n        //     if(self.stopView.active == false){\n        //         var mpos = event.touch.getLocation();\n        //         self.touchEndCallback(mpos.x,mpos.y);\n        //     }\n        // });\n        // 前一个产生的随机数\n        this.prerandomnumber = 0;\n        // 初始游戏\n        this.initgame();\n\n        this.isRestartGame = false;\n        //   // 游戏的点击逻辑\n        this.stopViewBack.node.on('touchstart', function (event) {\n            return true;\n        });\n\n        this.gameOut.node.on('touchstart', function (event) {\n            return true;\n        });\n\n        this.ryBoxBack.node.on('touchstart', function (event) {\n            return true;\n        });\n\n\n\n        // var effect = cc.instantiate(this.effect);\n        // this.node.parent.addChild(effect);\n        // effect.x = 140;\n        // effect.y = 90;\n        this.showItem();\n        // 设置复活按钮的点击回调\n        tywx.LOGE(\"dddds\" + JSON.stringify(config));\n        this.fhBtnShow();\n        let fhbut = this.fuHuo.getComponent(\"ShareButton\");\n        if (fhbut) {\n            var fhcall = function () {\n                self.recoverGame();\n            }\n            var hycall = function () {\n                self.fhsbCallBack();\n            }\n\n            var errorcall = function () {\n                self.fhsbCallBack();\n            }\n            // 设置分享到组的成功回调\n            fhbut.setShareGroupCall(fhcall);\n            // 设置分享到好友的回调\n            fhbut.setSuccessCall(hycall);\n            // 设置分享失败后的回调\n            fhbut.setErrorCall(hycall);\n            fhbut.setShareConfig(tywx.ado.Constants.ShareConfig.RECOVER_GAME_SHARE_VIDEO);\n        }\n        // 开启一个进程循环显示即将超逾的玩家\n        tywx.Timer.setTimer(self, function () {\n            self.showMinFriend();\n        }, 10, cc.macro.REPEAT_FOREVER, 0);\n\n        // // 开启一个进程循环隐藏即将超逾的玩家\n        tywx.Timer.setTimer(self, function () {\n            self.hideMinFriend();\n        }, 15, cc.macro.REPEAT_FOREVER, 5);\n\n        // 开一个线程监听次时间段用户是否有点击\n        tywx.Timer.setTimer(self, function () {\n            if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n                this.hadClickScreen = false;\n                self.dealPlayerNoClickScreen();\n            }\n        }, 15, 0, 15);\n\n        this.node.on('touchend', function (event) {\n            self.itemhelpview.getComponent(\"ItemHelp\").hideView();\n            self.curUsingItemData = null;\n            if (self.isitemhelphide == true) {\n                tywx.ado.Utils.showWXBanner();\n                self.isitemhelphide = false;\n            }\n            self.itemhelpview.active = false;\n            self.dealPlayerClickScreen();\n            self.hadClickScreen = true;\n        });\n\n        // 设置免费领取的回调\n        this.mflq = this.mflqBtn.getComponent(\"ShareButton\");\n        this.produceHPAni(this.mflqBtn, 0.6, 1.1);\n        console.log(\"当前红包是否可以直接领取 \" + tywx.config.auditing);\n        if (tywx.config.auditing == true) {\n            this.mflq.setReactCall(true);\n        } else {\n            this.mflq.setReactCall(false);\n        }\n        this.mflq.setSuccessCall(function () {\n            self.lingQuBox();\n        });\n        this.mflq.setShareGroupCall(function () {\n            self.lingQuBox();\n        });\n        this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE);\n\n        this.showNumberNode = cc.instantiate(this.showNumberPrefab);\n        this.showNumberNode.active = false;\n        this.showNumberNode.parent = this.node;\n\n        this.showNumberNode.getComponent(\"MoreTanNumber\").setCloseCall(function () {\n            self.hadshowlqbox = false;\n        });\n\n        var showmflqBtn = this.showNumberNode.getComponent(\"MoreTanNumber\").getShareComponent();\n        this.produceHPAni(this.showNumberNode.getChildByName(\"rootnode\").getChildByName(\"xin2048_baoxiang_03\").getChildByName(\"sharebuttton\").getChildByName(\"button\"), 0.6, 1.1);\n        showmflqBtn.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE);\n        if (tywx.config.auditing == true) {\n            showmflqBtn.setReactCall(true);\n        } else {\n            showmflqBtn.setReactCall(false);\n        }\n        showmflqBtn.setSuccessCall(function () {\n            // console.log(\"Helloc\");\n            // self.lingQuBox();\n            self.showNumberNode.active = false;\n            self.stopView.active = false;\n            self.hadshowlqbox = false;\n            self.showNumberNode.getComponent(\"MoreTanNumber\").doubleScore();\n        });\n        showmflqBtn.setShareGroupCall(function () {\n            // self.lingQuBox();\n            self.showNumberNode.active = false;\n            self.stopView.active = false;\n            self.hadshowlqbox = false;\n            self.showNumberNode.getComponent(\"MoreTanNumber\").doubleScore();\n        });\n        // 设置保存照片成功后的回调\n        this.showNumberNode.getComponent(\"MoreTanNumber\").setStoreSucCallBack(function () {\n            self.lingQuItem(true);\n            // console.log(\"当前已经领取成功\");\n        });\n        // this.showAnimationWhenScoreBiggerThanTen(14);\n        this.firstShowHelpView();\n        self.friendIcon.node.active = true;\n        this.musicBtn.getComponent(\"Audio\").changeTexture();\n        let [cw, ch] = [cc.game.canvas.width, cc.game.canvas.height];\n        let is_ipx = tywx.ado.Utils.isIpx();\n        let is_ot = ch / cw > 1.9;\n        if (is_ipx) {\n            //    this.friendIcon.node.y = this.friendIcon.node.y + 40;\n            this.topRootView.y = this.topRootView.y - 110;\n            this.itemview.y = this.itemview.y - 90;\n            this.btRootView.y = this.btRootView.y + 86;\n        } else if (is_ot) {\n            this.btRootView.y = this.btRootView.y + 94;\n        }\n        this.showBanner();\n        // ! Modify by luning [07-09-2018] 矫正道具位置\n        if (tywx.ado.Utils.isIpx()) {\n            console.log('// ! Modify by luning [07-09-2018] ipxipxipxipx');\n            //this.itemview.parent.position.y += 500;\n        }\n        this.btnRefreshGameOverPhotoCallback();\n        this.flushRedPacketBtns(0);\n        this.initShowBoxButton(); \n        // 设置当前红包的显示金额\n        console.log(\"RedPacketInfo = \" + JSON.stringify(tywx.ado.RedPacketInfo))\n        this.moneyLabel.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(tywx.ado.RedPacketInfo.totalAmount) || 0.0}`;\n        //! 适配pad \n        if (tywx.ado.Utils.isPad()) {\n            let tmp_view_screen = this.node.getChildByName('screen'); // 0.765\n            let tmp_view_top_screen = this.node.getChildByName('topscreen'); // 0.156\n            let s1 = tmp_view_screen.getContentSize();\n            let s2 = tmp_view_top_screen.getContentSize();\n            let s1_aim_h = this.node.getContentSize().height * 0.765;\n            let s2_aim_h = this.node.getContentSize().height * 0.156;\n            let s1_scale = s1_aim_h / s1.height;\n            let s2_scale = s2_aim_h / s2.height;\n            tmp_view_screen.scale = s1_scale;\n            tmp_view_top_screen.scale = s2_scale;\n        }\n\n        // ! 显示交叉导流广告\n        this.showCrossAd();\n        // 监听红包事件\n        tywx.NotificationCenter.listen(tywx.ado.Events.ADO_EVENT_RED_PACKET_CHANGE, this.onRedPacktChange, this);\n    },\n\n\n    /**\n     * @description 复选框点击回调\n     * @param {Object} toggle 复选框本身\n     */\n    toggleChecked: function (toggle) {\n        if (!toggle.isChecked) {\n            this.hideLabel.string = \"视频领取\";\n            this.showLabel.string = \"视频领取\";\n            this.mflqBtn.getComponent(\"ShareButton\").setShareConfig(tywx.ado.Constants.ShareConfig.GIFT_GIFT_BOX_SHARE);\n            this.mflqBtn.getComponent(\"ShareButton\").setButtonCallType(2);\n        } else {\n            this.hideLabel.string = \"分享领取\";\n            this.showLabel.string = \"分享领取\";\n            this.mflqBtn.getComponent(\"ShareButton\").setShareConfig(tywx.ado.Constants.ShareConfig.GIFT_GIFT_SHARE_BOX_SHARE);\n            this.mflqBtn.getComponent(\"ShareButton\").setButtonCallType(1);\n        }\n    },\n\n    /** \n     * @description 红包数量变化\n     */\n    onRedPacktChange: function () {\n        this.flushMoneyNumber();\n    },\n\n    /**\n     * @description 退出游戏\n     */\n    onDestroy() {\n        // this.printMaskMsg();\n        tywx.ado.outGame();\n\n        tywx.ado.Utils.destroyWXBanner();\n    },\n\n    /**\n     * @description 复活按钮的显示控制\n     */\n    fhBtnShow: function () {\n        // console.log(\"当前的版本信息 =\" + tywx.SystemInfo.version + JSON.stringify(config));\n        if (tywx.config.auditing == true) {\n            this.fuHuo.active = false;\n            this.loseRestartGameBtn.active = true;\n        } else {\n            this.fuHuo.active = true;\n            // this.loseRestartGameBtn.active = false;\n        }\n    },\n\n    /**\n     * @description 添加小皇冠显示过的格子数据\n     * @param {Number} num 格子显示的数字\n     * @param {Number} id 格子的ID\n     */\n    addxhgNumber: function (num, id) {\n        // if (tywx.gamecenter.hasShowxhgNum(num) == false && tywx.gamecenter.hasShowxhgNum(id) == false) {\n                this.curshowxhgs[this.curshowxhgs.length] = {\n                    id: id,\n                    num: num\n                };\n        // }\n    },\n\n    /**\n     * @description 根据数字移除格子的数据\n     * @param {Number} num 移除显示的格子数字\n     */\n    removexhgNumber: function (num) {\n        // console.log(\"当前的ID是1 = \" + JSON.stringify(this.curshowxhgs));\n        for (var thn = 0; thn < this.curshowxhgs.length; thn++) {\n            if (this.curshowxhgs[thn].num == num) {\n                // this.curshowxhgs.splice(thn, 1);\n                this.curshowxhgs[thn].num = -1;\n            }\n        }\n        // console.log(\"当前的ID是2 = \" + JSON.stringify(this.curshowxhgs));\n    },\n\n    /**\n     * @description 根据数字移除格子的数据\n     * @param {Number} num 移除显示的格子数字\n     */\n    removexhgId: function (id) {\n        // console.log(\"当前的ID是1 = \" + JSON.stringify(this.curshowxhgs));\n        for (var thn = 0; thn < this.curshowxhgs.length; thn++) {\n            if (this.curshowxhgs[thn].id == id) {\n                // this.curshowxhgs.splice(thn, 1);\n                this.curshowxhgs[thn].id = -1;\n            }\n        }\n        // console.log(\"当前的ID是2 = \" + JSON.stringify(this.curshowxhgs));\n    },\n\n     /**\n      * @description 初始化领取的\n      */\n     initShowBoxButton: function () {\n         if (tywx.config.share_control.comboitem == \"video\" && tywx.ado.isCanWatchVideo) {\n             this.mflqshareNode.active = true;\n             this.mflqhideLabel.string = \"视频领取\";\n             this.mflqshowLabel.string = \"视频领取\";\n            if(tywx.ado.isMinGanIP){\n               this.mflqshareNode.active = false;\n            }\n             this.mflqshareNode.getComponent(\"cc.Toggle\").uncheck();\n             this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE_VIDEO);\n             this.mflq.setButtonCallType(2);\n         } else if (tywx.config.share_control.comboitem == \"share\" || !tywx.ado.isCanWatchVideo) {\n             this.mflqshareNode.active = true;\n             this.mflqhideLabel.string = \"免费领取\";\n             this.mflqshowLabel.string = \"免费领取\";\n             this.mflqshareNode.getComponent(\"cc.Toggle\").check();\n             this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE);\n             this.mflq.setButtonCallType(1);\n         }\n         \n         if (!tywx.ado.isCanWatchVideo){\n             this.mflqshareNode.active = false;\n         }\n     },\n\n    /**\n     * @description 复选框点击回调\n     * @param {Object} toggle 复选框本身\n     */\n    toggleChecked: function (toggle) {\n        if (!toggle.isChecked) {\n            this.mflqhideLabel.string = \"视频领取\";\n            this.mflqshowLabel.string = \"视频领取\";\n            this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE_VIDEO);\n            this.mflq.setButtonCallType(2);\n        } else {\n            this.mflqhideLabel.string = \"免费领取\";\n            this.mflqshowLabel.string = \"免费领取\";\n            this.mflq.setShareConfig(tywx.ado.Constants.ShareConfig.FREE_GIFT_SHARE);\n            this.mflq.setButtonCallType(1);\n        }\n    },\n    showCrossAd() {\n        // 审核状态不显示\n        if (tywx.config.auditing === true) return;\n\n        let adInfos = tywx.AdManager.rawAdInfoList;\n        if (!adInfos || adInfos.length <= 0) return;\n        let tmpAdInfo = adInfos[0];\n        let adButton = this.adNode.getChildByName('adButton');\n        adButton.on('click', function () {\n            tywx.ado.Utils.jump2MiniProgramByConfig(tmpAdInfo);\n        });\n        let spriteIco = this.adNode.getChildByName('adIcon').getComponent(cc.Sprite);\n        let self = this;\n        cc.loader.load(tmpAdInfo.icon_url[0], (err, texture) => {\n            if (!err) {\n                let new_sprite_frame = new cc.SpriteFrame(texture);\n                spriteIco.spriteFrame = new_sprite_frame;\n                spriteIco.node.setContentSize(cc.size(100, 100));\n                self.adNode.active = true;\n                console.log(\"刷新CDN图片成功\");\n            }\n        });\n        //tywx.ado.Utils.refreshSpriteByUrl(spriteIco,tmpAdInfo.icon_url[0],cc.size(100,100));\n    },\n    /**\n     * @description 测试日志方法2\n     */\n    showmsm2: function () {\n        //  console.log(\"showmsm2 = \" + JSON.stringify(this.curshowxhgs));\n    },\n\n    /**\n     * @description 测试日志方法1\n     */\n    showmsm1: function () {\n        // console.log(\"showmsm1 = \" + JSON.stringify(this.curshowxhgs));\n    },\n\n    /**\n     * @description 判断当前的数字是否显示小皇冠\n     * @param {Number} num 显示的数字\n     * @param {Number} id 显示格子的ID\n     */\n    hasShowxhgNum: function (num, id) {\n        if (this.curshowxhgs.length == 0) {\n            return false;\n        }\n        for (var ti = 0; ti < this.curshowxhgs.length; ti++) {\n            if (num == this.curshowxhgs[ti].num) {\n               return true;\n            }\n        }\n        return false;\n    },\n\n     /**\n      * @description 判断当前的数字是否显示小皇冠\n      * @param {Number} num 显示的数字\n      * @param {Number} id 显示格子的ID\n      */\n     hasShowxhgId: function (id) {\n         if (this.curshowxhgs.length == 0) {\n             return false;\n         }\n         for (var ti = 0; ti < this.curshowxhgs.length; ti++) {\n             if (id == this.curshowxhgs[ti].id) {\n                 return true;\n             }\n         }\n         return false;\n     },\n\n    /**\n     * @description 设置游戏状态\n     * @param {Number}\n     */\n    setWaitClickState: function () {\n        \n        // this.curshowxhgs = [];\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.gameover) {\n            return;\n        }\n        if (this.point <= 0) {\n            return;\n        }\n        // 判断连接数的大小 如果连接数大于不同的值则产生不同的效果\n        if (this.gamestate != tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n\n            if (this.lianjiNumber >= tywx.config.combo_level_new.good && this.point > 0) {\n                if (!this.hadshowlqbox) {\n                    this.dealLianJiNumber();\n                } else {\n                    this.playjjaniing = false;\n                    if (this.hadshowlqbox) {\n                        if (tywx.config.auditing == false) {\n                            tywx.ado.Utils.hideWXBanner();\n                            this.showNumberNode.active = true;\n                            this.showCDAni();\n                            this.showNumberNode.getComponent(\"MoreTanNumber\").playAni();\n                        }\n                        this.hadshowlqbox = false;\n                    }\n                }\n            } else {\n                if (this.hadshowlqbox) {\n                    if (tywx.config.auditing == false) {\n                        tywx.ado.Utils.hideWXBanner();\n                        this.showNumberNode.active = true;\n                        this.showCDAni();\n                        this.showNumberNode.getComponent(\"MoreTanNumber\").playAni();\n                    }\n                    this.hadshowlqbox = false;\n                } else if (this.hadShowPjl == false && this.point > 0 && this.hasProduceNewScore == true) {\n                    this.hasProduceNewScore = false;\n                    // this.pjlCallBack();\n                }\n            }\n            this.showRYBoxButton();\n            this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n        }\n\n    },\n\n    /**\n     * 显示如意宝箱\n     */\n    showRYBoxButton: function () {\n        if (this.score >= tywx.config.ruyiScore && this.ryBoxBtn.active == false) {\n            if (tywx.config.auditing == true) {\n                this.ryBoxBtn.active = false;\n            } else {\n                this.ryBoxBtn.active = true;\n                var animation = this.ryBoxBtn.getComponent(cc.Animation);\n                animation.play(\"daiji\");\n            }\n        } else if (this.score < tywx.config.ruyiScore) {\n            this.ryBoxBtn.active = false;\n        }\n    },\n\n    /**\n     * @description 设置当前待处理的显示Number\n     */\n    setWaitNum: function (waitnum) {\n        this.waitnum = waitnum;\n    },\n\n    /**\n     * @description 处理玩家没有点击屏幕的状态\n     */\n    dealPlayerNoClickScreen: function () {\n        if (this.hadClickScreen == false) {\n            var self = this;\n            this.hadClickScreen = true;\n            // 得到当前点击可以消除的格子\n            var allcellids = [];\n            for (var i = 0; i < gezi_map.length; i++) {\n                this.resetAllMask();\n                this.getAllmask()[i].num = this.getAllmask()[i].num + 1;\n                this.checkmaskbyid(i, 0);\n                if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                    allcellids[allcellids.length] = i;\n                }\n            }\n\n            // for(var ci = 0; ci < allcellids.length; ci ++){\n            //     if(this.allpngs[allcellids[ci]] != null){\n            //        this.allpngs[allcellids[ci]].getComponent(\"celltile\").playDaijiEff();\n            //     }\n            // }\n\n            if (allcellids.length > 0) {\n                // console.log(\" 所有可连接的ID = \" + JSON.stringify(allcellids));\n                self.node.stopAllActions();\n                var delay = cc.delayTime(tywx.ado.Constants.GameCenterConfig.letUserClickTime);\n                var idindex = 0;\n                var call = cc.callFunc(function () {\n                    var cellid = allcellids[idindex];\n                    // console.log(idindex + \" = 当前的ID信息 = \" + cellid);\n                    if (idindex > 0) {\n                        var precellid = allcellids[idindex - 1];\n                        self.allpngs[precellid] && (self.allpngs[precellid].getComponent(\"celltile\").stopDaijiEff());\n                    }\n\n\n                    if (idindex - 1 >= 0) {\n                        var precellid = allcellids[idindex - 1];\n                        self.allpngs[precellid] && (self.allpngs[precellid].getComponent(\"celltile\").stopDaijiEff());\n                    } else {\n                        var precellid = allcellids[allcellids.length - 1];\n                        self.allpngs[precellid] && (self.allpngs[precellid].getComponent(\"celltile\").stopDaijiEff());\n                    }\n                    self.allpngs[cellid] && (self.allpngs[cellid].getComponent(\"celltile\").playDaijiEff());\n                    if (idindex == allcellids.length - 1) {\n                        idindex = 0;\n                    } else {\n                        idindex = idindex + 1;\n                    }\n                });\n                var seq = cc.sequence(call, delay);\n                var rep = cc.repeatForever(seq);\n                self.node.runAction(rep);\n            }\n\n\n        }\n    },\n\n\n    /**\n     * @description 处理玩家当前的点击屏幕的逻辑\n     */\n    dealPlayerClickScreen: function () {\n        // if(this.hadClickScreen == false){\n        var self = this;\n        this.node.stopAllActions();\n        for (var ci = 0; ci < gezi_map.length; ci++) {\n            if (this.allpngs[ci] != null) {\n                this.allpngs[ci].getComponent(\"celltile\").stopDaijiEff();\n            }\n        }\n        this.hadClickScreen = true;\n        // 开一个线程监听次时间段用户是否有点击\n        tywx.Timer.setTimer(self, function () {\n            if (self.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n                self.hadClickScreen = false;\n                self.dealPlayerNoClickScreen();\n            }\n        }, 5, 0, 15);\n        // }\n    },\n\n\n\n    /**\n     * @description 显示游戏帮助界面\n     */\n    showPlayMethod: function () {\n        if (this.helpviewpre != null) {\n            this.helpviewpre.destroy();\n            this.helpviewpre = null;\n        }\n        // 添加帮助界面\n        this.helpviewpre = cc.instantiate(this.helpViewPre);\n        this.helpviewpre.x = 360;\n        this.helpviewpre.y = 0;\n        this.helpviewscript = this.helpviewpre.getComponent(\"helpview\");\n        var self = this;\n        this.helpviewscript.setIsGame(1);\n        this.helpviewscript.setCloseCall(function () {\n            //  self.showSubStopView();\n            self.helpview.active = !self.helpview.active ? true : false;\n            self.showUseHpHelp(true);\n            // console.log(\"当前的新手帮助\")\n        });\n\n        this.helpviewscript.setStartGameCall(function () {\n            self.helpview.active = !self.helpview.active ? true : false;\n            self.showUseHpHelp(true);\n        });\n        this.helpviewpre.parent = this.helpview;\n        self.helpview.active = !self.helpview.active ? true : false;\n    },\n\n    /**\n     * @description 复活成功后的回调调用\n     */\n    fhsbCallBack: function () {\n        // this.showAlert(\"请分享到不同的群\");\n        // this.visibleControllButton(false);\n        // this.initgame();\n    },\n\n    /**\n     * @description 显示当前玩家的道具\n     */\n    showItem: function () {\n        tywx.LOGE(\"当局 = \")\n        let [cw, ch] = [cc.game.canvas.width, cc.game.canvas.height];\n        let is_ipx = tywx.ado.Utils.isIpx();\n        let is_ot = ch / cw > 1.9;\n        if (is_ipx) {\n            this.itemview.y = this.scoreLabel.node.y - 30;\n        } else if (is_ot) {\n            // this.itemview.y = this.scoreLabel.node.y - 15;\n        }\n\n        for (var itemIndex = 0; itemIndex < tywx.ado.Constants.GameCenterConfig.allitem.length; itemIndex++) {\n            var item = cc.instantiate(this.djitem);\n            let itemsceipt = item.getComponent(\"DjItem\");\n            itemsceipt.setData(tywx.ado.Constants.GameCenterConfig.allitem[itemIndex]);\n            item.parent = this.itemview;\n            var self = this;\n            itemsceipt.setClickCall(function (data, item) {\n                // 判断当前游戏是否是等待点击状态 不是则不能使用道具\n                if (self.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n                    // 判断道具数量足不足\n                    // 如果使用道具数量大于 则提示道具使用限制已达最大值\n                    if (self.useItemNumber > (tywx.config.mjUseItemNumber || 10)) {\n                        self.showAlertMSG(\"道具使用次数已达\" + (tywx.config.mjUseItemNumber || 10) + \"次\");\n                        return;\n                    }\n\n                    if (data.num > 0) {\n                        var canupdate = true;\n                        if (data.id == 4) {\n                            if (self.point == self.maxpoint) {\n                                self.showAlert(\"当前生命值已满。\");\n                                canupdate = false;\n                            } else {\n                                self.recoverGame();\n                            }\n                        } else if (data.id == 5) { // 加1血\n                            tywx.LOGE(\"当前徐良= \" + self.point + \",\" + self.maxpoint);\n                            if (self.point < self.maxpoint) {\n                                // self.showOneHpEf(item);\n                                self.prepoint = self.point;\n                                self.point = self.point + 1;\n                                self.useItemNumber++;\n                                self.drawPhyPoint();\n                                canupdate = true;\n                            } else {\n                                canupdate = false;\n                                self.showAlert(\"血量充足\");\n                            }\n                        } else {\n                            // canupdate = self.getAllPathByitemValue(data);\n                            self.itemhelpview.active = true;\n                            tywx.ado.Utils.hideWXBanner();\n                            self.isitemhelphide = true;\n                            let itemhelpscript = self.itemhelpview.getComponent(\"ItemHelp\");\n                            if (data.id == 2 || data.id == 1) {\n                                self.curUsingItemData = data;\n                                itemhelpscript.showNum(data.value);\n                            } else if (data.id == 6) {\n                                self.curUsingItemData = data;\n                                itemhelpscript.showChuiZi();\n                            }\n                            canupdate = false;\n                        }\n                        // 显示\n                        if (canupdate == true) {\n                            data.num = data.num - 1;\n                            if (data.num < 0) {\n                                data.num = 0;\n                            }\n                            self.updateItemByData(data);\n                        }\n                    } else {\n                        self.showAlert(\"道具数量不足！\");\n                    }\n                }\n            });\n\n            item.x = 328 + (itemIndex * 108);\n            if (is_ipx) {\n                item.y = item.y - 75;\n            } else {\n                item.y = item.y - 70;\n            }\n            this.allOpenItems.push(item);\n        }\n        // 刷新道具显示\n        this.dealAllItems();\n    },\n\n\n    /**\n     * @description  使用1血特效\n     * @param {Object} item 具体的某个道具对象\n     */\n    showOneHpEf: function (item) {\n        if ((this.point != this.maxpoint || this.point != 1) && item.xx1Icon.node.getNumberOfRunningActions() == 0) {\n            var node = this.stars[this.point];\n            var newVec2 = node.convertToWorldSpace(cc.v2(node.x, node.y));\n            var new1Vec2 = item.xx1Icon.node.convertToWorldSpace(cc.v2(item.xx1Icon.node.x, item.xx1Icon.node.y));\n            var tmove = cc.moveTo(0.6, cc.v2(newVec2.x - new1Vec2.x - node.x - 30, newVec2.y - Math.abs(new1Vec2.y) - node.y));\n            var seq = cc.sequence(tmove, cc.callFunc(function () {\n                item.xx1Icon.node.x = 0;\n                item.xx1Icon.node.y = 0;\n            }))\n            item.xx1Icon.node.runAction(seq);\n        }\n\n    },\n\n    /**\n     * @description 更新某个道具\n     * @param {Object} data 更新道具的数据\n     */\n    updateItemByData: function (data) {\n        if (data != null) {\n            tywx.LOGE(\"当前更新的数据 = \" + JSON.stringify(data));\n            for (var itmindex = 0; itmindex < this.allitems.length; itmindex++) {\n                var tdata = this.allitems[itmindex];\n                if (tdata.id == data.id) {\n                    tdata.num = data.num;\n                    this.allitems[itmindex] = tdata;\n                    this.storeAllItem();\n                    this.dealAllItems(this.allitems)\n                    break;\n                }\n            }\n        }\n    },\n    /**\n     * @description 添加已经复活次数\n     */\n    addRecoverNumber: function () {\n        this.recoverNumber = this.recoverNumber + 1;\n        // 如果恢复的次数等于2的话 隐藏恢复按钮\n        if (this.recoverNumber == tywx.ado.Constants.GameCenterConfig.maxrnum) {\n            this.fuHuo.active = false;\n        } else {\n            this.fhBtnShow();\n        }\n    },\n\n\n    /**\n     * @description 显示微信的的toast 提示框\n     * @param {String} msg 显示的文本信息\n     */\n    showAlert: function (msg) {\n        wx.showToast({\n            title: msg,\n            icon: 'success',\n            duration: 1500,\n        });\n\n    },\n    /**\n     * @description 显示向上弹出的文字提示\n     * @param {String} msg 显示的文本信息\n     */\n    showAlertMSG: function (msg) {\n        if (msg !== null && this.showalertmsg.node.getNumberOfRunningActions() === 0) {\n            this.showalertmsg.node.stopAllActions();\n            var self = this;\n            this.showalertmsg.node.active = true;\n            this.showalertmsg.string = msg;\n            var ty = self.showalertmsg.node.y;\n            let pri_pos = this.showalertmsg.node.position;\n            var rc = function () {\n                self.showalertmsg.node.active = false;\n                self.showalertmsg.node.y = ty - 160;\n                // 通过 tag 停止一个动作\n                self.showalertmsg.node.stopAllActions();\n                self.showalertmsg.node.position = pri_pos;\n            };\n            var move = cc.moveBy(2.5, cc.v2(0, 260));\n\n            var call = cc.callFunc(rc);\n            var seq = cc.sequence(move, call);\n            this.showalertmsg.node.runAction(seq);\n        }\n        //tywx.ado.Utils.showWXToast(msg);\n    },\n\n\n    /**\n     * @description 点击方块产生特效\n     * @param {cc.v2} touchpos 当前点击的位置\n     */\n    showTouchEffect: function (touchpos) {\n\n    },\n\n    /**\n     * 显示通用的彩带\n     */\n    showCDAni: function () {\n        if (!this.caiDaiAni) {\n            this.caiDaiAni = cc.instantiate(this.tupoJIluAni);\n            this.caiDaiAni.parent = this.node;\n            this.caiDaiAni.zIndex = 100000000;\n        } else {\n            this.caiDaiAni.active = true;\n        }\n        var self = this;\n        let removeCall = function () {\n            self.caiDaiAni.active = false;\n        }\n\n        var ani = this.caiDaiAni.getComponent(cc.Animation);\n        ani.on('finished', removeCall, self);\n        //  console.log(ani + \"当前的彩带动画 = \" + this.caiDaiAni);\n        ani.play(\"tupojilu\");\n    },\n\n\n    /**\n     * @description 显示当前的暂停界面\n     */\n    showStopView: function () {\n        this.stopView.active = !this.stopView.active ? true : false;\n        if (this.stopView.active == false) {\n            this.stopV.active = false;\n            this.pjlView.active = false;\n            this.openboxview.active = false;\n            if (this.itemhelpview.active == true) {\n                tywx.ado.Utils.hideWXBanner();\n            } else {\n                tywx.ado.Utils.showWXBanner();\n            }\n        } else {\n            tywx.ado.Utils.hideWXBanner();\n        }\n    },\n\n    /**\n     * @description 显示停止按钮控制的菜单\n     */\n    showSubStopView: function () {\n        this.stopView.active = !this.stopView.active ? true : false;\n        this.stopV.active = !this.stopV.active ? true : false;\n    },\n\n    /**\n     * @description 点击暂停按钮的时候调用 显示暂停界面\n     */\n    stopCall: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick && !this.playjjaniing) {\n            tywx.ado.Utils.hideWXBanner();\n            this.openboxview.active = false;\n            this.pjlView.active = false;\n            this.stopView.active = !this.stopView.active ? true : false;\n            this.stopV.active = !this.stopV.active ? true : false;\n        }\n    },\n\n\n    /**\n     * @description 处理并保存道具数据\n     * @param {Number} allitem 处理的道具数据\n     */\n    dealAllItems: function (allitem) {\n        // tywx.Util.setItemToLocalStorage(\"allitems\",JSON.stringify([{id:1, num:2}])); \n        var items = tywx.Util.getItemFromLocalStorage(\"allitems\", [])\n        tywx.LOGE(\"处理的道具数据 = \" + items)\n        // 刷新道具显示\n        if (items != null && items != undefined && items != []) {\n            try {\n                if (allitem) {\n                    this.allitems = allitem;\n                } else {\n                    this.allitems = JSON.parse(items);\n                }\n\n            } catch (e) {\n                this.allitems = this.allitems;\n            }\n            for (var titemIndex = 0; titemIndex < this.allitems.length; titemIndex++) {\n                var storitem = this.allitems[titemIndex];\n                tywx.LOGE(titemIndex + \"道具数据 = \" + JSON.stringify(items))\n                for (var openitemIndex = 0; openitemIndex < this.allOpenItems.length; openitemIndex++) {\n                    var topenitem = this.allOpenItems[openitemIndex].getComponent(\"DjItem\");\n                    var tdata = topenitem.getData();\n                    if (tdata.id == storitem.id) {\n                        tdata.num = storitem.num;\n                        topenitem.setData(tdata);\n                        break;\n                    }\n                }\n            }\n        }\n    },\n\n    /**\n     * @description 产生对应的道具\n     * @param {Number} maxnum 产生的最大道具数量 暂时默认值都为1\n     */\n    produceItems: function (maxnum) {\n        // 随机道具的ID\n        var tindex = this.randomFrom(0, tywx.ado.Constants.GameCenterConfig.allitem.length - 1);\n        var itemid = tywx.ado.Constants.GameCenterConfig.allitem[tindex].id;\n        // 随机道具的数量\n\n        var itemnum = 1;\n        var itemname = \"-1\";\n        var randomNum = Math.random();\n        if (randomNum >= 1 - config.box_rate.sub1) {\n            itemid = tywx.ado.Constants.GameCenterConfig.allitem[0].id;\n            itemname = tywx.ado.Constants.GameCenterConfig.allitem[0].name;\n        } else if (randomNum < 1 - config.box_rate.sub1 && randomNum >= 1 - config.box_rate.sub1 - config.box_rate.add2) {\n            itemid = tywx.ado.Constants.GameCenterConfig.allitem[1].id;\n            itemname = tywx.ado.Constants.GameCenterConfig.allitem[1].name;\n        } else if (randomNum < 1 - config.box_rate.sub1 - config.box_rate.add2 && randomNum > config.box_rate.chui) {\n            itemid = tywx.ado.Constants.GameCenterConfig.allitem[2].id;\n            itemname = tywx.ado.Constants.GameCenterConfig.allitem[2].name;\n        } else if (randomNum <= config.box_rate.chui) {\n            itemid = tywx.ado.Constants.GameCenterConfig.allitem[3].id;\n            itemname = tywx.ado.Constants.GameCenterConfig.allitem[3].name;\n        }\n\n        this.produceItem = {\n            id: itemid,\n            num: itemnum,\n            name: itemname,\n        };\n        tywx.LOGE(\"当前产生的道具 \" + JSON.stringify(this.produceItem))\n\n    },\n\n\n    /**\n     * @description 产生指定范围的随机数\n     * @param {Number} lowerValue 最小值\n     * @param {Number} upperValue 最大值\n     */\n    randomFrom: function (lowerValue, upperValue) {\n        return Math.floor(Math.random() * (upperValue - lowerValue + 1) + lowerValue);\n    },\n\n    /**\n     * @description: 该类的构造函数 可用于自身变量的初始化\n     */\n    ctor: function () {\n        tywx.LOGE(\"helloc g\");\n        config = tywx.config != null ? tywx.config : config;\n    },\n\n    /**\n     * @description 得到当前的格子容器\n     * @returns {Table} 格子的数据\n     */\n    getAllgz: function () {\n        return this.g_gezi;\n    },\n\n    /**\n     * @description 得到当前的mask容器\n     * @returns {Table} mask数据 \n     */\n    getAllmask: function () {\n        return this.g_mask;\n    },\n\n    /**\n     * @description 根据这个值在格子中的数字进行和值运算 找出每个格子加上这个值是否可以连接\n     * @param {Data} 道具数据\n     */\n    getAllPathByitemValue: function (data) {\n\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n            this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.usingitem;\n            // 得出当前可连的所有路径\n            var allcellids = [];\n            for (var i = 0; i < gezi_map.length; i++) {\n                this.resetAllMask();\n                this.getAllmask()[i].num = this.getAllmask()[i].num + data.value;\n                this.checkmaskbyid(i, 0);\n                if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                    allcellids[allcellids.length] = i;\n                    break;\n                }\n\n            }\n            this.resetAllMask();\n            //  tywx.LOGE(\"当前值可消除的mask\"+JSON.stringify(allcellids));\n            if (allcellids.length > 0) {\n                let i = allcellids[0];\n                var num = this.getAllgz()[i].num + data.value;\n                this.getAllgz()[i].setnum(num);\n                this.getAllgz()[i].settoblock();\n                this.getAllgz()[i].block.effectid = 0;\n                this.getAllgz()[i].block.effecttime = 0.5;\n                if (num > this.maxnum) {\n                    this.setMaxNumber(num);\n                }\n                this.g_clickid = allcellids[0];\n                this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.checkclick;\n                return true;\n            } else {\n                this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.checkclick;\n                tywx.ado.Utils.showWXToast(\"此块不能使用道具\")\n                return false;\n            }\n        }\n        return false;\n    },\n\n\n    /**\n     * 处理点击屏幕产生的逻辑(主要是判断出当前点击的位置在某个格子上)\n     * @param {Number} i 锤子作用的ID\n     * @param {celltile} celltile 格子对象\n     */\n    touchEndCallback: function (i, celltile) {\n        if (this.getAllgz()[i] && this.getAllgz()[i].block && this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n            var curaddnum = 1;\n            var tdata = this.curUsingItemData;\n            this.curUsingItemData = null;\n            if ((tdata != null && tdata.id != 6) || tdata == null) {\n                if (tdata != null) {\n                    curaddnum = tdata.value;\n                }\n                // 判断当前的游戏状态是否为等待点击状态\n                // 根据点击的点 来判断当前点击在那个格子上面\n                var num = this.getAllgz()[i].num + curaddnum;\n                this.setCurMaxNumber(num);\n                this.showAnimationWhenScoreBiggerThanTen(num);\n                if (num < 1) {\n                    this.showAlert(\"不能使用此道具\");\n                } else {\n\n                    if (tdata != null) {\n                        tdata.num = tdata.num - 1;\n                        if (tdata.num < 0) {\n                            tdata.num = 0;\n                        }\n                        this.isUsingItem = true;\n                        this.useItemNumber++;\n                        this.updateItemByData(tdata);\n                    } else {\n                        this.isUsingItem = false;\n                    }\n                    this.getAllgz()[i].setnum(num);\n                    this.getAllgz()[i].settoblock();\n                    this.getAllgz()[i].block.effectid = 0;\n                    this.getAllgz()[i].block.effecttime = 0.5;\n                    if (num > this.maxnum) {\n                        this.setMaxNumber(num);\n                    }\n                    // 记录下当前点击的格子 和切换当前的游戏状态为检查点击状态\n                    this.g_clickid = i;\n                    this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.checkclick;\n                    // 在方块上产生点击特效\n                    var mpos = {};\n                    this.showTouchEffect(mpos);\n                    // 终止此次点击的循环处理\n                }\n            } else {\n                if (tdata != null) {\n                    tdata.num = tdata.num - 1;\n                    if (tdata.num < 0) {\n                        tdata.num = 0;\n                    }\n                    this.isUsingItem = true;\n                    this.useItemNumber++;\n                    this.updateItemByData(tdata);\n                } else {\n                    this.isUsingItem = false;\n                }\n                this.useCZClick(i, celltile);\n            }\n        }\n\n    },\n\n    /**\n     * @description 设置最大值\n     * @param {Number} num 当前设置的最大数\n     */\n    setMaxNumber: function (num) {\n        this.maxnum = num;\n        this.maxScoreShow();\n    },\n\n    /**\n     * @description 使用锤子类型的道具\n     * @param {Number} id 锤子作用的ID\n     * @param {celltile} celltile 格子对象\n     */\n    useCZClick: function (id, celltile) {\n        var self = this;\n\n        self.chuiziEft.active = true;\n        self.chuiziEft.scale = 1.4;\n        self.chuiziEft.parent = celltile.node;\n        self.chuiziEft.x = 25;\n        self.chuiziEft.y = -30;\n        // self.chuiziEft.node.setLocalZOrder(1999);\n        var anim = this.chuiziEft.getComponent(cc.Animation);\n        var self = this;\n        var finishCallback = function () {\n            self.chuiziEft.active = false;\n            self.chuiziEft.parent = self.node;\n            anim.stop(\"chuiziza\");\n\n        }\n        var tid = id;\n        var call = cc.callFunc(function () {\n            self.getAllmask()[tid].step = 1;\n            self.refreshbymask();\n            self.lianjiNumber = 1;\n            self.gamestatetime = tywx.ado.Constants.GameCenterConfig.drop_time;\n            tywx.Timer.setTimer(self, function () {\n                self.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.dodrop;\n                self.hadAddNum = false;\n                //pπ 开启一个进程循环显示即将超逾的玩家\n            }, 0, 0, tywx.ado.Constants.GameCenterConfig.merge_delay_time);\n\n        })\n\n        var delay = cc.delayTime(0.5);\n        var seq = cc.sequence(delay, call);\n        celltile.node.runAction(seq);\n        // self.getAllmask(tid).step = 0;\n\n        // self.refreshbymask();\n        // this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.checkclick;\n\n\n        var animateState = anim.play(\"chuiziza\");\n        animateState.wrapMode = cc.WrapMode.Normal;\n        anim.on('finished', finishCallback, self);\n    },\n\n\n\n    /**\n     * @description 游戏的主体逻辑都在这个方法里面\n     * @param {Number} dt  刷新delay \n     */\n    update: function (dt) {\n        // this.showAddTime = this.showAddTime - dt;\n        if (this.startDropTime <= 0) {\n            if (this.getAllgz().length == gezi_map.length) {\n                for (var i = 0; i < this.getAllgz().length; i++) {\n                    if (this.getAllgz()[i].block) {\n                        this.getAllgz()[i].block.tickmove(dt);\n                        this.getAllgz()[i].block.tickeffect(dt, this.star, this.star1);\n                        if (this.allpngs[i]) {\n                            this.getAllgz()[i].draw(this.allpngs[i]);\n                        }\n                    }\n                }\n            }\n        }\n\n        // this.dealXhgCells();\n\n\n        if (this.isShowFIcon) {\n            this._updateSubDomainCanvas();\n        }\n        switch (this.gamestate) {\n            /*case tywx.ado.Constants.GameCenterConfig.gameState.waitclick:{\n                if (this.hadShowPjl == false && this.point > 0) {\n                    this.pjlCallBack();\n                }\n                break;\n            }*/\n            case tywx.ado.Constants.GameCenterConfig.gameState.checkclick:\n                {\n                    this.resetAllMask();\n                    var sc = this.getAllgz()[this.g_clickid].num;\n                    this.lianjiNumber = 1;\n\n                    this.allmergecellIds = [];\n                    this.allmergecellIds[this.allmergecellIds.length] = this.g_clickid;\n                    this.checkmaskbyid(this.g_clickid, 0);\n\n                    if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                        this.gamestatetime = this.getMergeTime() + tywx.ado.Constants.GameCenterConfig.merge_delay_time;\n                        this.score += tywx.ado.Constants.GameCenterConfig.baseScore * this.g_mask_samecnt * 1;\n                        this.hasProduceNewScore = true;\n                        this.scoreLabel.string = this.score;\n                        for (var i = 0; i < gezi_map.length; i++) {\n                            // 判断是否已经标记 \n                            if (this.getAllgz()[i].label_id >= 0 && this.getAllmask()[i].step != 9999999 && this.getAllmask()[i].step != 0) {\n                                this.getAllgz()[i].block.speed_keep = tywx.ado.Constants.GameCenterConfig.gezi_h_s * 2 * this.getAllmask()[i].step / this.getMergeTime();\n                                this.getAllgz()[i].block.actiontime_keep = this.getMergeTime() / this.getAllmask()[i].step;\n                                this.getAllgz()[i].block.id_keep = i;\n                                this.getAllgz()[i].block.id_dest = this.getAllmask()[i].from;\n                                this.getAllgz()[i].block.adjustmove();\n                            }\n                        }\n                        this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.domove;\n                        // console.log(\"当前可以连接的格子数ID是 = \" + this.allmergecellIds)\n                        this.showAddTime = 0.1;\n                        this.addGetScoreLabelOnTile(this.allmergecellIds, tywx.ado.Constants.GameCenterConfig.baseScore);\n                        // console.log(\"this.hadAddNum2 \" + this.hadAddNum);\n                        this.hadAddNum = false;\n                    } else {\n                        this.hasProduceNewScore = false;\n                        if (this.isUsingItem == true) {\n                            this.isUsingItem = false;\n                        } else {\n                            this.point--;\n                            this.drawPhyPoint();\n                        }\n                        // 判断游戏是否结束\n                        if (this.point <= 0) {\n                            this.gameOverCallBack()\n                        } else {\n                            // this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n                            this.setWaitClickState();\n                            this.finalDealMask();\n                        }\n                        // if (this.hadShowPjl == false) {\n                        //     this.pjlCallBack();\n                        // }\n                    }\n                    break;\n                }\n                //格子组合移动，进入掉落状态\n            case tywx.ado.Constants.GameCenterConfig.gameState.domove:\n                {\n                    this.gamestatetime -= dt;\n                    if (this.gamestatetime <= 0) {\n                        this.dealDoMove();\n                    }\n                    if (this.gamestatetime <= tywx.ado.Constants.GameCenterConfig.merge_delay_time) {\n                        if (this.hadAddNum == false) {\n                            this.playMergeAnimation();\n                            this.hadAddNum = true;\n                            this.allpngs[this.g_clickid] && (this.allpngs[this.g_clickid].zIndex = maxzorder++);\n                            var num = this.getAllgz()[this.g_clickid].num + 1;\n                            this.getAllgz()[this.g_clickid].setnum(num);\n                            this.setCurMaxNumber(num);\n                            this.getAllgz()[this.g_clickid].block.num = num;\n                            // this.allpngs[this.g_clickid].getComponent(\"celltile\").showHG(num);\n                            if (this.hadshowlqbox) {\n\n                            }\n                            this.showAnimationWhenScoreBiggerThanTen(num);\n                        }\n                    }\n\n                    break;\n                }\n                //格子掉落完，进入再次检查合并状态，或者等待点击状态\n            case tywx.ado.Constants.GameCenterConfig.gameState.dodrop:\n                {\n                    this.gamestatetime -= dt;\n                    if (this.gamestatetime <= 0) {\n                        //console.log(\"dealLianJiLogic1\")\n                        this.dealLianJiLogic();\n                    }\n                    break;\n                }\n\n        }\n    },\n\n    /**\n     * @description 移动的逻辑处理\n     */\n    dealDoMove() {\n        //  this.star.node.active = false;\n        var self = this;\n        // console.log(\"dealDoMovedealDoMovedealDoMove 1\");\n        this.gamestatetime = this.getMergeTime() + tywx.ado.Constants.GameCenterConfig.merge_delay_time;\n        var num = this.getAllgz()[this.g_clickid].num;\n        this.getAllgz()[this.g_clickid].settoblock();\n        this.getAllgz()[this.g_clickid].block.effectid = 1;\n        this.getAllgz()[this.g_clickid].block.effecttime = 0.5;\n        if (num > this.maxnum) {\n            this.setMaxNumber(num);\n        }\n        if (this.allpngs[this.g_clickid]) {\n            var audioIndex = this.lianjiNumber % tywx.ado.Constants.GameCenterConfig.SOUNDS.COMBO.length - 1;\n            // console.log(this.lianjiNumber + \"当前播放的音效下标 = \" + audioIndex);\n            if (audioIndex < 0) {\n                audioIndex = 0;\n            }\n            if (audioIndex > tywx.ado.Constants.GameCenterConfig.SOUNDS.COMBO.length - 1) {\n                audioIndex = tywx.ado.Constants.GameCenterConfig.SOUNDS.COMBO.length - 1;\n            }\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.COMBO[audioIndex]);\n            this.allpngs[this.g_clickid] && (this.allpngs[this.g_clickid].getComponent(\"celltile\").playZhEff());\n        }\n        //  tywx.LOGE(\"Hellocd\");\n        this.refreshbymask();\n        tywx.Timer.setTimer(self, function () {\n            self.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.dodrop;\n            // 开启一个进程循环显示即将超逾的玩家\n        }, 0, 0, tywx.ado.Constants.GameCenterConfig.merge_delay_time);\n\n\n    },\n\n\n    /**\n     * @description 产生最大数字的逻辑处理\n     */\n    maxScoreShow: function () {\n        tywx.LOGD(\"产生最大数字\", this.maxnum);\n    },\n\n    getMergeTime: function () {\n        var sc = this.g_mask_samecnt;\n        var mt = tywx.ado.Constants.GameCenterConfig.merge_time;\n        var ret = mt;\n        if (sc > 4) ret = mt + mt * (sc - 4) * 0.2;\n        //console.log(\"SC=\", sc, \"RET=\", ret);\n        return ret;\n    },\n\n    /**\n     * @description 掉落状态的逻辑处理\n     */\n    dealLianJiLogic: function () {\n        var bfound = false;\n        //console.log(\"dealLianJiLogic abc\")\n        for (var j = 0; j < gezi_map.length; j++) {\n            if (this.getAllgz()[j].label_id == -1)\n                continue;\n            this.resetAllMask();\n            var sc = this.getAllgz()[j].num;\n            this.allmergecellIds = [];\n            this.allmergecellIds[0] = 0;\n            this.checkmaskbyid(j, 0);\n            if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                this.gamestatetime = this.getMergeTime() + tywx.ado.Constants.GameCenterConfig.merge_delay_time;\n                this.lianjiNumber++;\n                this.score += tywx.ado.Constants.GameCenterConfig.baseScore * this.g_mask_samecnt * this.lianjiNumber;\n                this.scoreLabel.string = this.score;\n                for (var i = 0; i < gezi_map.length; i++) {\n                    if (this.getAllgz()[i].label_id >= 0 && this.getAllmask()[i].step != 9999999 && this.getAllmask()[i].step != 0) {\n                        this.getAllgz()[i].block.speed_keep = tywx.ado.Constants.GameCenterConfig.gezi_h_s * 2 * this.getAllmask()[i].step / this.getMergeTime();\n                        this.getAllgz()[i].block.actiontime_keep = this.getMergeTime() / this.getAllmask()[i].step;\n                        this.getAllgz()[i].block.id_keep = i;\n                        this.getAllgz()[i].block.id_dest = this.getAllmask()[i].from;\n                        this.getAllgz()[i].block.adjustmove();\n                    }\n                }\n                bfound = true;\n                this.g_clickid = j;\n                this.allmergecellIds[0] = this.g_clickid;\n                if (this.point < this.maxpoint) {\n                    this.point++;\n                }\n                this.drawPhyPoint();\n                var self = this;\n                // var num = this.getAllgz()[this.g_clickid].num + 1;\n                // this.getAllgz()[this.g_clickid].setnum(num);\n                // this.showAddTime = 0.1;\n                this.addGetScoreLabelOnTile(this.allmergecellIds, tywx.ado.Constants.GameCenterConfig.baseScore * this.lianjiNumber);\n                // console.log(\"当前可以连接的格子数ID是 = \" + this.allmergecellIds)\n\n                tywx.Timer.setTimer(self, function () {\n\n                    self.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.domove;\n                    // console.log(\"this.hadAddNum1 \" + this.hadAddNum);\n                    self.hadAddNum = false;\n                    //pπ 开启一个进程循环显示即将超逾的玩家\n                }, 0, 0, tywx.ado.Constants.GameCenterConfig.merge_delay_time);\n                break;\n            }\n\n        }\n\n        if (bfound == false) {\n            // this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n            this.setWaitClickState();\n            this.finalDealMask();\n        }\n    },\n\n    /**\n     * @description: 展示相关的特效UI\n     */\n    dealLianJiNumber: function () {\n        this.playjjaniing = true;\n        if (this.lianjiNumber == tywx.config.combo_level_new.good) {\n            this.playGood();\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.GOOD);\n            this.showboxNumber = this.lianjiNumber;\n        } else if (this.lianjiNumber == tywx.config.combo_level_new.cool) {\n            this.playCool();\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.COOL);\n            this.showboxNumber = this.lianjiNumber;\n        } else if (this.lianjiNumber == tywx.config.combo_level_new.awesome) {\n            this.playAwesome();\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.AWESOME);\n            this.showboxNumber = this.lianjiNumber;\n        } else if (this.lianjiNumber >= tywx.config.combo_level_new.unbelive) {\n            this.playUnbelive();\n            this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.UNBLIEVEABLE);\n            this.showboxNumber = this.lianjiNumber;\n        } else {\n            this.showboxNumber = 0;\n            this.playjjaniing = false;\n        }\n        this.ljnumberLabel.string = this.lianjiNumber;\n        //    else if(this.lianjiNumber > 1) {\n        //       this.showBox(1);  \n        //    }\n    },\n\n\n\n    /**\n     * @description: 播放特定的音效\n     */\n    palyAudioByIndex: function (fileName) {\n        tywx.ado.AudioManager.playSound(fileName);\n    },\n\n\n\n\n    /**\n     * @@description: 播放good特效\n     */\n    playGood: function () {\n        var self = this;\n        var animation = this.goodEft.getComponent(cc.Animation);\n\n        var finishCallback = function () {\n            if (self.showboxNumber > 0) {\n                self.showBox(this.showboxNumber);\n                self.showboxNumber = 0;\n            } else {\n                this.playjjaniing = false;\n            }\n        }\n        animation.on('finished', finishCallback, self);\n        var animationState = animation.play(\"encourage\");\n    },\n\n    /**\n     * @description: 播放good特效\n     */\n    playCool: function () {\n        var self = this;\n        var animation = this.coolEft.getComponent(cc.Animation);\n\n        var finishCallback = function () {\n            if (self.showboxNumber > 0) {\n                self.showBox(this.showboxNumber);\n                self.showboxNumber = 0;\n            } else {\n                this.playjjaniing = false;\n            }\n        }\n        animation.on('finished', finishCallback, self);\n        var animationState = animation.play(\"encourage\");\n    },\n\n\n    /**\n     * @description: 播放awesome特效\n     */\n    playAwesome: function () {\n        var self = this;\n        this.awesEft.active = true;\n        var animation = this.awesEft.getComponent(cc.Animation);\n        var finishCallback = function () {\n            if (self.showboxNumber > 0) {\n                self.showBox(this.showboxNumber);\n                self.showboxNumber = 0;\n                this.awesEft.active = false;\n            } else {\n                this.playjjaniing = false;\n            }\n        }\n        animation.on('finished', finishCallback, self);\n        var animationState = animation.play(\"awesome\");\n        animationState.wrapMode = cc.WrapMode.Normal;\n    },\n\n    /**\n     * @description: 播放awesome特效\n     */\n    playUnbelive: function () {\n        var self = this;\n        this.unbeliveEft.active = true;\n        var animation = this.unbeliveEft.getComponent(cc.Animation);\n        var finishCallback = function () {\n            if (self.showboxNumber > 0) {\n                self.showBox(this.showboxNumber);\n                self.showboxNumber = 0;\n                self.unbeliveEft.active = false;\n            } else {\n                this.playjjaniing = false;\n            }\n        }\n        animation.on('finished', finishCallback, self);\n        var animationState = animation.play(\"unbli\");\n        animationState.wrapMode = cc.WrapMode.Normal;\n    },\n\n    /**\n     * @description: 把宝箱数据存储到本地\n     */\n    storeAllItem: function () {\n        // console.log(\"当前存储的数据 = \"+JSON.stringify(this.allitems))\n        if (this.allitems) {\n            tywx.Util.setItemToLocalStorage(\"allitems\", JSON.stringify(this.allitems));\n        }\n    },\n\n\n    initStars: function () {\n        if (!this.allstars) {\n            this.allstars = [];\n            for (var starIndex = 0; starIndex < this.maxpoint; starIndex++) {\n                var item = cc.instantiate(this.lifeStarPrefab);\n                item.parent = this.stars[starIndex];\n                if (this.maxpoint == 6) {\n                    if (starIndex > 0) {\n                        this.stars[starIndex].x = this.stars[starIndex].x - starIndex * 28;\n                    }\n                    this.stars[starIndex].scaleX = 0.8;\n                }\n                this.allstars.push(item);\n            }\n        }\n    },\n\n    /**\n     * @description：展示相关的特效UI\n     */\n    drawPhyPoint: function () {\n        this.initStars();\n        if (this.point > 1) {\n            this.allstars[0].scaleX = 1;\n            this.allstars[0].scaleY = 1;\n            this.allstars[0].stopAllActions();\n        }\n        if (this.prepoint == this.point) {\n            return;\n        }\n        // 咋这里判断当前的血量是否为1 如果为1的话产生 动画提示和tips\n        if (this.point == 1) {\n            this.produceHPAni(this.allstars[0]);\n            this.showAlertMSG(\"血量要耗光啦~\");\n        }\n        this.prepoint = this.point;\n        for (var starIndex = 0; starIndex < this.maxpoint; starIndex++) {\n            if (this.point >= starIndex + 1) {\n                this.allstars[starIndex].getComponent(\"LifeStar\").show();\n            } else {\n                this.allstars[starIndex].getComponent(\"LifeStar\").hide();\n            }\n        }\n\n    },\n\n    /**\n     * @description: 第一个星星产生一个放大缩小的动画 并且产生提示动画\n     */\n    produceHPAni: function (node, stime, scale) {\n\n        node.stopAllActions();\n        var scaletime = !stime ? 0.2 : stime;\n        var tscale = !scale ? 1.2 : scale;\n        var scaleBoom = cc.scaleTo(scaletime, tscale);\n        var scaleSmaller = cc.scaleTo(scaletime, 1);\n        var delay = cc.delayTime(scaletime);\n        var seq = cc.sequence(scaleBoom, scaleSmaller, delay);\n        var rep = cc.repeatForever(seq);\n        node.runAction(rep);\n\n    },\n\n    /**\n     * @description: gameOver和restart按钮的显示隐藏控制\n     * @param vis Boolean 是否显示gameout界面\n     */\n    visibleControllButton: function (vis) {\n        this.gameOut.node.active = vis;\n        if (this.gameOut.node.active == true) {\n            tywx.ado.Utils.hideWXBanner();\n            tywx.ado.Utils.commonScaleIn(this.gameOutRoot);\n        } else {\n            tywx.ado.Utils.showWXBanner();\n        }\n    },\n\n\n    returnBtnCall: function () {\n        this.fhDjsLabel.node.active = false;\n        this.quanSprite.active = false;\n        this.gameOverMaxRoot.active = true;\n        this.closeBtnNode.active = true;\n        this.returnBtnNode.active = false;\n        this.fuHuo.active = false;\n        this.fhDjsLabel.node.stopAllActions();\n        this.gameOutRoot.stopAllActions();\n        tywx.ado.Utils.commonScaleIn(this.gameOverMaxRoot);\n    },\n\n    /**\n     * @description: 游戏结束的逻辑\n     */\n    gameOverCallBack: function () {\n         this.storeScore();\n         tywx.ado.resetProgerss();\n         this.hadshowlqbox = false;\n         this.produceHPAni(this.fuHuoBtn, 0.6, 1.1);\n         this.isShowFIcon = false;\n         this.friendIcon.node.active = false;\n         // 判断此次得分是否创纪录\n         this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.gameover;\n         this.visibleControllButton(true);\n         // 刷新当前的显示得分\n         this.loseScoreLabel.string = this.score;\n         // 刷新最大得分显示\n         var maxscore = parseInt(tywx.ado.Utils.loadItem(\"ADDONE_SCORE2\", 0));\n         this.maxscoreLabel.string = \"最好成绩 \" + maxscore + \"\";\n         if (this.recoverNumber < tywx.ado.Constants.GameCenterConfig.maxrnum) {\n             this.recoverNumberLabel.string = tywx.ado.Constants.GameCenterConfig.maxrnum - this.recoverNumber;\n         } else {\n             this.recoverNumberLabel.string = 0;\n         }\n         console.log(\"当dd前的最大数\" + this.curmaxNumber);\n         this.curmaxnumberLabel.string = this.curmaxNumber + \"\";\n         // 刷新显示的排行榜\n         this.showOverFriendsPH();\n         this.showCDAni();\n         var self = this;\n         var tdjs = 5;\n         self.fhDjsLabel.string = tdjs;\n         var totalPassTime = 0;\n         var totalrepeate = 5;\n         this.fhBtnShow();\n         self.closeBtnNode.active = false;\n         self.returnBtnNode.active = true;\n         this.fhDjsLabel.node.scale = 1;\n         this.fhDjsLabel.node.stopAllActions();\n         this.gameOutRoot.stopAllActions();\n         var djsCall = cc.callFunc(\n             function () {\n                 self.fhDjsLabel.node.scale = 1;\n                 totalPassTime++;\n                 tdjs = tdjs - 1;\n                 if (tdjs == 0) {\n                     tdjs = 5;\n                     if (totalPassTime < totalrepeate) {\n                         self.fhDjsLabel.string = \"\" + tdjs;\n                     }\n                     self.setFHBtnCallBack(2);\n                 } else {\n                     self.fhDjsLabel.string = tdjs;\n                 }\n\n                 if (totalPassTime == totalrepeate) {\n                     // 显示UI\n                     self.fhDjsLabel.string = \"\";\n                     self.quanSprite.active = false;\n                     self.gameOverMaxRoot.active = true;\n                     tywx.ado.Utils.commonScaleIn(self.gameOverMaxRoot);\n                     self.fuHuo.active = false;\n                     self.closeBtnNode.active = true;\n                     self.returnBtnNode.active = false;\n                     self.fhDjsLabel.node.active = false;\n                 }\n                 let scale = cc.scaleTo(0.3, 0);\n                 let delay = cc.delayTime(1);\n                 let call = cc.callFunc(function () {\n\n                     if (totalPassTime == totalrepeate - 1) {\n                         self.fhDjsLabel.string = \"\";\n                         self.quanSprite.active = false;\n                         self.closeBtnNode.active = true;\n                         self.returnBtnNode.active = false;\n                     } else {\n                         if (totalPassTime != totalrepeate - 1) {\n                             self.fhDjsLabel.string = tdjs - 1;\n                         }\n                     }\n\n                     self.fhDjsLabel.node.scale = 1;\n                 });\n                 let tseq = cc.sequence(delay, scale, call);\n                 self.fhDjsLabel.node.runAction(tseq);\n             }\n         );\n\n         // 如果是提审状态 直接显示 不走倒计时\n         if (tywx.config.auditing || this.recoverNumber == tywx.ado.Constants.GameCenterConfig.maxrnum) {\n             this.fhDjsLabel.node.active = false;\n             this.quanSprite.active = false;\n             this.gameOverMaxRoot.active = true;\n             self.closeBtnNode.active = true;\n             self.returnBtnNode.active = false;\n             tywx.ado.Utils.commonScaleIn(this.gameOverMaxRoot);\n         } else {\n             this.gameOverMaxRoot.active = false;\n             this.fhDjsLabel.node.active = true;\n             this.quanSprite.active = true;\n             this.fhDjsLabel.string = 5;\n             // 倒计时动画\n             let scale = cc.scaleTo(0.3, 0);\n             let delay = cc.delayTime(1);\n             let call = cc.callFunc(function () {\n                 self.fhDjsLabel.string = 4;\n                 self.fhDjsLabel.node.scale = 1;\n             });\n             let tseq = cc.sequence(delay, scale, call);\n             this.fhDjsLabel.node.runAction(tseq);\n\n             // 倒计时逻辑\n             self.setFHBtnCallBack(2);\n             var seq = cc.sequence(cc.delayTime(1.5), djsCall);\n             var fiverepeat = cc.repeat(seq, totalrepeate);\n             this.gameOutRoot.runAction(fiverepeat);\n         }\n    },\n\n\n    /** \n     * @description 复活按钮的回调类型设置\n     */\n    setFHBtnCallBack: function (calltype) {\n        if (tywx.config.share_control.fuhuo == \"video\" && tywx.ado.isCanWatchVideo) {\n            this.fhShowLabel.string = \"视频复活\";\n            this.fhHideLabel.string = \"视频复活\";\n            this.fuHuo.getComponent(\"ShareButton\").setShareConfig(tywx.ado.Constants.ShareConfig.RECOVER_GAME_SHARE_VIDEO);\n            this.fuHuo.getComponent(\"ShareButton\").setButtonCallType(2);\n        } else if (tywx.config.share_control.fuhuo == \"share\" || !tywx.ado.isCanWatchVideo) {\n            this.fhShowLabel.string = \"免费复活\";\n            this.fhHideLabel.string = \"免费复活\";\n            this.fuHuo.getComponent(\"ShareButton\").setShareConfig(tywx.ado.Constants.ShareConfig.RECOVER_SHARE_GAME_SHARE);\n            this.fuHuo.getComponent(\"ShareButton\").setButtonCallType(1);\n        }\n\n        \n        \n    },\n\n    /**\n     * @description 发送数据给子域 绘制出当前的\n     */\n    showOverFriendsPH: function () {\n        this.isShowFIcon = false;\n        wx.postMessage({\n            method: 7,\n        });\n        // this.tex.releaseTexture();\n        window.sharedCanvas.width = 460;\n        window.sharedCanvas.height = 180;\n        var self = this;\n        // 开启一个进程循环隐藏即将超逾的玩家\n        var tindex = 0;\n        wx.postMessage({\n            method: 9,\n        });\n        this.paimingSprite.node.active = false;\n        tywx.Timer.setTimer(self, function () {\n            if (tindex == 0) {\n                wx.postMessage({\n                    method: 8,\n                });\n\n            }\n            tindex += 1;\n            console.log(\"当前刷新次数 \" + tindex);\n            self.flushPHBView();\n        }, 1, 5, 0);\n    },\n\n    /**\n     * @description: 展示破纪录界面\n     */\n    pjlCallBack: function () {\n        // 判断当前的得分是否超过了可显示的分数\n        if (this.score < tywx.ado.Constants.GameCenterConfig.showPjlScore) {\n            return;\n        }\n        // 判断此次得分是否创纪录\n        if (this.score > parseInt(tywx.ado.Utils.loadItem(\"ADDONE_SCORE2\", 0))) {\n            this.hadShowPjl = true;\n            this.visibleControllButton(false);\n            var delay = cc.delayTime(0.1);\n            var self = this;\n            var call = cc.callFunc(function () {\n                self.stopView.active = true;\n                tywx.ado.Utils.hideWXBanner();\n                self.pjlView.active = true;\n                self.openboxview.active = false;\n                self.stopV.active = false;\n                self.pjlView.runAction(\n                    cc.sequence(\n                        cc.scaleTo(0.1, 1.1),\n                        cc.scaleTo(0.2, 1)\n                    )\n                );\n            });\n            var seq = cc.sequence(delay, call);\n            tywx.LOGD(\"是否破纪录21212\");\n            this.node.runAction(seq);\n            // var animation = this.tupojilu.getComponent(cc.Animation);\n            // this.newPlayerEf.active = false;\n            // animation.stop(\"tupojilu\");\n            // 刷新破纪录的显示\n            this.pjlScoreLabel.string = this.score;\n        }\n    },\n\n\n    /**\n     * @description: 关闭破纪录界面\n     */\n    closePjlView: function () {\n        // 判断此次得分是否创纪录\n        tywx.ado.Utils.showWXBanner();\n        this.showStopView();\n        this.pjlView.active = false;\n    },\n\n\n    /**\n     * @description: 最后补充格子\n     */\n    finalDealMask: function () {\n        for (var i = 0; i < gezi_map.length; i++) {\n            this.getAllgz()[i].settoblock();\n        }\n    },\n\n\n    /**\n     * @description: 游戏初始化\n     * @param restart Boolean 是否为重新开始游戏的初始化\n     */\n    initgame: function (restart) {\n        this.storeScore();\n\n        this.hadstorephotonumber = false;\n        // ! 读取进度\n        var tmp_progress = restart ? -1 : tywx.ado.loadProgress();\n\n        this.curmaxNumber = tmp_progress === -1 ? 5 : tmp_progress.curmaxNumber;\n        this.score = tmp_progress === -1 ? 0 : tmp_progress.score;\n\n        this.useItemNumber = tmp_progress === -1 ? 0 : tmp_progress.useitemnumber;\n        this.playjjaniing = false;\n        this.allshowshareids = [];\n        this.alljzxhgid = [];\n        this.allxhggz = [];\n        this.curshowxhgs = [];\n        this.hasProduceNewScore = false;\n        this.hadProducetantenNUmber = false;\n        this.startDropTime = 0;\n        this.curGiveScore = 0;\n        this.hadshowlqbox = false;\n        wx.postMessage({\n            method: 9,\n        });\n        this.scoreLabel.string = this.score;\n        this.point = tmp_progress === -1 ? this.maxpoint : tmp_progress.life;\n        this.drawPhyPoint();\n        this.maxnum = 5;\n        this.recoverNumber = tmp_progress === -1 ? 0 : tmp_progress.recovernumber;\n        this.fhBtnShow();\n        this.isRestartGame = true;\n        this.hadShowPjl = false;\n\n        for (var i = 0; i < gezi_map.length; i++) {\n            if (this.getAllgz()[i] && this.getAllgz()[i].label_id >= 0) {\n                var num = tmp_progress === -1 ? this.getrandomnum() : tmp_progress.mask[i];\n                this.getAllgz()[i].setnum(num);\n                this.getAllgz()[i].settoblock();\n                // this.allpngs[i].getComponent(\"celltile\").setCurNum(this.getAllmask()[i].num);\n                this.allpngs[i].getComponent(\"celltile\").showHG();\n            }\n        }\n\n\n        var needcheck = tmp_progress === -1;\n\n        while (needcheck) {\n            needcheck = false;\n            for (i = 0; i < gezi_map.length; i++) {\n                if (this.getAllgz()[i] && this.getAllgz()[i].label_id >= 0) {\n                    this.resetAllMask();\n                    this.checkmaskbyid(i, 0);\n                    if (this.g_mask_samecnt >= tywx.ado.Constants.GameCenterConfig.minCanRemoveNumber) {\n                        this.changenumbymask();\n                        needcheck = true;\n                    }\n                }\n            }\n        }\n\n        this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n        this.visibleControllButton(false);\n\n        if (parseInt(tywx.Util.getItemFromLocalStorage(\"hadshowhelpview\", 0)) == 1) {\n            this.showUseHpHelp(true);\n        }\n        if (restart) {\n            this.startDropAnimation();\n        }\n        this.dealPlayerClickScreen();\n        this.dealAddStoreMaxNum();\n        this.showRYBoxButton();\n        // 刷新当前的最高分\n        this.storescorevalue = tywx.ado.Utils.loadItem(\"ADDONE_SCORE2\", 0);\n        this.setMaxScore();\n    },\n\n    setMaxScore: function () {\n        if (parseInt(this.storescorevalue) < this.score) {\n            this.maxScoreLabel.string = this.score;\n        } else {\n            this.maxScoreLabel.string = this.storescorevalue;\n        }\n\n    },\n    /**\n     * @description: 产生格子下落动画\n     */\n    startDropAnimation: function () {\n        var self = this;\n        var allpos = [];\n        for (var i = 0; i < gezi_map.length; i++) {\n            this.allpngs[i] && (this.allpngs[i].active = false);\n        }\n        // 开启一个进程循环显示即将超逾的玩家\n        tywx.Timer.setTimer(self, function () {\n            for (var i = 0; i < gezi_map.length; i++) {\n                self.allpngs[i] && (self.allpngs[i].active = true);\n                var ty = this.randomFrom(300, 660);\n                allpos[allpos.length] = ty;\n                self.allpngs[i] && (self.allpngs[i].y = self.allpngs[i].y + ty);\n            }\n            self.startDropTime = 0.2;\n            tywx.Timer.setTimer(self, function () {\n                self.startDropTime = 0;\n            }, 0, 0, tywx.ado.Constants.GameCenterConfig.startGameDropTime + 0.05);\n            for (var ti = 0; ti < gezi_map.length; ti++) {\n                var move = cc.moveBy(tywx.ado.Constants.GameCenterConfig.startGameDropTime, cc.v2(0, -allpos[ti]));\n                self.allpngs[ti] && (self.allpngs[ti].runAction(move));\n            }\n        }, 0, 0, 0.2);\n    },\n\n    /**\n     * @description: 重置棋盘mask， 为重新探路做准备\n     */\n    resetAllMask: function () {\n        if (this.refreshingMask == false) {\n            this.refreshingMask = true;\n            for (var i = 0; i < gezi_map.length; i++) {\n                if (this.getAllgz()[i].label_id >= 0) {\n                    this.getAllmask()[i].reset();\n                }\n            }\n            this.g_mask_samecnt = 1;\n            this.refreshingMask = false;\n        }\n\n    },\n    findtopinmask: function (id) {\n        var tmpid1 = id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1);\n        var tmpid2 = id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1);\n\n        if (tmpid1 >= gezi_map.length || tmpid2 >= gezi_map.length)\n            return -1;\n\n        if (this.getAllgz()[tmpid1].label_id >= 0 && (this.getAllmask()[tmpid1].step == 9999999 || this.getAllmask()[tmpid1].step == 0)) {\n            return tmpid1;\n        }\n\n        if (this.getAllgz()[tmpid2].label_id >= 0 && (this.getAllmask()[tmpid2].step == 9999999 || this.getAllmask()[tmpid2].step == 0)) {\n            return tmpid2;\n        }\n\n        if (this.getAllgz()[tmpid1].label_id >= 0)\n            return this.findtopinmask(tmpid1);\n        if (this.getAllgz()[tmpid2].label_id >= 0)\n            return this.findtopinmask(tmpid2);\n\n    },\n    /**\n     * 递归寻找给定ID的格子 并在mask数组里面进行标记\n     * @param id Number 格子的ID\n     * @param step Number 当前找到第几步\n     */\n    checkmaskbyid: function (id, step) {\n        this.getAllmask()[id].step = step;\n        // 从左找\n        if (this.checkmaskleft(id, step) == true) {\n            this.checkmaskbyid(id - 2, step + 1);\n        }\n        if (this.checkmaskdownleft(id, step) == true) {\n            this.checkmaskbyid(id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1), step + 1);\n        }\n        if (this.checkmaskdownright(id, step) == true) {\n            this.checkmaskbyid(id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1), step + 1);\n        }\n        if (this.checkmaskright(id, step) == true) {\n            this.checkmaskbyid(id + 2, step + 1);\n        }\n        if (this.checkmaskupleft(id, step) == true) {\n            this.checkmaskbyid(id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1), step + 1);\n        }\n        if (this.checkmaskupright(id, step) == true) {\n            this.checkmaskbyid(id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1), step + 1);\n        }\n    },\n\n\n    checkmaskleft: function (id, step) {\n        if (!this.getAllmask()[id - 2]) {\n            return false;\n        }\n        if (this.getAllmask()[id].x < 2)\n            return false;\n\n        if (gezi_map[id - 2] == 0)\n            return false;\n\n        if (this.getAllmask()[id - 2].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id - 2].step <= step)\n            return false;\n\n        if (this.getAllmask()[id - 2].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id - 2].step = step;\n        this.getAllmask()[id - 2].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id - 2;\n        return true;\n    },\n\n    /**\n     * @description 检查给定的ID是否有连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskright: function (id, step) {\n        if (!this.getAllmask()[id + 2]) {\n            return false;\n        }\n        if (this.getAllmask()[id].x >= 12)\n            return false;\n\n        if (gezi_map[id + 2] && gezi_map[id + 2] == 0)\n            return false;\n\n        if (this.getAllmask()[id + 2] && this.getAllmask()[id + 2].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id + 2] && this.getAllmask()[id + 2].step <= step)\n            return false;\n\n        if (this.getAllmask()[id + 2] && this.getAllmask()[id + 2].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id + 2].step = step;\n        this.getAllmask()[id + 2].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id + 2;\n        return true;\n    },\n    /**\n     * @description 检查左上方的格子是否可以连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskdownleft: function (id, step) {\n        if (this.getAllmask()[id].y == 0)\n            return false;\n        if (!this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)]) {\n            return false;\n        }\n        if (gezi_map[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)] == 0)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step <= step)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step = step;\n        this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1);\n        return true;\n    },\n\n    /**\n     * @description 检查左上方的格子是否可以连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskdownright: function (id, step) {\n        if (this.getAllmask()[id].y == 0)\n            return false;\n        if (!this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)]) {\n            return false;\n        }\n        if (gezi_map[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)] == 0)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step <= step)\n            return false;\n\n        if (this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step = step;\n        this.getAllmask()[id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1);\n        return true;\n    },\n\n    /**\n     * @description 检查左上方的格子是否可以连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskupleft: function (id, step) {\n        if (this.getAllmask()[id].y == 6)\n            return false;\n        if (!this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)]) {\n            return false;\n        }\n        if (gezi_map[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)] == 0)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step <= step)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].step = step;\n        this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1);\n        return true;\n    },\n\n    /**\n     * @description 检查左上方的格子是否可以连接\n     * @param {Number} id 格子的ID\n     * @param {Number} step 当前找到的第几步\n     */\n    checkmaskupright: function (id, step) {\n        if (this.getAllmask()[id].y == 6)\n            return false;\n        if (!this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)]) {\n            return false;\n        }\n        if (gezi_map[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)] == 0)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].num != this.getAllmask()[id].num)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step <= step)\n            return false;\n\n        if (this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step == 9999999)\n            this.g_mask_samecnt++;\n\n        this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].step = step;\n        this.getAllmask()[id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1)].from = id;\n\n        return true;\n    },\n\n    /**\n     * @description:  检查是否可以继续连接\n     * @param id Number 每个格子的ID\n     * @param step Number 此次寻找的步数\n     * @param bj Number 寻找边界\n     * @param add Number 叠加数 上下加减5 左右加减1\n     */\n    checkDirPaths: function (id, step, bj, add) {\n        if (Math.abs(add) == 4 && this.getAllmask()[id] != null && this.getAllmask()[id].y == bj) {\n            return false;\n        } else if (Math.abs(add) == 1 && this.getAllmask()[id] != null && this.getAllmask()[id].x == bj) {\n            return false;\n        }\n        if (this.getAllmask()[id] == null || this.getAllmask()[id + add] == null) {\n            return false;\n        }\n        if (this.getAllmask()[id + add].num != this.getAllmask()[id].num || this.getAllmask()[id + add].step <= step) {\n            return false;\n        }\n\n        if (this.getAllmask()[id + add].step == 9999999) {\n            this.g_mask_samecnt++;\n        }\n\n        this.getAllmask()[id + add].step = step;\n        this.getAllmask()[id + add].from = id;\n        this.allmergecellIds[this.allmergecellIds.length] = id + add;\n        this.checkmaskbyid(id + add, step + 1, bj, add);\n    },\n\n\n    /**\n     * @description: 改变格子的数字 通过mask\n     */\n    changenumbymask: function () {\n        for (var i = 0; i < gezi_map.length; i++) {\n            if (this.getAllgz()[i].label_id >= 0 && this.getAllmask()[i].step != 9999999 && this.getAllmask()[i].step != 0) {\n                var num = this.getrandomnum();\n                this.getAllgz()[i].setnum(num);\n                this.getAllgz()[i].settoblock();\n            }\n        }\n    },\n\n    /**\n     * @description: 创建随机的新块 返回新快的显示\n     */\n    getrandomnum: function () {\n        var tnum = this.maxnum - 1;\n        if (tnum < tywx.ado.Constants.GameCenterConfig.initGameMaxNum)\n            tnum = tywx.ado.Constants.GameCenterConfig.initGameMaxNum;\n        var num = parseInt(Math.random() * 10000) % tnum + 1;\n        return num;\n    },\n\n    /**\n     * @description: 使用满血道具 或者分享游戏的时候调用\n     */\n    recoverGame: function () {\n        if (this.recoverNumber < tywx.ado.Constants.GameCenterConfig.maxrnum) {\n            this.point = this.maxpoint;\n            this.drawPhyPoint();\n            this.gamestate = tywx.ado.Constants.GameCenterConfig.gameState.waitclick;\n            this.addRecoverNumber();\n            this.visibleControllButton(false);\n        } else {\n            this.showAlert(\"复活次数已达\" + tywx.ado.Constants.GameCenterConfig.maxrnum + \"次，不能继续复活。\");\n            this.initgame(true);\n        }\n\n    },\n\n    /**\n     * @description: 创建新的棋盘， 为掉落做准备\n     */\n    refreshbymask: function () {\n        for (var i = 0; i < gezi_map.length; i++) {\n            if (this.getAllgz()[i].label_id >= 0 && this.getAllmask()[i].step != 9999999 && this.getAllmask()[i].step != 0) {\n                this.getAllmask()[i].from = -1;\n                var topid = this.findtopinmask(i);\n\n\n                if (topid != -1) { //\n                    var disy = this.getAllmask()[i].y - this.getAllmask()[topid].y;\n                    var disx = this.getAllmask()[i].x - this.getAllmask()[topid].x;\n                    var dis = this.getAllmask()[topid].y - this.getAllmask()[i].y;\n                    this.getAllgz()[i].block.posx = this.getAllgz()[topid].posx;\n                    this.getAllgz()[i].block.posy = this.getAllgz()[topid].posy;\n                    this.getAllgz()[i].block.id_keep = topid;\n                    this.getAllgz()[i].block.id_dest = i;\n                    // this.getAllgz()[i].block.speed_keep = (dis * tywx.ado.Constants.GameCenterConfig.gezi_pitch) / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    var spx = disx * tywx.ado.Constants.GameCenterConfig.gezi_h_s / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    var spy = (disy * tywx.ado.Constants.GameCenterConfig.gezi_size * 3 / 2) / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    this.getAllgz()[i].block.adjustdrop(spx, spy);\n                    this.getAllmask()[topid].step = 8888;\n                    var num = this.getAllgz()[topid].num;\n                     \n                    this.getAllgz()[i].setnum(num);\n                    this.getAllgz()[i].settoblockvalue();\n                    this.getAllgz()[i].block.effectid = this.getAllgz()[topid].block.effectid;\n                    this.getAllgz()[i].block.effecttime = this.getAllgz()[topid].block.effecttime;\n                    this.getAllgz()[topid].block.effectid = -1;\n                    this.getAllgz()[topid].block.effecttime = 0;\n                } else {\n                    var dis = 7 - this.getAllmask()[i].y;\n                    this.getAllgz()[i].block.posx = this.getAllgz()[i].posx;\n                    this.getAllgz()[i].block.posy = this.getAllgz()[i].posy + dis * (tywx.ado.Constants.GameCenterConfig.gezi_size * 3 / 2);\n                    this.getAllgz()[i].block.id_keep = -1;\n                    this.getAllgz()[i].block.id_dest = i;\n                    // this.getAllgz()[i].block.speed_keep = (dis * tywx.ado.Constants.GameCenterConfig.gezi_pitch) / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    var spy = -(dis * tywx.ado.Constants.GameCenterConfig.gezi_size * 3 / 2) / tywx.ado.Constants.GameCenterConfig.drop_time;\n                    this.getAllgz()[i].block.adjustdrop(0, spy);\n                    var num = this.getrandomnum();\n                    this.getAllgz()[i].setnum(num);\n                    this.getAllgz()[i].settoblockvalue();\n                }\n            }\n        }\n    },\n\n\n    /**\n     * @description: 找出个格子的周围的数 算出平均数 来设置当前格子的数子\n     * @param id Number 给定的格子ID\n     */\n    getPjNumberName: function (id) {\n        var luck = false;\n        var sjs = Math.random();\n        var ttindex = 0;\n        for (var sindex = tywx.config.luck_block.score.length - 1; sindex > 0; sindex--) {\n            if (this.score >= tywx.config.luck_block.score[sindex]) {\n                ttindex = sindex;\n                break;\n            }\n        }\n        var tgl = tywx.config.luck_block.rate[ttindex];\n        if (sjs <= tgl) {\n            luck = true;\n        }\n\n        var allids = [id - 2, id + 2, id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1), id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber + 1), id + (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1), id - (tywx.ado.Constants.GameCenterConfig.rowcellNumber - 1)];\n        var total = 0;\n        var gzindex = 1;\n        for (var tcellIndex = 0; tcellIndex < allids.length; tcellIndex++) {\n            if (this.getAllmask()[tcellIndex] && this.getAllgz()[tcellIndex].block) {\n                total = total + this.getAllgz()[tcellIndex].block.num;\n                gzindex = gzindex + 1;\n            }\n        }\n        let pjNumber = parseInt(total / gzindex);\n        let fudu = luck ? 1.0 : 3.5;\n        let num = parseInt(pjNumber + fudu - 2 * fudu * Math.random());\n        if (num <= 0) num = 1;\n        //console.log(\"score=\", this.score, \"ttindex=\", ttindex, \"sjs=\", sjs, \"tgl=\", tgl, \"luck=\", luck, \"pjNumber=\", pjNumber, \"fudu=\", fudu, \"num=\", num);\n        return num;\n    },\n\n\n    /**\n     * @description： 点击返回首页的时候会调用\n     */\n    backFirstPage: function () {\n        tywx.ado.saveProgress();\n        this.storeScore();\n        cc.director.loadScene(\"gamestart\", this.destroyFinish);\n    },\n\n    /**\n     * @description: 存储当前的分数\n     */\n    storeScore: function () {\n        if (parseInt(tywx.ado.Utils.loadItem(\"ADDONE_SCORE2\", 0)) < this.score) {\n            tywx.ado.Utils.saveItem('ADDONE_SCORE2', this.score, false);\n        }\n    },\n\n    /**\n     * @description: 暂时没用的功能\n     */\n    backCall: function () {\n        this.showAlert(\"测试提示信息\");\n    },\n\n    /**\n     * @description: 开启玩家即将超逾的好友显示 开始更新update\n     */\n    showMinFriend: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.gameover) {\n            return;\n        }\n        window.sharedCanvas.width = 211;\n        window.sharedCanvas.height = 98;\n        tywx.ado.logWithColor('showMinFriend=====');\n        var self = this;\n        var bpos = cc.v2(this.stopButton.x, this.stopButton.y);\n        this.isShowFIcon = true;\n        var rest = self.isRestartGame;\n        // var pos = this.friendsNode.convertToWorldSpace(cc.v2(this.friendsNode.x, this.friendsNode.y))\n        var screen = cc.view.getVisibleSizeInPixel();\n        // console.log(\"y = \" + pos.y + \"x = \" + pos.x + \"screen = \" + JSON.stringify(screen));\n        wx.postMessage({\n            method: 5,\n            isrestart: rest,\n            score: self.score,\n            width: screen.width,\n            // x: pos.x,\n            // y: screen.height - pos.y - 90,\n        });\n        self.isRestartGame = false;\n    },\n\n    /**\n     * @description: 隐藏玩家即将超逾的好友显示 停止更新update\n     */\n    hideMinFriend: function () {\n        var self = this;\n        this.isShowFIcon = false;\n        return;\n    },\n\n    /**\n     * @description: 打印当前界面上的格子信息\n     */\n    printMaskMsg: function () {\n        for (var gzIndex = 0; gzIndex < gezi_map.length; gzIndex++) {\n            this.getAllmask()[gzIndex].showMSG();\n        }\n    },\n\n    /**\n     * @description： 首次弹出帮助界面\n     */\n    firstShowHelpView: function () {\n        if (parseInt(tywx.Util.getItemFromLocalStorage(\"hadshowhelpview\", 0)) === 0) {\n            tywx.Util.setItemToLocalStorage(\"hadshowhelpview\", 1);\n            tywx.ado.Utils.hideWXBanner();\n            this.showPlayMethod();\n        }\n    },\n\n\n    /**\n     * @description: 刷新子域即将超越的玩家Canvas\n     */\n    _updateSubDomainCanvas: function () {\n        //return;\n        if (!this.tex || !tywx.publicwx) {\n            return;\n        }\n        if (this.isShowFIcon == true) {\n            var openDataContext = wx.getOpenDataContext();\n            var sharedCanvas = openDataContext.canvas;\n            this.tex.initWithElement(sharedCanvas);\n            this.tex.handleLoadedTexture();\n            this.friendIcon.spriteFrame = new cc.SpriteFrame(this.tex);\n            this.friendIcon.node.active = true;\n        }\n    },\n\n    /**\n     * @description 刷新显示gameover排行榜\n     */\n    flushPHBView: function () {\n        var openDataContext = wx.getOpenDataContext();\n        var sharedCanvas = openDataContext.canvas;\n        this.tex.initWithElement(sharedCanvas);\n        this.tex.handleLoadedTexture();\n        this.paimingSprite.spriteFrame = new cc.SpriteFrame(this.tex);\n        this.paimingSprite.node.active = true;\n\n    },\n\n\n    /** \n     * @description 一次给多个道具\n     * @param {Boolean} dontsetnull 是否需要设置成领取一次\n     * @param {Object} giveitems 给定的所有道具\n     */\n    giveItems: function (dontsetnull, giveitems) {\n        // var name = \"\";\n        if (giveitems && giveitems.length > 0) {\n            for (var itemIndex = 0; itemIndex < giveitems.length; itemIndex++) {\n                let giveitem = giveitems[itemIndex];\n                // if (itemIndex < (giveitems.length - 1)){\n                //     name = name + giveitem.name;\n                // }else{\n                //     name = name + giveitem.name + \" \";\n                // }\n                this.lingQuItem(dontsetnull, giveitem, true);\n            }\n            this.showAlertMSG(\"成功领取 \" + giveitems.length + \" 个道具\");\n        }\n    },\n\n    /**\n     * @description: destroy当前场景的时候调用\n     */\n    destroyFinish: function () {\n        // if(this.node){\n        //    this.node.destroy();\n        // }\n    },\n\n    /**\n     * @description: 点击免费领取宝箱的时候调用\n     * @param {Boolean} dontsetnull 是否需要设置成领取一次\n     * @param {Object} giveitem 给定的道具\n     */\n    lingQuItem: function (dontsetnull, giveitem, notneedshow) {\n        if (giveitem) {\n            this.produceItem = giveitem;\n        }\n        // 查看当前ID的道具玩家是否存在\n        if (this.produceItem != null) {\n            if (this.allitems.length == 0) {\n                this.allitems[0] = this.produceItem;\n            } else {\n                // tywx.LOGE(\"领取时玩家的道具数据 = \"+JSON.stringify(this.allitems))\n                var findata = false;\n                for (var itemIndex = 0; itemIndex < this.allitems.length; itemIndex++) {\n                    var itemdata = this.allitems[itemIndex];\n                    // tywx.LOGE(\"领取时玩家的道具数据 = \"+JSON.stringify(this.allitems))\n                    if (itemdata.id == this.produceItem.id) {\n                        itemdata.num = itemdata.num + this.produceItem.num;\n                        findata = true;\n                        this.allitems[itemIndex] = itemdata;\n                        break;\n                    }\n                }\n                if (findata == false) {\n                    this.allitems[this.allitems.length] = this.produceItem;\n                }\n            }\n            // 组织显示得到的信息\n\n            var item = null;\n            for (var djIndex = 0; djIndex < tywx.ado.Constants.GameCenterConfig.allitem.length; djIndex++) {\n                var dj = tywx.ado.Constants.GameCenterConfig.allitem[djIndex];\n                // tywx.LOGE(JSON.stringify(dj)+\"当前得到的宝箱数据  = \"+JSON.stringify(this.produceItem));\n                if (this.produceItem.id == dj.id) {\n                    item = dj;\n                    break;\n                }\n            }\n\n            if (item != null && !notneedshow) {\n                this.showAlertMSG(\"领取成功 \" + item.name + \" 道具\");\n            }\n            if (!dontsetnull) {\n                this.produceItem = null;\n            }\n            this.storeAllItem();\n            this.dealAllItems(this.allitems);\n        }\n    },\n\n    /**\n     * 游戏中弹出的领取宝箱\n     */\n    lingQuBox: function () {\n        if (this.curmflqIsRedPacket) {\n            // this.curmflqIsRedPacket = false;\n            // tywx.ado.Utils.requestAddRedPacket();\n        } else {\n            this.lingQuItem();\n        }\n        this.showStopView();\n        this.stopView.active = false;\n        this.openboxview.active = false;\n    },\n\n\n    /**\n     * @description: 当条件达到某个值的时候显示领取宝箱\n     * @param maxnum Number 此次宝箱对应的连接数产生的值\n     */\n    showBox: function (maxnum) {\n        let rvalue = 0;\n        let cn = this.curmaxNumber;\n        let sbr = tywx.config.show_box_rate;\n        for (var i = 1; i < sbr.maxnum.length; i++) {\n            if (cn >= sbr.maxnum[i - 1] && cn < sbr.maxnum[i]) {\n                rvalue = sbr.rate[i - 1] * Math.pow(maxnum, sbr.comboz);\n                break;\n            }\n        }\n        let ran = Math.random();\n        let is_show = ran <= rvalue;\n\n        tywx.ado.logWithColor(`combonum:${maxnum},maxnum:${this.curmaxNumber},rvalue:${rvalue},ran:${ran},is_show:${is_show}`);\n        var self = this;\n        if (is_show) {\n            // 产生道具\n            self.curmflqIsRedPacket = false;\n            let dealData = function (result, qzrequest) {\n                // 判断是否需要分享领取红包\n                if (tywx.ado.RedPacketInfo.nextAmount > 0 && tywx.ado.RedPacketInfo.needShare == false) {\n                    if (tywx.config.auditing == false && qzrequest) {\n                        if (tywx.StateInfo.networkConnected) {\n                            // 传递参数\n                            var param = {\n                                success: dealData,\n                                fail: dealData\n                            };\n                            tywx.ado.Utils.requestRedPacket(param);\n                        } else {\n\n                        }\n                        return;\n                    }\n                }\n                // 如果是审核状态  则只能弹领取道具\n                if (tywx.config.auditing == true) {\n                    result = -1;\n                }\n                console.log(\"result \" + result);\n                // 更新获得道具的item\n                if (result) {\n                    if (result == -1) {\n                        self.produceItems(maxnum);\n                        var frameindex = 0;\n                        if (self.produceItem.id == 2) {\n                            frameindex = 1;\n                        } else if (self.produceItem.id == 5) {\n                            frameindex = 2;\n                        } else if (self.produceItem.id == 6) {\n                            frameindex = 3;\n                        }\n                        self.showStopView();\n                        let itemLabel = self.openboxview.getChildByName(\"sgfldjLabel\");\n                        let zsdjLabel = self.openboxview.getChildByName(\"zsdjLabel\");\n                        let redmsgLabel = self.openboxview.getChildByName(\"redpacketmsg\");\n                        itemLabel.active = true;\n                        redmsgLabel.active = false;\n                        self.giveYouItemLabel.string = \"赠送道具\";\n                        self.openBoxIconSprite.spriteFrame = self.itemframes[frameindex];\n                        self.pjlView.active = false;\n                        self.stopV.active = false;\n                        self.openboxview.active = true;\n                        self.showCDAni();\n                        self.initShowBoxButton();\n                        tywx.ado.Utils.commonScaleIn(self.openboxview);\n                    } else {\n                        // 设置当前红包的显示金额\n                        self.moneyLabel.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(tywx.ado.RedPacketInfo.totalAmount) || 0.0}`;\n                        if (self.curRedPacketStatue == 1) {\n                            // 红包飞的动画\n                            if (tywx.ado.RedPacketInfo.nextAmount > 0) {\n                                self.redpacketicon.active = true;\n                                let pri_pos = self.redpacketicon.position;\n                                // 红包飞行的结束位置\n                                let endpos = self.getRedPacketBtn.position;\n                                // 红包飞行结束后回调函数\n                                let finishCall = function () {\n                                    self.redpacketicon.active = false;\n                                    self.redpacketicon.position = pri_pos;\n                                };\n                                self.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.FLY_REDPACKET);\n                                tywx.ado.Utils.simpleBezierAction(self.redpacketicon, endpos, finishCall);\n                            }\n                            // 刷新当前\n                        } else {\n                            self.curRedPacketStatue = 1;\n                            self.getRedPacket(result);\n                        }\n                        if (tywx.ado.RedPacketInfo.nextAmount == 0) {\n                            self.curRedPacketStatue = 0;\n                        }\n                        self.flushRedPacketBtns(self.curRedPacketStatue);\n                    }\n                }\n            }\n            // 如果满足概率 请求红包数据\n            let ranRate = Math.random();\n\n            if (ranRate > (tywx.config.box_rate.red_packet || 0.5)) {\n                dealData(-1, true);\n            } else {\n                if (tywx.config.auditing == true) {\n                    dealData(-1);\n                } else {\n                    if (tywx.StateInfo.networkConnected) {\n                        // 传递参数\n                        var param = {\n                            success: dealData,\n                            fail: dealData\n                        };\n                        tywx.ado.Utils.requestRedPacket(param);\n                    } else {\n\n                    }\n                }\n            }\n        }\n        this.playjjaniing = false;\n    },\n\n\n    /**\n     * @description: 暂停界面的重新开始游戏\n     */\n    restartGame: function () {\n        this.initgame(true);\n        this.showSubStopView();\n    },\n\n\n    /**\n     * @description: 失败界面的重新开始游戏\n     */\n    loseRestartGame: function () {\n        this.initgame(true);\n        this.visibleControllButton(false);\n    },\n\n    /**\n     * @description: 点击失败界面上的关闭按钮调用 重新开始新的游戏\n     */\n    startNewGame: function () {\n        this.visibleControllButton(false)\n        this.initgame(true);\n    },\n\n    /**\n     * @description: 在置顶的块上播放组合动画\n     */\n    playMergeAnimation: function () {\n        //return;\n        if (this.g_clickid) {\n            var self = this;\n            if (!this.cmergeAniNode) {\n                this.cmergeAniNode = cc.instantiate(this.mergeAniNode);\n                var mergeAni = this.cmergeAniNode.getComponent(cc.Animation);\n                \n                let removeCall = function () {\n                    self.cmergeAniNode.active = false;\n                }\n                this.cmergeAniNode.scale = 0.85;\n                this.cmergeAniNode.parent = this.cellUpView;\n                mergeAni.on('finished', removeCall, self);\n            }\n\n\n            if (this.isIPHX()) {\n                if (this.allpngs[this.g_clickid]) {\n                    this.cmergeAniNode.x = this.allpngs[this.g_clickid].x;\n                    this.cmergeAniNode.y = this.allpngs[this.g_clickid].y;\n                }\n            } else {\n                if (this.allpngs[this.g_clickid]) {\n                    this.cmergeAniNode.position = this.allpngs[this.g_clickid].position;\n                    this.cmergeAniNode.y = this.allpngs[this.g_clickid].y + 2;\n                }\n            }\n            this.cmergeAniNode.active = true;\n            this.cmergeAniNode.getComponent(cc.Animation).stop();\n            var animState = this.cmergeAniNode.getComponent(cc.Animation).play(\"mergani\");\n            // 使动画播放速度加速\n            animState.speed = 1.3;\n        }\n    },\n\n    /**\n     * @description: 得到加分label\n     * @param num Number label显示的分数\n     */\n    getLabel: function (num) {\n        let label = null;\n        if (this.addScoreLabelPools.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\n            label = this.addScoreLabelPools.get();\n        } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\n            label = cc.instantiate(this.addScoreNode);\n        }\n        var labelScrpt = label.getComponent(\"AddScoreLabel\");\n        labelScrpt.setNumber(\"+\" + num);\n        return label;\n    },\n\n    /**\n     * @description: 在当前加分的每个格子上显示 加分\n     * @param tiles Table 此次连接对应的所有格子ID\n     * @param shownum Number 所加的分数\n     */\n    addGetScoreLabelOnTile: function (tiles, shownum) {\n\n        for (var tileIndex = 0; tileIndex < tiles.length; tileIndex++) {\n            var id = tiles[tileIndex];\n            this.dealAddNumber(id);\n            // var num = 10;\n            // if (id == this.g_clickid) {\n            //     num = tywx.ado.Constants.GameCenterConfig.baseScore * (this.getAllgz()[this.g_clickid].num);\n            //     console.log(id  + \"当前的下标 first \" + tileIndex + \" 分数 = \" + num);\n            // }else{\n            //     num = tywx.ado.Constants.GameCenterConfig.baseScore * tileIndex;\n            //     console.log(id  + \"当前的下标 second \" + tileIndex + \" 分数 = \" + num);\n            // }\n            let label = this.getLabel(shownum);\n            label.getComponent(\"addNode\");\n            var scaleBoom = cc.scaleTo(0.2, 1.3);\n            var scalesm = cc.scaleTo(0.2, 1);\n            var mtop = cc.moveBy(0.2, cc.v2(0, 10));\n            var spawn = cc.spawn([scaleBoom, mtop]);\n            var self = this;\n            var call = cc.callFunc(function () {\n                label.scalex = 1;\n                label.scaley = 1;\n                self.addScoreLabelPools.put(label);\n                //console.log(\"移除没有4\")\n            })\n            // var pos = this.getPos(id);\n\n            label.parent = this.cellUpView;\n            if (this.allpngs[id]) {\n                label.x = this.allpngs[id].x;\n                label.y = this.allpngs[id].y - 10;\n            }\n            var seq = cc.sequence(spawn, scalesm, call);\n            label.runAction(seq);\n        }\n    },\n\n    /**\n     * @description: 判断合成的格子中是否有小皇冠的格子\n     * @param id number 格子ID\n     */\n    dealAddNumber: function (id) {\n        if (this.allpngs[id] && this.allpngs[id].getComponent(\"celltile\").prenum != 0) {\n            this.addXHGId(this.allpngs[id].getComponent(\"celltile\").prenum);\n            // console.log(\"当前的小皇冠禁用ID = \" + JSON.stringify(this.alljzxhgid));\n        }\n    },\n\n    /**\n     * @description: 展示血量帮助提示\n     * @param needaddstore Boolean 用于扩展 暂时没用\n     */\n    showUseHpHelp: function (needaddstore) {\n        this.hpHelpTips.active = false;\n        // if (parseInt(tywx.Util.getItemFromLocalStorage(\"hadshowhpnum\", 0)) < 2) {\n        //     if (needaddstore) {\n        //         tywx.Util.setItemToLocalStorage(\"hadshowhpnum\", parseInt(tywx.Util.getItemFromLocalStorage(\"hadshowhpnum\", 0)) + 1);\n        //     }\n        //     this.hpHelpTips.active = true;\n        //     var delay = cc.delayTime(5);\n        //     var self = this;\n        //     var call = cc.callFunc(function () {\n        //         self.hpHelpTips.active = false;\n        //     });\n        //     var seq = cc.sequence(delay, call);\n        //     this.hpHelpTips.runAction(seq);\n        // } else {\n        //     this.hpHelpTips.active = false;\n        // }\n    },\n\n    /** \n     * @description: 显示当前给定的数字对应的奖励界面当分数超过10以后显示一个动画(合并完成后出现)\n     * @param num {Number} 格子的显示数字\n     */\n    showAnimationWhenScoreBiggerThanTen: function (num) {\n        // 产生大于10的效果\n        if (num % 2 == 0 && this.hadShowShareLJ(num) == false && num >= tywx.ado.Constants.GameCenterConfig.moreThanEightNumber && this.hadshowlqbox == false) {\n            this.produceItems(1);\n            this.allshowshareids[this.allshowshareids.length] = num;\n            // 去掉和数奖励 2018-09-19\n            var tcur = num * tywx.ado.Constants.GameCenterConfig.mergeMaxNumberBaseScore;\n            if (num * tywx.ado.Constants.GameCenterConfig.mergeMaxNumberBaseScore > this.curGiveScore) {\n                this.curGiveScore = num;\n                // this.scoreLabel.string = this.score;\n            }\n            this.hadshowlqbox = true;\n            let showScript = this.showNumberNode.getComponent(\"MoreTanNumber\");\n            showScript.init();\n            showScript.setShowNumber(num, tcur, this.produceItem.name);\n        }\n    },\n\n\n    /** \n     * @description 分享X2\n     */\n    shareDoubleScore: function (score) {\n        this.score = this.score + score;\n        this.showAlertMSG(\"合出数字\" + this.curGiveScore + \"奖励:\" + score + \"分\");\n        this.scoreLabel.string = this.score;\n    },\n\n    /**\n     * @description 得到屏幕比是否大于1 .9 针对iPhone10类型的机型\n     */\n    isIPHX: function () {\n        let [cw, ch] = [cc.game.canvas.width, cc.game.canvas.height];\n        let is_ipx = tywx.ado.Utils.isIpx();\n        return is_ipx;\n    },\n    /**\n     * @description 保存照片\n     */\n    storePhoto: function () {\n        var contentsize = {\n            width: this.gameOutRoot.width,\n            height: this.gameOutRoot.height\n        }\n        let [cw, ch] = [cc.game.canvas.width, cc.game.canvas.height];\n        let is_ipx = ch / cw >= 1.9; // * 是否是2:1屏幕\n        let ds = cc.size(720, 1280);\n        let dcs = cc.size(contentsize.width, contentsize.height);\n        let [rate_width, rate_height] = [dcs.width / ds.width, dcs.height / ds.height];\n        let [d_x, d_y] = [(ds.width - dcs.width) / 2, (ds.height - dcs.height) / 2 - 30];\n        let [rate_x, rate_y] = [d_x / ds.width, d_y / ds.height];\n\n        let w = cw * rate_width;\n        let h = is_ipx ? w * (dcs.height / dcs.width) : ch * rate_height;\n        let x = cw * rate_x;\n        let y = is_ipx ? (ch - h) / 2 - this.gameOutRoot.position.y : ch * rate_y;\n        var self = this;\n        canvas.toTempFilePath({\n            x: x,\n            y: y,\n            width: w,\n            height: h,\n            destWidth: contentsize.width,\n            destHeight: contentsize.height,\n            quality: 1,\n            fileType: \"jpg\",\n            success: function success(res) {\n                //console.log(res);\n                tywx.ado.Utils.saveImage2PhoneByUrl(res.tempFilePath, function () {\n                    tywx.ado.Utils.showWXToast(\"保存图片成功\");\n                    // self.lingQuItem();\n                    // self.hadstorephotonumber = false;\n                }, function () {\n                    tywx.ado.Utils.showWXToast(\"保存图片失败\");\n                });\n            },\n            fail: function fail(res) {\n                tywx.ado.Utils.showWXToast(\"保存图片失败\");\n            }\n        });\n    },\n\n\n    /**\n     * @description: 判断当前数字是否显示过分享领奖\n     * @param num {Number} 格子的显示数字\n     */\n    hadShowShareLJ: function (num) {\n        for (var t = 0; t < this.allshowshareids.length; t++) {\n            if (num == this.allshowshareids[t]) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n\n    /**\n     * @description 展示广告\n     */\n    showBanner: function () {\n        tywx.ado.Utils.createAndcreateAndShowWXBanner();\n        this.schedule(this.bannerRefresh, tywx.ado.Constants.WXAdConfig.bannerRefreshTime);\n    },\n\n    /**\n     * @description 刷新广告的显示\n     */\n    bannerRefresh: function () {\n        tywx.ado.Utils.createAndcreateAndShowWXBanner();\n    },\n\n    /**\n     * @description 显示如意宝箱的\n     */\n    showRyBox: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n            this.ryBox.active = true;\n            tywx.ado.Utils.hideWXBanner();\n            this.ryBox.getComponent(\"LuckBox\").init();\n            tywx.ado.Utils.commonScaleIn(this.luckboxroot);\n        }\n    },\n\n    /**\n     * @description 得到道具地板的节点\n     * @returns 返回一个节点\n     */\n    getCommenItemNode() {\n        let parent = this.itemview.parent;\n        let ret = parent.getChildByName('commbottom');\n        return ret;\n    },\n\n\n    /**\n     *@description 刷新gameover界面上的图片更换\n     */\n    btnRefreshGameOverPhotoCallback() {\n        let photo_urls = tywx.config.PYQImg.GameOverPhotos;\n        if (!this.showPicIndex || this.showPicIndex > (photo_urls.length - 1)) {\n            this.showPicIndex = 0;\n        }\n        let pngurl = tywx.SystemInfo.cdnPath + 'share_pyq/addone/' +\n            photo_urls[this.showPicIndex];\n        console.log(\"cdnpngurl = \" + pngurl);\n        tywx.ado.Utils.refreshSpriteByUrl(this.gameOutRoot.getChildByName(\"maxroot\").getComponent(cc.Sprite), pngurl);\n        this.showPicIndex = this.showPicIndex + 1;\n    },\n\n\n    /** \n     * @description 扩展血槽\n     */\n    kzHpNumber: function () {\n\n    },\n\n    /** \n     * @description 领取红包按钮调用\n     */\n    getRedPacketCall: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n            this.getRedPacket();\n        }\n    },\n\n    /** \n     * @description 红包提现按钮调用\n     */\n    getRedPacketMoneyCall: function () {\n        if (this.gamestate == tywx.ado.Constants.GameCenterConfig.gameState.waitclick) {\n            this.getRedPacketMoney();\n        }\n    },\n\n    /** \n     * @description 刷新现金数\n     */\n    flushMoneyNumber: function () {\n        console.log(\"刷新红的数据 = \" + JSON.stringify(tywx.ado.RedPacketInfo))\n        this.moneyLabel.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(tywx.ado.RedPacketInfo.totalAmount) || 0.0}`;\n        this.palyAudioByIndex(tywx.ado.Constants.GameCenterConfig.SOUNDS.ADDMONEY);\n    },\n\n    /** \n     * @description 刷新红包按钮的显示\n     */\n    flushRedPacketBtns: function (state) {\n        this.curRedPacketStatue = state;\n        if (tywx.config.auditing == true) {\n            this.getRedPacketBtn.active = false;\n            this.getMoneyBtn.active = false;\n        } else {\n            if (this.curRedPacketStatue == 1 && tywx.ado.RedPacketInfo.nextAmount > 0) {\n                this.getRedPacketBtn.active = true;\n                this.getMoneyBtn.active = false;\n            } else {\n                this.getRedPacketBtn.active = false;\n                this.getMoneyBtn.active = true;\n            }\n        }\n\n\n    },\n    /** \n     * @description 领取红包\n     */\n    getRedPacket: function () {\n        let result = tywx.ado.RedPacketInfo;\n        if (!tywx.ado.RedPacketInfo || tywx.ado.RedPacketInfo.nextAmount == 0) {\n            this.flushRedPacketBtns(0);\n        } else {\n            cc.loader.loadRes('prefabs/OpenRedPackView', function (err, prefab) {\n                if (!err) {\n                    var prefabNode = cc.instantiate(prefab);\n                    cc.game.addPersistRootNode(prefabNode);\n                    prefabNode.x = 360;\n                    prefabNode.y = 720;\n                    tywx.ado.Utils.hideWXBanner();\n                    prefabNode.getComponent('OpenRedPackView').showUI();\n                    prefabNode.getComponent('OpenRedPackView').setData(result);\n                }\n            });\n        }\n\n    },\n    /** \n     * @description 红包提现\n     */\n    getRedPacketMoney: function () {\n        tywx.ado.Utils.hideWXBanner();\n        tywx.ado.Utils.showRedPacketTransferPop(tywx.ado.Utils.formatCashFen2Yuan());\n    },\n});"]}