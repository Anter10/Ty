{"version":3,"sources":["../../../../assets/Script/assets/Script/boot.js"],"names":["cc","log","tywx","ado","Configs","require","Utils","AudioManager","Constants","Events","isFirstLogin","hpvalue","isRequestedConfig","isCanWatchVideo","boot","shut","inGame","game","outGame","RedPacketInfo","nextAmount","totalAmount","needShare","EveryDataLoginInfo","count","amounts","rewad","InviteInfo","code","reward","invite_users","isMinGanIP","saveProgress","gamestate","GameCenterConfig","gameState","gameover","mask","cur_mask","getAllmask","cur_gz","getAllgz","forEach","idx","element","x","y","num","data","life","point","score","curshowxhgs","recovernumber","recoverNumber","useitemnumber","useItemNumber","useryboxnumber","mfids","getMfData","curmaxNumber","saveItem","JSON","stringify","storeScore","logWithColor","loadProgress","progress","loadItem","parse","resetProgerss","delItem","info","color","console","onShow","loadAudioRes","ShareInterface","IsWaitingCallback","AdManager","init","shareBack","onHide"],"mappings":"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","file":"boot.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.log('AddOne boot start');\ntywx.ado = tywx.ado || {};\n\ntywx.ado.Configs = require('./models/AddOneConfig.js'); // * 配置文件\ntywx.ado.Utils = require('./models/Utils.js'); // * 工具类\ntywx.ado.AudioManager = require('./models/AudioManager.js'); // * 声音管理器\ntywx.ado.Constants = require('./models/Constants.js'); // * 常量\ntywx.ado.Events = require('./models/Events.js'); // * 事件\n\ntywx.ado.isFirstLogin = true; // * 是否是第一次进入菜单\n\n// 玩家当前的最大血量\ntywx.ado.hpvalue = 5;\ntywx.ado.isRequestedConfig = false; // ! 是否已经完成config请求\ntywx.ado.isCanWatchVideo = false; // ! 是否可以观看视频\n\ntywx.ado.boot = () => {\n    cc.log('tywx.ado.boot');\n};\ntywx.ado.shut = () => {\n    cc.log('tywx.ado.shut');\n};\n\ntywx.ado.inGame = game => {\n    tywx.ado.game = game;\n};\n\ntywx.ado.outGame = () => {\n    tywx.ado.game = null;\n};\n\n// * 红包信息初始化\ntywx.ado.RedPacketInfo = {\n    nextAmount: 0,\n    totalAmount: 0,\n    needShare: false\n};\n// * 每日登陆信息\ntywx.ado.EveryDataLoginInfo = {\n    totalAmount: 0,\n    count: 0,\n    amounts: [0, 0, 0, 0, 0, 0, 0],\n    rewad: false\n};\n// * 邀请请好友信息\ntywx.ado.InviteInfo = {\n    code: 0,\n    reward: false,\n    invite_users: []\n};\n// * 敏感ip\ntywx.ado.isMinGanIP = true; // 缺省为敏感ip\n// * 保存进度\ntywx.ado.saveProgress = () => {\n    if (tywx.ado.game && tywx.ado.game.gamestate !== tywx.ado.Constants.GameCenterConfig.gameState.gameover) {\n        let mask = [];\n        let cur_mask = tywx.ado.game.getAllmask();\n        let cur_gz = tywx.ado.game.getAllgz();\n        cur_mask.forEach(element => {\n            let idx = element.x + element.y * 14;\n            mask[idx] = cur_gz[idx].num;\n        });\n        let data = {\n            life: tywx.ado.game.point || 0,\n            score: tywx.ado.game.score || 0,\n            curshowxhgs: tywx.ado.game.curshowxhgs || [],\n            recovernumber: tywx.ado.game.recoverNumber || 0,\n            useitemnumber: tywx.ado.game.useItemNumber || 0,\n            mask: mask,\n            useryboxnumber: tywx.ado.game.useryboxnumber || 0,\n            mfids:tywx.ado.game.getMfData() || [],\n            curmaxNumber: tywx.ado.game.curmaxNumber || 5,\n        };\n        tywx.ado.Utils.saveItem('ADO_PROGRESS', JSON.stringify(data));\n        tywx.ado.game.storeScore();\n        tywx.ado.logWithColor(JSON.stringify(data));\n    }\n};\n// * 读取进度\ntywx.ado.loadProgress = () => {\n    let progress = tywx.ado.Utils.loadItem('ADO_PROGRESS', -1);\n    tywx.ado.logWithColor(JSON.parse(progress));\n    if (progress !== -1) {\n        progress = JSON.parse(progress);\n        // * 数据有0，JJ了\n        // if (progress.mask.some(e => e === 0)) {\n        //     progress = -1;\n        // }\n    } \n    return progress;\n};\n// * 重置进度\ntywx.ado.resetProgerss = () => {\n    tywx.ado.Utils.delItem('ADO_PROGRESS');\n};\n\n// ! 输出带色日志\ntywx.ado.logWithColor = (info, color = 'color:#FF00FF') => {\n    console.log('%c' + info, color);\n};\n\n//! 插件onShow, 与插件相关的处理尽量放在这里\ntywx.ado.onShow = result => {\n    tywx.ado.AudioManager.loadAudioRes();\n    //console.log(\"播放背景音乐配置 \" + JSON.stringify(tywx.ado.Configs));\n    // tywx.ado.AudioManager.playMusic(tywx.ado.Configs.MUSICS.BG_MUSIC);\n    tywx.ado.logWithColor('tywx.ado.onShow',tywx.ShareInterface.IsWaitingCallback);\n    tywx.AdManager.init();\n    if(tywx.ShareInterface.IsWaitingCallback){\n        tywx.ShareInterface.shareBack();\n    }\n};\n//! 插件onHide, 与插件相关的处理尽量放在这里\ntywx.ado.onHide = () => {\n    tywx.ado.saveProgress();\n};\n\ncc.log('AddOne boot end');\n"]}