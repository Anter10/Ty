{"version":3,"sources":["../../../../../assets/Script/models/assets/Script/models/GeZi.js"],"names":["config","require","block","module","exports","id","parent","label_id","color","cc","num","tmp_pitchw","tywx","ado","Constants","GameCenterConfig","gezi_h_s","gezi_gap","tmp_pitchh","gezi_size","posx","gezi_offx","rowcellNumber","posy","gezi_offy","parseInt","setnum","click","moreThanTenNumber","hasout","printMSG","id_keep","id_dest","gamecenter","hasShowxhgNum","allpngs","getComponent","showThanTenIcon","addxhgNumber","xhgIcon","active","console","log","addMoreThanNumberEffect","hideThanTenIcon","hasShowxhgId","removexhgId","colorindex","color_list","length","colors","setColor","getAllgz","getAllmask","settoblock","setinfo","setpos","settoblockAndNumber","settoblockvalue","draw","cell","tilescript","pngnum","celltilenumColors","visByNum","cindex","setCurNum","Color","BLACK","fromHEX","Sprite","node","x","y"],"mappings":"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","file":"GeZi.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["/*\n    游戏的基本单元：格子（真实的格子）\n    定义他的数字和颜色，色块的所有者\n    created by gyc on 2018-08-01.\n*/\n\nvar config = require(\"AddOneConfig\")\nvar block = require(\"GeZiData\")\n\n/**\n * @description 格子对象\n * @param {Number } id  当前的标签ID\n * @param {*} parent \n * @param {*} label_id \n */\nmodule.exports = function (id, parent, label_id) {\n    // console.log(\"当前的格子初始化信息 = \" + label_id);\n    // 格子的ID\n    this.id = id;\n    this.label_id = label_id;\n    // 格子的颜色\n    this.color = cc.color(0, 0, 0, 0);\n    // 格子现实的的数字\n    this.num = 0;\n    // 格子的容器\n\n    var tmp_pitchw = tywx.ado.Constants.GameCenterConfig.gezi_h_s + tywx.ado.Constants.GameCenterConfig.gezi_gap / 2;\n    var tmp_pitchh = tywx.ado.Constants.GameCenterConfig.gezi_size * 3 / 2 + tywx.ado.Constants.GameCenterConfig.gezi_gap;\n\n\n    this.parent = parent;\n    // 格子的x坐标\n    this.posx = tywx.ado.Constants.GameCenterConfig.gezi_offx + (id % tywx.ado.Constants.GameCenterConfig.rowcellNumber) * tmp_pitchw + tywx.ado.Constants.GameCenterConfig.gezi_h_s;\n    // 格子的Y坐标\n    this.posy = tywx.ado.Constants.GameCenterConfig.gezi_offy + parseInt(id / tywx.ado.Constants.GameCenterConfig.rowcellNumber) * tmp_pitchh;\n    // console.log(id + \"当前格子的位置 = \" + \"x = \" + this.posx + \" y = \" + this.posy)\n\n    // 格子的数据层\n    if (this.label_id >= 0)\n        this.block = new block(this);\n    else\n        this.block = null;\n\n\n    /*\n        调用: 更新Num的时候调用\n        功能: 更新当前的num 并根据num来更新显示的颜色\n        参数: [\n            num: 格子显示的数字\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    this.setnum = function (num, click) {\n        if (num) {\n            if (!click && num % 2 == 0 && num > tywx.ado.Constants.GameCenterConfig.moreThanTenNumber - 1 && !this.hasout) {\n                if (this.block) {\n                    this.block.printMSG();\n                    //   console.log(this.id + \" cell gz num  = \" + num + \" \" + tywx.gamecenter.hasShowxhgNum(num));\n                    if (this.block.id_keep == -1 && this.block.id_dest == -1) {\n                        if (tywx.gamecenter.hasShowxhgNum(num) == false) {\n                            tywx.gamecenter.allpngs[this.id] && tywx.gamecenter.allpngs[this.id].getComponent(\"celltile\").showThanTenIcon();\n                            tywx.gamecenter.addxhgNumber(num, this.id);\n                        } else {\n                            if (tywx.gamecenter.allpngs[this.id] && tywx.gamecenter.allpngs[this.id].getComponent(\"celltile\").xhgIcon.active == true) {\n                                console.log(\"移除皇冠4\");\n                                tywx.gamecenter.addMoreThanNumberEffect(this.id);\n                            }\n                            tywx.gamecenter.allpngs[this.id] && tywx.gamecenter.allpngs[this.id].getComponent(\"celltile\").hideThanTenIcon();\n                            //  tywx.gamecenter.removexhgNumber(num);\n                        }\n                    } else if (this.block.id_keep != -1 && this.block.id_dest != -1) {\n                        // console.log(JSON.stringify(tywx.gamecenter.curshowxhgs) + \"keep ahd = \" + tywx.gamecenter.hasShowxhgId(this.block.id_keep));\n                        if (tywx.gamecenter.hasShowxhgId(this.block.id_keep) == true && tywx.gamecenter.allpngs[this.block.id_keep].getComponent(\"celltile\").xhgIcon.active == true) {\n                            tywx.gamecenter.allpngs[this.block.id_dest] && tywx.gamecenter.allpngs[this.block.id_dest].getComponent(\"celltile\").showThanTenIcon();\n                            tywx.gamecenter.addxhgNumber(num, this.block.id_dest);\n                        }\n                        tywx.gamecenter.removexhgId(this.block.id_keep);\n                        tywx.gamecenter.allpngs[this.block.id_keep] && tywx.gamecenter.allpngs[this.block.id_keep].getComponent(\"celltile\").hideThanTenIcon();\n                    } else if (this.block.id_keep != -1 && this.block.id_dest == -1) {\n                        if (tywx.gamecenter.hasShowxhgNum(num) == false) {\n                            tywx.gamecenter.addxhgNumber(num, this.block.id_keep);\n                            tywx.gamecenter.allpngs[this.block.id_keep] && tywx.gamecenter.allpngs[this.block.id_keep].getComponent(\"celltile\").showThanTenIcon();\n                        }\n                    }\n                }\n            } else {\n                if (this.block) {\n                    if (num > tywx.ado.Constants.GameCenterConfig.moreThanTenNumber) {\n                        if (tywx.gamecenter.hasShowxhgId(this.block.id_keep) == true) {\n                            if (tywx.gamecenter.allpngs[this.block.id_keep] && tywx.gamecenter.allpngs[this.block.id_keep].getComponent(\"celltile\").xhgIcon.active == true) {\n                                console.log(\"移除皇冠2\");\n                                tywx.gamecenter.addMoreThanNumberEffect(this.block.id_keep);\n                            }\n                            tywx.gamecenter.removexhgId(this.block.id_keep);\n                            tywx.gamecenter.allpngs[this.block.id_keep] && tywx.gamecenter.allpngs[this.block.id_keep].getComponent(\"celltile\").hideThanTenIcon();\n                        }\n\n                    }\n                    if (tywx.gamecenter.allpngs[this.id] && tywx.gamecenter.allpngs[this.id].getComponent(\"celltile\").xhgIcon.active == true) {\n                        console.log(\"移除皇冠1\")\n                        tywx.gamecenter.addMoreThanNumberEffect(this.id);\n                    }\n                    tywx.gamecenter.allpngs[this.id] && tywx.gamecenter.allpngs[this.id].getComponent(\"celltile\").hideThanTenIcon();\n\n                }\n            }\n            config = tywx.config != null ? tywx.config : config;\n            this.num = num;\n            var colorindex = num - 1;\n            // if (this.num > tywx.ado.Constants.GameCenterConfig.color_list.length) {\n            colorindex = colorindex % tywx.ado.Constants.GameCenterConfig.color_list.length;\n            // }\n            let colors = tywx.ado.Constants.GameCenterConfig.color_list[colorindex];\n            if (!colors) {\n                console.log(\"当前什么情况 = \" + colorindex + \" \" + num);\n            }\n            var color = cc.color(colors[0], colors[1], colors[2]);\n            this.setColor(color);\n        }\n\n    }\n\n\n    /*\n        调用: 更新颜色的时候调用\n        功能: 更新当前的颜色值\n        参数: [\n            color:格子需要显示的颜色\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    this.setColor = function (color) {\n        this.color = color;\n    }\n\n    /*\n        调用: GeZiData,GeZi中都有调用\n        功能: 得到游戏的格子容器\n        参数: [\n            无\n        ]\n        返回值:[\n            array:存储格子的数组\n        ]\n        思路: 逻辑需要\n    */\n    this.getAllgz = function () {\n        return this.parent.getAllgz();\n    }\n\n    /*\n        调用: GeZiData,GeZi中都有调用\n        功能: 得到游戏的mask容器\n        参数: [\n            无\n        ]\n        返回值:[\n            array:存储mask的数组\n        ]\n        思路: 逻辑需要\n    */\n    this.getAllmask = function () {\n        return this.parent.getAllmask();\n    }\n\n    /*\n         调用: gamemain中调用\n         功能: 更新自身block的数据\n         参数: [\n             无\n         ]\n         返回值:[\n             无\n         ]\n         思路: 逻辑需要\n     */\n    this.settoblock = function () {\n        this.block && (this.block.setinfo(this.color, this.num));\n        this.block && (this.block.setpos(this.posx, this.posy));\n    }\n\n\n    /*\n               调用: gamemain中调用\n               功能: 更新自身block的数据\n               参数: [\n                   无\n               ]\n               返回值:[\n                   无\n               ]\n               思路: 逻辑需要\n       */\n    this.settoblockAndNumber = function (num) {\n        if (this.block && this.block.posx != this.posx && this.block.posy != this.block.posy) {\n            this.block.setinfo(this.color, num);\n        }\n\n        this.block && (this.block.setpos(this.posx, this.posy));\n    }\n\n\n\n    /*\n         调用: gamemain中调用\n         功能: 更新自身block的数据\n         参数: [\n             无\n         ]\n         返回值:[\n             无\n         ]\n         思路: 逻辑需要\n     */\n    this.settoblockvalue = function () {\n            this.block && (this.block.setinfo(this.color, this.num));\n        },\n\n\n\n        /*\n             调用: gamemain中调用\n             功能: 绘制当前的节点\n             参数: [\n                 ctx: 绘制节点的句柄\n                 label:显示的label\n             ]\n             返回值:[\n                 无\n             ]\n             思路: 逻辑需要\n         */\n        this.draw = function (cell) {\n            if (this.label_id == -1 || !this.block)\n                return;\n            config = tywx.config != null ? tywx.config : config;\n            // ctx.fillColor = this.block.color;\n            // ctx.roundRect(this.block.posx,this.block.posy,tywx.ado.Constants.GameCenterConfig.gezi_size,tywx.ado.Constants.GameCenterConfig.gezi_size,8);\n            // ctx.fill();\n            // lable.string = this.block.num;\n            // lable.node.x = this.block.posx-360+tywx.ado.Constants.GameCenterConfig.gezi_size/2;\n            // lable.node.y = this.block.posy-640+tywx.ado.Constants.GameCenterConfig.gezi_size/2;\n\n            var tilescript = cell.getComponent(\"celltile\");\n            var pngnum = this.block.num % tywx.ado.Constants.GameCenterConfig.celltilenumColors.length;\n            tilescript.visByNum(pngnum, this.block.num);\n            var cindex = pngnum - 1;\n            if (cindex < 0) {\n                cindex = 0;\n            }\n            tilescript.setCurNum(this.getAllmask()[this.id].num);\n            let color = tywx.ado.Constants.GameCenterConfig.celltilenumColors[cindex];\n            tilescript.setColor(cc.Color.BLACK.fromHEX(color));\n            cell.getComponent(cc.Sprite).node.x = this.block.posx - 360;\n            cell.getComponent(cc.Sprite).node.y = this.block.posy - 640;\n        }\n}"]}