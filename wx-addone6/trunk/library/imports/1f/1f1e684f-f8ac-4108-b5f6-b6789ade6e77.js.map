{"version":3,"sources":["../../../../../assets/Script/models/assets/Script/models/ado_view_every_day_login.js"],"names":["IsCanWatchVideo","tywx","ado","isCanWatchVideo","cc","Class","extends","Component","properties","nodeWatchVideoToggle","Node","nodeShareToggle","onLoad","isWatchVideo","isShare","director","getScene","_name","Utils","hideGameClub","an","AdManager","getAdNodeByTag","hideAdNode","root","node","getChildByName","share_control","config","share_control_2","dailydouble","random","parseInt","Math","isMinGanIP","toggle_share","getComponent","Toggle","isChecked","changeShareStat","active","console","log","start","showWXBanner","commonScaleIn","onDestroy","showGameClub","showAdNode","hideWXBanner","NotificationCenter","trigger","Events","ADO_EVENT_DESTROY_EVERY_DAY_LOGIN","btnClose","destroy","motai","info","rewad","itemTouched","idx","changeWatchVideoStat","btn_get_label","Label","string","btn_get_label_shadow","getReward","self","showWXModal","window","wx","showShareMenu","withShareTicket","shareConfig","Constants","ShareConfig","EVERY_DAY_GIFT_DOUBLE_SHARE","msg","getRandomShareConfigByShareTag","DefaultShareConfig","ShareInterface","share","shareContent","sharePicUrl","sharePointId","shareSchemeId","res","JSON","stringify","shareTickets","undefined","length","share2GroupByTicket","showOpenRedPacket","data","hadclicknumber","showWXVideo","success","fail","error_callback","btnGetRewardWithoutShareAndVideo","is_double","loader","loadRes","err","prefab","prefabNode","instantiate","game","addPersistRootNode","x","y","showUI","init","EveryDataLoginInfo","i","child_name","node_icon","mask","node_count","label_count","bg","amount","amounts","formatCashFen2Yuan","count"],"mappings":"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","file":"ado_view_every_day_login.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["let IsCanWatchVideo = tywx.ado.isCanWatchVideo;\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        nodeWatchVideoToggle: cc.Node,\n        nodeShareToggle: cc.Node\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.isWatchVideo = true;\n        this.isShare = true;\n        if (cc.director.getScene()._name === 'gamestart') {\n            tywx.ado.Utils.hideGameClub();\n            let an = tywx.AdManager.getAdNodeByTag('GAME_START');\n            if (an) an.hideAdNode();\n        } else if (cc.director.getScene()._name === 'gamemain') {\n            //tywx.ado.Utils.hideWXBanner();\n        }\n        if (!this.root) this.root = this.node.getChildByName('root');\n        const share_control = tywx.config.share_control_2.dailydouble;\n        var random = parseInt(Math.random() * 100);\n        if ((share_control[0] === \"video\" || tywx.ado.isMinGanIP) && tywx.ado.isCanWatchVideo) {\n            let toggle_share = this.root.getChildByName('toggle_share').getComponent(cc.Toggle);\n             // 如果没有在概率内 则直接看视频\n            if ((random <= share_control[1] && toggle_share) || tywx.ado.isMinGanIP) {\n                toggle_share.isChecked = false;\n                this.changeShareStat();\n            }else{\n                this.root.getChildByName('toggle_share').active = false;\n                toggle_share.isChecked = true;\n            }\n        } else if (share_control[0] === \"share\"){\n            this.root.getChildByName('toggle_share').active = false;\n            let toggle_share = this.root.getChildByName('toggle_share').getComponent(cc.Toggle);\n            toggle_share.isChecked = true;\n            // 如果没有在概率内 则直接看视频\n            if (random > share_control[1] && tywx.ado.isCanWatchVideo) {\n               this.root.getChildByName('toggle_share').active = true;\n               toggle_share.isChecked = false;\n               this.changeShareStat();\n            }\n        }\n        console.log(share_control[0] + random + \"当前的数据 =  \" + share_control[1] + this.isShare);\n   \n    },\n\n    start() {\n        tywx.ado.Utils.showWXBanner();\n        tywx.ado.Utils.commonScaleIn(this.root);\n    },\n    onDestroy() {\n        if (cc.director.getScene()._name === 'gamestart') {\n            tywx.ado.Utils.showGameClub();\n            let an = tywx.AdManager.getAdNodeByTag('GAME_START');\n            if (an) an.showAdNode();\n            tywx.ado.Utils.hideWXBanner();\n        } else if (cc.director.getScene()._name === 'gamemain') {\n            tywx.ado.Utils.showWXBanner();\n        }\n        tywx.NotificationCenter.trigger(tywx.ado.Events.ADO_EVENT_DESTROY_EVERY_DAY_LOGIN, null);\n    },\n\n    // update (dt) {},\n    btnClose() {\n        this.node.destroy();\n    },\n    motai() {\n        if (this.info.rewad) this.node.destroy();\n    },\n    itemTouched(idx) {\n        console.log('itemTouched', idx);\n    },\n    changeWatchVideoStat() {\n        this.isWatchVideo = !this.isWatchVideo;\n        if (!this.isWatchVideo) {\n            this.nodeShareToggle.active = true;\n            this.nodeWatchVideoToggle.active = false;\n            this.isShare = true;\n            let btn_get_label = this.root.getChildByName('btn_reward_double').getChildByName('label_reward').getComponent(cc.Label);\n            if (btn_get_label) {\n                btn_get_label.string = '加倍领取';\n            }\n        }\n    },\n    changeShareStat() {\n        this.isShare = !this.isShare;\n        let btn_get_label = this.root.getChildByName('btn_reward_double').getChildByName('label_reward').getComponent(cc.Label);\n        let btn_get_label_shadow = this.root.getChildByName('btn_reward_double').getChildByName('label_reward_shadow').getComponent(cc.Label);\n        if (!this.isShare) {\n            if (btn_get_label) {\n                btn_get_label.string = '视频加倍';\n                btn_get_label_shadow.string = '视频加倍';\n            }\n        } else {\n            if (btn_get_label) {\n                btn_get_label.string = '加倍领取';\n                btn_get_label_shadow.string = '加倍领取';\n            }\n        }\n    },\n    getReward() {\n        let self = this;\n        if (this.info.rewad) {\n            console.log('已经领取奖励');\n            tywx.ado.Utils.showWXModal(\n                '已经领取奖励',\n                '提示',\n                false);\n        } else {\n            if (this.isShare) {\n                window.wx.showShareMenu({\n                    withShareTicket: true\n                });\n                let shareConfig = tywx.ado.Constants.ShareConfig.EVERY_DAY_GIFT_DOUBLE_SHARE;\n                let msg = tywx.ado.Utils.getRandomShareConfigByShareTag(shareConfig[0]);\n                if (!msg) {\n                    msg = tywx.ado.Constants.DefaultShareConfig;\n                }\n                if (msg) {\n                    tywx.ShareInterface.share(\n                        msg.shareContent,\n                        msg.sharePicUrl,\n                        msg.sharePointId,\n                        msg.shareSchemeId,\n                        (res) => {\n                            console.log(\"分享成功后的数据\" + JSON.stringify(res));\n                            // * is share to group\n                            if (shareConfig && shareConfig[1]) {\n                                // * froce share to group\n                                if (res.shareTickets !== undefined && res.shareTickets.length > 0) {\n                                    tywx.ado.Utils.share2GroupByTicket(\n                                        shareConfig[0],\n                                        res,\n                                        () => { // * success callback\n                                            self.showOpenRedPacket(true);\n                                        },\n                                        () => { // * failed callback\n                                            tywx.ado.Utils.showWXModal('请分享到不同群');\n                                            //self.errorCallBack && self.errorCallBack(null);                                           \n                                        }\n                                    );\n                                } else {\n                                    // * failed\n                                    tywx.ado.Utils.showWXModal('请分享到群');\n                                    //self.errorCallBack && self.errorCallBack(null);\n                                }\n                            } else {\n                                // * success\n                                self.showOpenRedPacket(true);\n                            }\n\n                        },\n                        function (data) {\n                            console.log(\"分享成功后的数2据\" + JSON.stringify(data));\n                            //self.errorCallBack && self.errorCallBack(data);\n                        }\n                    );\n                }\n            } else {\n                if (!self.hadclicknumber || self.hadclicknumber == 0) {\n                    self.hadclicknumber = 1;\n                } else {\n                    return;\n                }\n                tywx.ado.Utils.showWXVideo({\n                    success: () => {\n                        self.hadclicknumber = 0;\n                        self.showOpenRedPacket(true);\n                    },\n                    fail: () => {\n                        self.hadclicknumber = 0;\n                    },\n                    error_callback: () => {\n                        self.hadclicknumber = 0;\n                        self.showOpenRedPacket(true);\n                    }\n                });\n            }\n\n        }\n    },\n    btnGetRewardWithoutShareAndVideo() {\n        this.showOpenRedPacket();\n    },\n    showOpenRedPacket(is_double = false) {\n        this.node.destroy();\n        cc.loader.loadRes('prefabs/OpenRedPackView_2', function (err, prefab) {\n            if (!err) {\n                var prefabNode = cc.instantiate(prefab);\n                cc.game.addPersistRootNode(prefabNode);\n                prefabNode.x = 360;\n                prefabNode.y = 720;\n                tywx.ado.Utils.hideWXBanner();\n                prefabNode.getComponent('OpenRedPackView_2').showUI();\n                prefabNode.getComponent('OpenRedPackView_2').init(is_double);\n            }\n        });\n    },\n    init() {\n        let info = tywx.ado.EveryDataLoginInfo;\n        this.root = this.node.getChildByName('root');\n        this.info = info;\n        let btn_get_label = this.root.getChildByName('btn_reward_double').getChildByName('label_reward').getComponent(cc.Label);\n        let btn_get_label_shadow = this.root.getChildByName('btn_reward_double').getChildByName('label_reward_shadow').getComponent(cc.Label);\n        if (btn_get_label) {\n            btn_get_label.string = info.rewad ? '已领取' : (this.isShare ? '加倍领取' : '视频加倍');\n            btn_get_label_shadow.string = info.rewad ? '已领取' : (this.isShare ? '加倍领取' : '视频加倍');\n            this.root.getChildByName('toggle_share').active = !info.rewad;\n            this.root.getChildByName('btn_reward').active = !info.rewad;\n            if (!tywx.ado.isCanWatchVideo) {\n                this.root.getChildByName('toggle_share').active = false;\n            }\n        }\n        for (let i = 0; i < 7; i++) {\n            let child_name = `node_icon_${i}`;\n            let node_icon = this.root.getChildByName(child_name);\n            if (node_icon) {\n                let mask = node_icon.getChildByName('mask');\n                let node_count = node_icon.getChildByName('label_count');\n                let label_count = node_count.getComponent(cc.Label);\n                let bg = node_icon.getChildByName('sprite_icon');\n                let amount = info.amounts[i] >= 0 ? info.amounts[i] : -info.amounts[i];\n                label_count.string = `¥${tywx.ado.Utils.formatCashFen2Yuan(amount)}`;\n                if (i === info.count - 1) {\n                    mask.active = false;\n                    node_count.active = info.rewad;\n                } else {\n                    mask.active = true;\n                    bg.active = false;\n                    if (i > info.count - 1) {\n                        node_count.active = false;\n                    } else {\n                        node_count.active = true;\n                    }\n                }\n            }\n        }\n    }\n});"]}