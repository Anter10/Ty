{"version":3,"sources":["../../../../../assets/Script/models/assets/Script/models/GeZi.js"],"names":["config","require","block","module","exports","id","parent","label_id","color","cc","num","tmp_pitchw","tywx","ado","Constants","GameCenterConfig","gezi_h_s","gezi_gap","tmp_pitchh","gezi_size","posx","gezi_offx","rowcellNumber","posy","gezi_offy","parseInt","console","log","setnum","hasout","printMSG","id_keep","id_dest","gamecenter","hasShowxhgNum","allpngs","getComponent","showThanTenIcon","addxhgNumber","hideThanTenIcon","hasShowxhgId","removexhgId","colorindex","color_list","length","colors","setColor","getAllgz","getAllmask","settoblock","setinfo","setpos","settoblockAndNumber","settoblockvalue","draw","cell","tilescript","pngnum","celltilenumColors","visByNum","cindex","setCurNum","Sprite","node","x","y"],"mappings":"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","file":"GeZi.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["/*\n    游戏的基本单元：格子（真实的格子）\n    定义他的数字和颜色，色块的所有者\n    created by gyc on 2018-08-01.\n*/\n\nvar config = require(\"AddOneConfig\")\nvar block = require(\"GeZiData\")\n\n/**\n * @description 格子对象\n * @param {Number } id  当前的标签ID\n * @param {*} parent \n * @param {*} label_id \n */\nmodule.exports = function (id, parent, label_id) {\n    // console.log(\"当前的格子初始化信息 = \" + label_id);\n    // 格子的ID\n    this.id = id;\n    this.label_id = label_id;\n    // 格子的颜色\n    this.color = cc.color(0, 0, 0, 0);\n    // 格子现实的的数字\n    this.num = 0;\n    // 格子的容器\n\n    var tmp_pitchw = tywx.ado.Constants.GameCenterConfig.gezi_h_s + tywx.ado.Constants.GameCenterConfig.gezi_gap / 2;\n    var tmp_pitchh = tywx.ado.Constants.GameCenterConfig.gezi_size * 3 / 2 + tywx.ado.Constants.GameCenterConfig.gezi_gap;\n\n\n    this.parent = parent;\n    // 格子的x坐标\n    this.posx = tywx.ado.Constants.GameCenterConfig.gezi_offx + (id % tywx.ado.Constants.GameCenterConfig.rowcellNumber) * tmp_pitchw + tywx.ado.Constants.GameCenterConfig.gezi_h_s;\n    // 格子的Y坐标\n    this.posy = tywx.ado.Constants.GameCenterConfig.gezi_offy + parseInt(id / tywx.ado.Constants.GameCenterConfig.rowcellNumber) * tmp_pitchh;\n    console.log(id + \"当前格子的位置 = \" + \"x = \" + this.posx + \" y = \" + this.posy)\n\n    // 格子的数据层\n    if (this.label_id >= 0)\n        this.block = new block(this);\n    else\n        this.block = null;\n\n\n    /*\n        调用: 更新Num的时候调用\n        功能: 更新当前的num 并根据num来更新显示的颜色\n        参数: [\n            num: 格子显示的数字\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    this.setnum = function (num) {\n        if (num) {\n            if (num % 2 == 0 && num > 7 && !this.hasout) {\n                if (this.block) {\n                    this.block.printMSG();\n                    //   console.log(this.id + \" cell gz num  = \" + num + \" \" + tywx.gamecenter.hasShowxhgNum(num));\n                    if (this.block.id_keep == -1 && this.block.id_dest == -1) {\n                        if (tywx.gamecenter.hasShowxhgNum(num) == false) {\n                            tywx.gamecenter.allpngs[this.id] && tywx.gamecenter.allpngs[this.id].getComponent(\"celltile\").showThanTenIcon();\n                            tywx.gamecenter.addxhgNumber(num, this.id);\n                        } else {\n                            tywx.gamecenter.allpngs[this.id] && tywx.gamecenter.allpngs[this.id].getComponent(\"celltile\").hideThanTenIcon();\n                            //  tywx.gamecenter.removexhgNumber(num);\n                        }\n                    } else if (this.block.id_keep != -1 && this.block.id_dest != -1) {\n                        // console.log(JSON.stringify(tywx.gamecenter.curshowxhgs) + \"keep ahd = \" + tywx.gamecenter.hasShowxhgId(this.block.id_keep));\n                        if (tywx.gamecenter.hasShowxhgId(this.block.id_keep) == true) {\n                            tywx.gamecenter.allpngs[this.block.id_dest] && tywx.gamecenter.allpngs[this.block.id_dest].getComponent(\"celltile\").showThanTenIcon();\n                            tywx.gamecenter.addxhgNumber(num, this.block.id_dest);\n                        }\n                        tywx.gamecenter.removexhgId(this.block.id_keep);\n                        tywx.gamecenter.allpngs[this.block.id_keep] && tywx.gamecenter.allpngs[this.block.id_keep].getComponent(\"celltile\").hideThanTenIcon();\n                    } else if (this.block.id_keep != -1 && this.block.id_dest == -1) {\n                        if (tywx.gamecenter.hasShowxhgNum(num) == false) {\n                            tywx.gamecenter.addxhgNumber(num, this.block.id_keep);\n                            tywx.gamecenter.allpngs[this.block.id_keep] && tywx.gamecenter.allpngs[this.block.id_keep].getComponent(\"celltile\").showThanTenIcon();\n                        }\n                    }\n                }\n            } else {\n                if (this.block) {\n                    if (num > 8) {\n                        if (tywx.gamecenter.hasShowxhgId(this.block.id_keep) == true) {\n                            tywx.gamecenter.removexhgId(this.block.id_keep);\n                            tywx.gamecenter.allpngs[this.block.id_keep] && tywx.gamecenter.allpngs[this.block.id_keep].getComponent(\"celltile\").hideThanTenIcon();\n                        }\n                    }\n                    tywx.gamecenter.allpngs[this.id] && tywx.gamecenter.allpngs[this.id].getComponent(\"celltile\").hideThanTenIcon();\n                }\n            }\n            config = tywx.config != null ? tywx.config : config;\n            this.num = num;\n            var colorindex = num - 1;\n            // if (this.num > tywx.ado.Constants.GameCenterConfig.color_list.length) {\n            colorindex = colorindex % tywx.ado.Constants.GameCenterConfig.color_list.length;\n            // }\n            let colors = tywx.ado.Constants.GameCenterConfig.color_list[colorindex];\n            if (!colors) {\n                console.log(\"当前什么情况 = \" + colorindex + \" \" + num);\n            }\n            var color = cc.color(colors[0], colors[1], colors[2]);\n            this.setColor(color);\n        }\n\n    }\n\n\n    /*\n        调用: 更新颜色的时候调用\n        功能: 更新当前的颜色值\n        参数: [\n            color:格子需要显示的颜色\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    this.setColor = function (color) {\n        this.color = color;\n    }\n\n    /*\n        调用: GeZiData,GeZi中都有调用\n        功能: 得到游戏的格子容器\n        参数: [\n            无\n        ]\n        返回值:[\n            array:存储格子的数组\n        ]\n        思路: 逻辑需要\n    */\n    this.getAllgz = function () {\n        return this.parent.getAllgz();\n    }\n\n    /*\n        调用: GeZiData,GeZi中都有调用\n        功能: 得到游戏的mask容器\n        参数: [\n            无\n        ]\n        返回值:[\n            array:存储mask的数组\n        ]\n        思路: 逻辑需要\n    */\n    this.getAllmask = function () {\n        return this.parent.getAllmask();\n    }\n\n    /*\n         调用: gamemain中调用\n         功能: 更新自身block的数据\n         参数: [\n             无\n         ]\n         返回值:[\n             无\n         ]\n         思路: 逻辑需要\n     */\n    this.settoblock = function () {\n        this.block && (this.block.setinfo(this.color, this.num));\n        this.block && (this.block.setpos(this.posx, this.posy));\n    }\n\n\n    /*\n               调用: gamemain中调用\n               功能: 更新自身block的数据\n               参数: [\n                   无\n               ]\n               返回值:[\n                   无\n               ]\n               思路: 逻辑需要\n       */\n    this.settoblockAndNumber = function (num) {\n        if (this.block && this.block.posx != this.posx && this.block.posy != this.block.posy) {\n            this.block.setinfo(this.color, num);\n        }\n\n        this.block && (this.block.setpos(this.posx, this.posy));\n    }\n\n\n\n    /*\n         调用: gamemain中调用\n         功能: 更新自身block的数据\n         参数: [\n             无\n         ]\n         返回值:[\n             无\n         ]\n         思路: 逻辑需要\n     */\n    this.settoblockvalue = function () {\n            this.block && (this.block.setinfo(this.color, this.num));\n        },\n\n\n\n        /*\n             调用: gamemain中调用\n             功能: 绘制当前的节点\n             参数: [\n                 ctx: 绘制节点的句柄\n                 label:显示的label\n             ]\n             返回值:[\n                 无\n             ]\n             思路: 逻辑需要\n         */\n        this.draw = function (cell) {\n            if (this.label_id == -1 || !this.block)\n                return;\n            config = tywx.config != null ? tywx.config : config;\n            // ctx.fillColor = this.block.color;\n            // ctx.roundRect(this.block.posx,this.block.posy,tywx.ado.Constants.GameCenterConfig.gezi_size,tywx.ado.Constants.GameCenterConfig.gezi_size,8);\n            // ctx.fill();\n            // lable.string = this.block.num;\n            // lable.node.x = this.block.posx-360+tywx.ado.Constants.GameCenterConfig.gezi_size/2;\n            // lable.node.y = this.block.posy-640+tywx.ado.Constants.GameCenterConfig.gezi_size/2;\n\n            var tilescript = cell.getComponent(\"celltile\");\n            var pngnum = this.block.num % tywx.ado.Constants.GameCenterConfig.celltilenumColors.length;\n            tilescript.visByNum(pngnum, this.block.num);\n            var cindex = pngnum - 1;\n            if (cindex < 0) {\n                cindex = 0;\n            }\n            tilescript.setCurNum(this.getAllmask()[this.id].num);\n            let colors = tywx.ado.Constants.GameCenterConfig.celltilenumColors[cindex];\n            tilescript.setColor(new cc.color(colors[0], colors[1], colors[2], 255));\n            cell.getComponent(cc.Sprite).node.x = this.block.posx - 360;\n            cell.getComponent(cc.Sprite).node.y = this.block.posy - 640;\n        }\n}"]}