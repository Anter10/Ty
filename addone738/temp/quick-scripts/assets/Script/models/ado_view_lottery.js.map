{"version":3,"sources":["ado_view_lottery.js"],"names":["cc","Class","extends","Component","properties","nodeLabelRoot","Node","nodeIconRoot","nodeDisk","start","btnStartLottery","isLottering","lottery","aims","aim_id","parseInt","Math","random","length","self","current_rotate","rotation","tywx","ado","logWithColor","runAction","sequence","rotateBy","easing","easeIn","easeOut","callFunc","init","i","lable_name","label_node","getChildByName","getComponent","Label","string"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,uBAAeL,GAAGM,IADV;AAERC,sBAAcP,GAAGM,IAFT;AAGRE,kBAAUR,GAAGM;AAHL,KAHP;;AASL;;AAEA;;AAEAG,SAbK,mBAaI,CAER,CAfI;;;AAiBL;AACAC,mBAlBK,6BAkBY;AACb,YAAG,KAAKC,WAAR,EAAqB;AACrB,aAAKC,OAAL;AACH,KArBI;AAsBLA,WAtBK,qBAsBI;AACL,YAAIC,OAAO,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,CAAX;AACA,YAAIC,SAASD,KAAKE,SAASC,KAAKC,MAAL,KAAcJ,KAAKK,MAA5B,CAAL,CAAb;AACA,YAAIC,OAAO,IAAX;AACA,YAAIC,iBAAiB,KAAKZ,QAAL,CAAca,QAAd,GAAyB,GAA9C;AACA;AACAC,aAAKC,GAAL,CAASC,YAAT,iBAAoCV,MAApC;AACA,aAAKH,WAAL,GAAmB,IAAnB;AACA,aAAKH,QAAL,CAAciB,SAAd,CACIzB,GAAG0B,QAAH,CACI1B,GAAG2B,QAAH,CAAY,CAAZ,EAAe,MAAM,CAAN,GAAUP,cAAzB,EAAyCQ,MAAzC,CAAgD5B,GAAG6B,MAAH,CAAU,GAAV,CAAhD,CADJ,EAEI7B,GAAG2B,QAAH,CAAY,CAAZ,EAAe,MAAM,CAArB,CAFJ,EAGI3B,GAAG2B,QAAH,CAAY,CAAZ,EAAe,MAAM,CAAN,GAAUb,SAAS,EAAlC,EAAsCc,MAAtC,CAA6C5B,GAAG8B,OAAH,CAAW,GAAX,CAA7C,CAHJ,EAII9B,GAAG+B,QAAH,CAAY,YAAI;AACZZ,iBAAKR,WAAL,GAAmB,KAAnB;AACH,SAFD,CAJJ,CADJ;AAUH,KAxCI;AAyCLqB,QAzCK,kBAyCC;AACF,aAAKlB,MAAL,GAAc,CAAd;AACA,aAAI,IAAImB,IAAI,CAAZ,EAAeA,IAAI,CAAnB,EAAsB,EAAEA,CAAxB,EAA0B;AACtB,gBAAIC,wBAAsBD,CAA1B;AACA,gBAAIE,aAAa,KAAK9B,aAAL,CAAmB+B,cAAnB,CAAkCF,UAAlC,CAAjB;AACA,gBAAGC,UAAH,EAAc;AACVA,2BAAWE,YAAX,CAAwBrC,GAAGsC,KAA3B,EAAkCC,MAAlC,oBAAgDN,CAAhD;AACH;AACJ;AACJ;AAlDI,CAAT","file":"ado_view_lottery.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        nodeLabelRoot: cc.Node,\n        nodeIconRoot: cc.Node,\n        nodeDisk: cc.Node\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n\n    // update (dt) {},\n    btnStartLottery(){\n        if(this.isLottering) return;\n        this.lottery();\n    },\n    lottery(){\n        let aims = [0,1,2,3,4,5];\n        let aim_id = aims[parseInt(Math.random()*aims.length)];\n        let self = this;\n        let current_rotate = this.nodeDisk.rotation % 360;\n        //let last_aim_id = parseInt(current_rotate / 60);\n        tywx.ado.logWithColor(`LOTTERY===>${aim_id}`);\n        this.isLottering = true;\n        this.nodeDisk.runAction(\n            cc.sequence(\n                cc.rotateBy(1, 360 * 2 - current_rotate).easing(cc.easeIn(2.0)),\n                cc.rotateBy(2, 360 * 5),\n                cc.rotateBy(1, 360 * 2 - aim_id * 60).easing(cc.easeOut(1.0)),\n                cc.callFunc(()=>{\n                    self.isLottering = false;\n                })\n            )\n        );\n    },\n    init(){\n        this.aim_id = 0;\n        for(let i = 0; i < 6; ++i){\n            let lable_name = `label_${i}`;\n            let label_node = this.nodeLabelRoot.getChildByName(lable_name);\n            if(label_node){\n                label_node.getComponent(cc.Label).string = `礼物${i}`;\n            }\n        }\n    }\n\n});\n"]}