{"version":3,"sources":["red_packet_transfer.js"],"names":["cc","Class","extends","Component","properties","labelMax","Label","labelRules","labelTips","labelCurrent","nodeCurrent","Node","onLoad","director","getScene","_name","tywx","ado","Utils","hideGameClub","an","AdManager","getAdNodeByTag","hideAdNode","hideWXBanner","commonScaleIn","node","getChildByName","start","onDestroy","showGameClub","showAdNode","showWXBanner","motaiCallback","destroy","btnTransferClickCallback","info","totalAmount","requestRedPacket2Cash","showWXModal","init","current_cash","RedPacketInfo","string","formatCashFen2Yuan","active"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAUL,GAAGM,KADL;AAERC,oBAAYP,GAAGM,KAFP;AAGRE,mBAAWR,GAAGM,KAHN;AAIRG,sBAAcT,GAAGM,KAJT;AAKRI,qBAAaV,GAAGW;AALR,KAHP;;AAWL;;AAEAC,UAbK,oBAaK;AACN,YAAGZ,GAAGa,QAAH,CAAYC,QAAZ,GAAuBC,KAAvB,KAAiC,WAApC,EAAgD;AAC5CC,iBAAKC,GAAL,CAASC,KAAT,CAAeC,YAAf;AACA,gBAAIC,KAAKJ,KAAKK,SAAL,CAAeC,cAAf,CAA8B,YAA9B,CAAT;AACA,gBAAGF,EAAH,EAAOA,GAAGG,UAAH;AACV,SAJD,MAIO,IAAIvB,GAAGa,QAAH,CAAYC,QAAZ,GAAuBC,KAAvB,KAAiC,UAArC,EAAiD;AACpDC,iBAAKC,GAAL,CAASC,KAAT,CAAeM,YAAf;AACH;AACDR,aAAKC,GAAL,CAASC,KAAT,CAAeO,aAAf,CAA6B,KAAKC,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAA7B;AACH,KAtBI;AAwBLC,SAxBK,mBAwBI,CAER,CA1BI;AA4BLC,aA5BK,uBA4BM;AACP,YAAG7B,GAAGa,QAAH,CAAYC,QAAZ,GAAuBC,KAAvB,KAAiC,WAApC,EAAgD;AAC5CC,iBAAKC,GAAL,CAASC,KAAT,CAAeY,YAAf;AACA,gBAAIV,KAAKJ,KAAKK,SAAL,CAAeC,cAAf,CAA8B,YAA9B,CAAT;AACA,gBAAGF,EAAH,EAAOA,GAAGW,UAAH;AACV,SAJD,MAIO,IAAI/B,GAAGa,QAAH,CAAYC,QAAZ,GAAuBC,KAAvB,KAAiC,UAArC,EAAiD;AACpDC,iBAAKC,GAAL,CAASC,KAAT,CAAec,YAAf;AACH;AACJ,KApCI;;;AAsCL;;AAEAC,iBAxCK,2BAwCU;;AAEX,aAAKP,IAAL,CAAUQ,OAAV;AACH,KA3CI;AA4CLC,4BA5CK,sCA4CqB;AACtB,YAAG,KAAKC,IAAL,CAAUC,WAAV,IAAyB,IAA5B,EAAiC;AAC7BrB,iBAAKC,GAAL,CAASC,KAAT,CAAeoB,qBAAf;AACH,SAFD,MAGI;AACAtB,iBAAKC,GAAL,CAASC,KAAT,CAAeqB,WAAf,CAA2B,eAA3B,EAA2C,IAA3C,EAAgD,KAAhD;AACH;AACJ,KAnDI;AAoDLC,QApDK,gBAoDAC,YApDA,EAoDa;AACd,aAAKL,IAAL,GAAYpB,KAAKC,GAAL,CAASyB,aAArB;AACA,aAAKrC,QAAL,CAAcsC,MAAd,yBAA8B3B,KAAKC,GAAL,CAASC,KAAT,CAAe0B,kBAAf,CAAkC,KAAKR,IAAL,CAAUC,WAA5C,CAA9B;AACA,YAAGI,YAAH,EAAgB;AACZ,iBAAK/B,WAAL,CAAiBmC,MAAjB,GAA0B,IAA1B;AACA,iBAAKpC,YAAL,CAAkBkC,MAAlB,yBAAkCF,YAAlC;AACH,SAHD,MAII;AACA,iBAAK/B,WAAL,CAAiBmC,MAAjB,GAA0B,KAA1B;AACA,iBAAKpC,YAAL,CAAkBkC,MAAlB;AACH;AACJ;AA/DI,CAAT","file":"red_packet_transfer.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        labelMax: cc.Label,\n        labelRules: cc.Label,\n        labelTips: cc.Label,\n        labelCurrent: cc.Label,\n        nodeCurrent: cc.Node\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        if(cc.director.getScene()._name === 'gamestart'){\n            tywx.ado.Utils.hideGameClub();\n            let an = tywx.AdManager.getAdNodeByTag('GAME_START');\n            if(an) an.hideAdNode();\n        } else if (cc.director.getScene()._name === 'gamemain') {\n            tywx.ado.Utils.hideWXBanner();\n        }\n        tywx.ado.Utils.commonScaleIn(this.node.getChildByName('root'));\n    },\n\n    start () {\n\n    },\n\n    onDestroy(){\n        if(cc.director.getScene()._name === 'gamestart'){\n            tywx.ado.Utils.showGameClub();\n            let an = tywx.AdManager.getAdNodeByTag('GAME_START');\n            if(an) an.showAdNode();\n        } else if (cc.director.getScene()._name === 'gamemain') {\n            tywx.ado.Utils.showWXBanner();\n        }\n    },\n\n    // update (dt) {},\n\n    motaiCallback(){\n\n        this.node.destroy();\n    },\n    btnTransferClickCallback(){\n        if(this.info.totalAmount >= 2000){\n            tywx.ado.Utils.requestRedPacket2Cash();\n        }\n        else{\n            tywx.ado.Utils.showWXModal('攒够20元再提现吧,加油!','提示',false);\n        }\n    },\n    init(current_cash){\n        this.info = tywx.ado.RedPacketInfo;\n        this.labelMax.string = `余额:¥${tywx.ado.Utils.formatCashFen2Yuan(this.info.totalAmount)}`;\n        if(current_cash){\n            this.nodeCurrent.active = true;\n            this.labelCurrent.string = `本次:¥${current_cash}`;\n        }\n        else{\n            this.nodeCurrent.active = false;\n            this.labelCurrent.string = `本次:¥0.0`;\n        }\n    }\n});\n"]}