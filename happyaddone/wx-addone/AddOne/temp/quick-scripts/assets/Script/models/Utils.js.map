{"version":3,"sources":["Utils.js"],"names":["crypto","require","GameClubBtn","WXBannerAD","IsHideBanner","WXVedioAD","WXVedioCallback","success","fail","err_cb","Utils","params","canvas","toTempFilePath","x","y","width","w","height","h","destWidth","destHeight","res","console","log","saveImage2PhoneByUrl","tempFilePath","url","cb_success","cb_fail","saveImg2Phone","wx","saveImageToPhotosAlbum","filePath","getSetting","authSetting","authorize","scope","openSetting","complete","key","cc","sys","localStorage","removeItem","tywx","isInWXChat","removeUserCloudStorage","keyList","msg","time","Date","err_obj","SystemInfo","cloudId","toDateString","clientId","UserInfo","userId","system","model","wechatType","version","StateInfo","networkType","ip","header","configObj","errorTxtServer","HttpUtil","httpPost","value","only_local","setItem","setUserCloudStorage","KVDataList","default_value","v","getItem","i","tmp_v","tag","result","success_cb","fail_cb","shareTickets","call_succ","call_fail","ff","getShareInfo","shareTicket","iv","encryptedData","resultStr","decrypt","wxgame_session_key","resultObj","JSON","parse","id","openGId","t0","parseInt","loadItem","tc","getTime","saveItem","e","share_tag","config","tmp_arr","PropagateInterface","ShareConfig","hasOwnProperty","rand_idx","Math","random","length","crypted","decoded","Buffer","decipher","createDecipheriv","setAutoPadding","update","final","err","duration","showToast","title","icon","error","content","show_cancel","sure_cb","cancle_cb","confirm_txt","cancle_txt","showModal","showCancel","confirmText","cancelText","confirm","cancel","createGameClubButton","style","left","top","show","hide","window","createBannerAd","ado","destroyWXBanner","sys_info","getSystemInfoSync","s_w","screenWidth","s_h","screenHeight","is_ipx","isIpx","is_pad","isPad","adUnitId","Constants","WXAdConfig","bannerId","onResize","destroy","createRewardedVideoAd","vedioId","onClose","toast_str","isEnded","undefined","showWXBanner","error_callback","load","then","catch","lucky_rate","Configs","LuckyUserRate","showWXModal","hideWXBanner","node","runAction","sequence","scaleTo","easing","easeIn","ret","indexOf","windowHeight","windowWidth","sprite","size","loader","texture","new_sprite_frame","SpriteFrame","spriteFrame","setContentSize","btn_sure_cb","loadRes","prefab","winSize","prefabNode","instantiate","game","addPersistRootNode","position","v2","getComponent","init","request","loginUrl","data","authorCode","deviceInfo","deviceId","name","userName","rand","stringify","nextAmount","red_packet","current","formatCashFen2Yuan","max","totalAmount","times","needShare","is_share","RedPacketInfo","uploadErrorMsg","message","addAmount","WXTransferRedPacketError","code","NotificationCenter","trigger","Events","ADO_EVENT_RED_PACKET_CHANGE","EveryDataLoginInfo","double","amounts","count","inviteId","InviteInfo","reward","hpvalue","cash","current_cash","parent","getPopRoot","pop","scene","director","getScene","pop_root","getChildByName","end","end_callback","moveTo","easeSineIn","callFunc","wx_app_id","list","AdManager","rawAdInfoList","tmp_c","toappid","skip_type","icon_skip_type","togame","topath","path","second_toappid","that","icon_id","config_id","webpage_url","webpage_id","bi_paramlist","adType","BiLog","clickStat","clickStatEventType","clickStatEventTypeClickAdBtn","navigateToMiniProgram","appId","envVersion","extraData","from","clickStatEventTypeClickDirectToMiniGameSuccess","clickStatEventTypeClickDirectToMiniGameFail","ip_info","MinGanIpInfo","MinGanIp","loc","info","lock_city","module","exports"],"mappings":"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","file":"Utils.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["\nlet crypto = require('crypto');\nlet GameClubBtn = null; // * 游戏圈按钮\nlet WXBannerAD = null; // * 微信banner广告\nlet IsHideBanner = false; // * 是否显示Banner\nlet WXVedioAD = null; // * 微信Vedio广告\nlet WXVedioCallback = {\n    success: null,\n    fail: null,\n    err_cb: null,\n}; // * 微信vedio回调\nlet Utils = class{\n    /**\n    * @param params Object\n    *        params.wisper_ming string 悄悄话 明文\n    *        params.wisper_an string 悄悄话 暗文\n    *        params.heard_url string 玩家头像\n    *        params.size cc.size 尺寸\n    *        params.bg string 背景图片\n    *        params.success function 成功回调\n    *        params.fail function 失败回调\n    * 流程:\n    * 1. 创建离屏canvas\n    * 2. 绘制背景\n    * 3. 绘制头像\n    * 4. 绘制文本\n    * 5. 截屏保存到本地\n    * 6. 将本地图片保存到相册\n    * @author lu ning\n    * @date 11:31 2018/7/5\n    * @return {Object} 返回值描述\n    */\n   static createAndSaveImg2WXAlbum(params){\n        canvas.toTempFilePath({\n            x: params.x,\n            y: params.y,\n            width:params.w, \n            height: params.h,\n            destWidth: params.w,\n            destHeight: params.h,\n            success: function success(res) {\n                console.log(res);\n            \n                Utils.saveImage2PhoneByUrl(res.tempFilePath, params.success, params.fail);\n            },\n            fail: function fail(res) {\n                // self.title.active = true;\n                params.fail && params.fail();\n            }\n    });\n   }\n\n   static saveImage2PhoneByUrl(url, cb_success, cb_fail){\n       let saveImg2Phone = ()=>{\n           if(!wx.saveImageToPhotosAlbum){\n               cb_fail();\n               return;\n           }\n\n           wx.saveImageToPhotosAlbum({\n               filePath: url,\n               success: (res)=>{\n                   cb_success();\n               },\n               fail: (res)=>{\n                   cb_fail();\n               }\n           });\n       };\n       wx.getSetting({\n           success: (res)=>{\n               if (!res.authSetting['scope.writePhotosAlbum']) {\n                   wx.authorize({\n                       scope : \"scope.writePhotosAlbum\",\n                       success : function () {\n                           saveImg2Phone();\n                       },\n                       fail:function () {\n                           if(wx.openSetting){\n                               wx.openSetting({\n                                   success: (res)=>{\n                                       console.log('success',res);\n                                       if(res.authSetting['scope.writePhotosAlbum']){\n                                           saveImg2Phone();\n                                       }\n                                       else{\n                                           cb_fail();\n                                       }\n                                   },\n                                   fail: (res)=>{\n                                       console.log('fail',res);\n                                       cb_fail();\n                                   }\n                               });\n                           }\n                           else{\n                               cb_fail();\n                           }\n                       },\n                       complete:function () {\n                       }\n                   });\n               }\n               else{\n                   saveImg2Phone();\n               }\n           },\n           fail: (res)=>{\n               cb_fail();\n           }\n       });\n   }\n    /**\n     * * 删除存储在本地的指定数据\n     *\n     * @static\n     * @param {String} key 标识\n     * @returns\n     */\n    static delItem(key) {\n        cc.sys.localStorage.removeItem(key);\n        //localValues.delete(key);\n        if (!tywx.isInWXChat)\n            return;\n        wx.removeUserCloudStorage({\n            keyList: [key],\n            success: (msg) => {\n                console.log('removeObjectCloud  ' + key + ' succeeds', msg);\n            },\n            fail: (msg) => {\n                console.log('removeObjectCloud  ' + key + ' fails', msg);\n            },\n        });\n    }\n\n    static uploadErrorMsg(msg) {\n        let time = new Date();\n        let err_obj = {\n            \"cloud_id\"     : tywx.SystemInfo.cloudId,\n            \"time\"         : time.toDateString(),\n            \"client_id\"    : tywx.SystemInfo.clientId,\n            \"user_id\"      : tywx.UserInfo.userId,\n            \"sys_version\"  : tywx.UserInfo.system,\n            \"mobile_models\": tywx.UserInfo.model,\n            \"baseVersion\"  : \"0\",\n            \"wxVersion\"    : tywx.UserInfo.wechatType,\n            \"clientVersion\": tywx.SystemInfo.version,\n            \"Nettype\"      : tywx.StateInfo.networkType,\n            \"ip\"           : tywx.UserInfo.ip,\n            \"errMsg\"       : msg\n        };\n        //let err_str = String(err_obj);\n        if(err_obj) {\n            var header = {'Content-Type':'text/plain'};\n            var configObj = {\n                'url'     : tywx.SystemInfo.errorTxtServer,\n                'header'  : header,\n                'postData': err_obj,\n                'callback': (params)=>{\n                    console.log('uploadErrorMsg===>',params);\n                }\n            };\n            tywx.HttpUtil.httpPost(configObj,'POST');\n        }\n    }\n\n    /**\n     * * 保存数据到本地\n     *\n     * @static\n     * @param {String} key 标识\n     * @param {any} value\n     * @param {boolean} only_local 是否只保存在本地,false的情况，上传到腾讯云\n     * @returns\n     */\n    static saveItem(key, value, only_local) {\n        value = value + '';\n        cc.sys.localStorage.setItem(key, value);\n        //localValues.set(key, value);\n        if (!tywx.isInWXChat)\n            return;\n        if (!only_local) {\n            //FIXED: 做版本检测，版本低的会有黑屏\n            if (wx.setUserCloudStorage) {\n                wx.setUserCloudStorage({\n                    KVDataList: [{\n                        key: key,\n                        value: value\n                    }],\n                    success: (msg) => {\n                        console.log('saveObjectToCloud  ' + key + ' succeeds', msg);\n                    },\n                    fail: (msg) => {\n                        console.log('saveObjectToCloud  ' + key + ' fails', msg);\n                    },\n                });\n            }\n        }\n    }\n    /**\n     * * 加载保存在本地的数据\n     *\n     * @static\n     * @param {String} key 标识\n     * @param {any} default_value 默认值\n     * @returns\n     */\n   static loadItem(key, default_value) {\n       //if(localValues.has(key)) return localValues.get(key);\n       var v = cc.sys.localStorage.getItem(key);\n       if (!v) {\n           v = default_value;\n           for (let i = 0; i < 3; i++) {\n               let tmp_v = cc.sys.localStorage.getItem(key);\n               if (!tmp_v) continue;\n               v = tmp_v;\n               break;\n           }\n       }\n       return v;\n   }\n\n    /**\n     * @description 分享到不同群限制\n     * @author lu ning\n     * @date 2018-08-22\n     * @static\n     * @param {String} tag 分享tag\n     * @param {Object} result 分享返回值\n     * @param {Function} success_cb 成功回调\n     * @param {Function} fail_cb 失败回调\n     * @returns\n     */\n    static share2GroupByTicket(tag, result, success_cb, fail_cb){\n        if (!result.shareTickets || !result.shareTickets[0]) return false;\n        let call_succ = () => {\n            if (success_cb) success_cb();\n        };\n        let call_fail = () => {\n            if (fail_cb) fail_cb();\n        };\n        let ff = Utils;\n\n        wx.getShareInfo({\n            shareTicket: result.shareTickets[0],\n            success: (res) => {\n                console.log('isCanShare2GroupByTicket==>', res);\n                try {\n                    let iv = res.iv;\n                    let encryptedData = res.encryptedData;\n                    let resultStr = ff.decrypt(tywx.UserInfo.wxgame_session_key, iv, encryptedData);\n                    console.log('resultStr==>', resultStr);\n                    if (resultStr && resultStr !== 0) {\n                        let resultObj = JSON.parse(resultStr);\n                        let id = `${tag}_${resultObj.openGId}`;\n                        let t0 = parseInt(ff.loadItem(id, 0));\n                        let tc = new Date().getTime();\n                        console.log('isCanShare2GroupByTicket==>openGId', id, typeof id);\n                        if (tc - t0 >= 8 * 60 * 60 * 1000) {\n                            ff.saveItem(id, tc, true);\n                            call_succ();\n                        } else {\n                            call_fail();\n                        }\n                    }else {\n                        call_fail();\n                    }\n\n                } catch (e) {\n                    console.log(\"share::\" , e);\n                    call_fail();\n                }\n            },\n            fail: () => {\n                call_fail();\n            }\n        });\n    }\n\n    /**\n     * @description 获取随机分享数据\n     * @author lu ning\n     * @date 2018-08-23\n     * @static\n     * @param {String} share_tag\n     */\n    static getRandomShareConfigByShareTag(share_tag){\n        let config = null;\n        let tmp_arr = [];\n        if(tywx.PropagateInterface.ShareConfig.hasOwnProperty(share_tag)){\n            tmp_arr = tywx.PropagateInterface.ShareConfig[share_tag];\n            let rand_idx = parseInt(Math.random() * tmp_arr.length);\n            config = tmp_arr[rand_idx];\n        }\n        return config;\n    }\n\n    static decrypt(key, iv, crypted) {\n        var decoded = 0;\n        try {\n            crypted = new Buffer(crypted, 'base64');\n            iv = new Buffer(iv, 'base64');\n            key = new Buffer(key, 'base64');\n\n            var decipher = crypto.createDecipheriv('aes-128-cbc', key, iv);\n            decipher.setAutoPadding(true);\n\n            decoded = decipher.update(crypted, 'binary', 'utf8');\n            decoded += decipher.final('utf8');\n        } catch (err) {\n            console.log(\"decrypt\", \" catch error: \" + err);\n        }\n        return decoded;\n    }\n\n    /**\n     * @description \n     * @author lu ning\n     * @date 2018-08-24\n     * @static\n     * @param {String} msg\n     * @param {number} [duration=1000]\n     */\n    static showWXToast(msg, duration = 1000){\n        if(wx.showToast){\n            wx.showToast({\n                title: msg,\n                icon: '',\n                duration: duration\n            });\n        }\n        else{\n            cc.error('showWXToast error can not find function wx.showToast');\n        }\n    }\n    /**\n     * @description 显示模态窗\n     * @author lu ning\n     * @date 2018-08-24\n     * @static\n     * @param {String} content 显示内容\n     * @param {String} [title='提示'] title\n     * @param {boolean} [show_cancle=false]  是否显示取消\n     * @param {Function} [sure_cb=null] 确定按钮回调\n     * @param {Function} [cancle_cb=null] 取消按钮回调\n     * @param {string} [confirm_txt='确定']\n     * @param {string} [cancle_txt='取消']\n     */\n    static showWXModal(content, title = '提示', show_cancel = false, sure_cb = null, cancle_cb = null, confirm_txt = '确定', cancle_txt = '取消'){\n        wx.showModal({\n            title: title,\n            content: content,\n            showCancel: show_cancel,\n            confirmText: confirm_txt,\n            cancelText: cancle_txt,\n            success: function(res) {\n              if (res.confirm) {\n                console.log('用户点击确定');\n                sure_cb && sure_cb();\n              } else if (res.cancel) {\n                console.log('用户点击取消');\n                cancle_cb && cancle_cb();\n              }\n            }\n        });\n    }\n    /**\n     * @description 显示游戏圈\n     * @author lu ning\n     * @date 2018-09-05\n     * @static\n     */\n    static showGameClub(){\n        if(!GameClubBtn && wx.createGameClubButton){\n            GameClubBtn = wx.createGameClubButton({\n                icon: 'green',\n                style: {\n                    left: 10,\n                    top: 30,\n                    width: 40,\n                    height: 40\n                }\n            });\n        }\n        GameClubBtn.show();\n    }\n    /**\n     * @description 隐藏游戏圈\n     * @author lu ning\n     * @date 2018-09-05\n     * @static\n     */\n    static hideGameClub(){\n        if(GameClubBtn){\n            GameClubBtn.hide();\n        }\n    }\n\n    /**\n     * @description 创建并显示微信Banner广告, IsHideBanner=false到时候创建成功也不会显示\n     * @author lu ning\n     * @date 2018-09-06\n     * @static\n     * @returns\n     */\n    static createAndcreateAndShowWXBanner(){\n        if(!window.wx) return;  //! 防止浏览器中报错\n        if(!wx.createBannerAd) return; //! 玩家基础库不支持\n        tywx.ado.Utils.destroyWXBanner();\n        let sys_info = wx.getSystemInfoSync();\n        let s_w      = sys_info.screenWidth;\n        let s_h      = sys_info.screenHeight; // 220\n        // ! 强制适配,主要是ipx有问题\n        let is_ipx = tywx.ado.Utils.isIpx();\n        // ! 强制适配 pad(宽屏设备)\n        let is_pad = tywx.ado.Utils.isPad();\n        WXBannerAD = wx.createBannerAd({\n            adUnitId: tywx.ado.Constants.WXAdConfig.bannerId,\n            style: {\n                left : 0,\n                top  : 0,\n                width: is_ipx ? s_w * 0.88 : (is_pad ? s_w * 0.6 : s_w * 0.95)\n            }\n        });\n        \n        try {\n            WXBannerAD.onResize(function(res) {\n                console.log('showBannerAd', '当前banner,width:' + res.width + \"; height:\" + res.height);\n                if (WXBannerAD) {\n                    let top = s_h - res.height - 5;//is_ipx ? s_h - res.height + 50 : s_h - res.height - 5;\n                    WXBannerAD.style.left = (s_w - res.width) / 2;\n                    WXBannerAD.style.top  = top;    \n                    //res.width             = is_ipx ? s_w * 0.8 : s_w * 0.9;\n                    //res.height            = s_h * 0.13;\n                }\n            });\n        } catch (e) {\n            console.log(e);\n        }\n        // * 隐藏状态不显示banner\n        if(WXBannerAD && !IsHideBanner) WXBannerAD.show();\n    }\n    /**\n     * @description 隐藏Banner广告,隐藏后，若需要显示，必须调用showWXBanner()\n     * @author lu ning\n     * @date 2018-09-06\n     * @static\n     */\n    static hideWXBanner(){\n        if(WXBannerAD){\n            WXBannerAD.hide();\n        }\n        IsHideBanner = true;\n    }\n    /**\n     * @description 显示Banner广告\n     * @author lu ning\n     * @date 2018-09-06\n     * @static\n     */\n    static showWXBanner(){\n        if(WXBannerAD){\n            WXBannerAD.show();\n        }\n        IsHideBanner = false;\n    }\n    /**\n     * @description 销毁Banner\n     * @author lu ning\n     * @date 2018-09-06\n     * @static\n     */\n    static destroyWXBanner(){\n        if(WXBannerAD){\n            WXBannerAD.hide();\n            WXBannerAD.destroy();\n            WXBannerAD = null;\n        }\n    }\n    /**\n     * @description 显示视频广告\n     * @author lu ning\n     * @date 2018-09-06\n     * @static\n     * @param {Object} params\n     * @param {Function} params.success\n     * @param {Function} params.fail\n     * @param {Function} params.error_callback\n     */\n    static showWXVideo(params){\n        if(!window.wx) return;  //! 防止浏览器中报错\n        if(!wx.createRewardedVideoAd) return; //! 玩家基础库不支持\n        if(!WXVedioAD){\n            WXVedioAD = wx.createRewardedVideoAd({\n                adUnitId: tywx.ado.Constants.WXAdConfig.vedioId\n            });\n            WXVedioAD.onClose(res=>{\n                let toast_str = '';\n                if(res && res.isEnded || res === undefined){\n                    toast_str = '视频观看成功';\n                    WXVedioCallback.success && WXVedioCallback.success();\n                }\n                else{\n                    toast_str = '视频观看失败';\n                    WXVedioCallback.fail && WXVedioCallback.fail();\n                }\n                // tywx.ado.Utils.showWXModal(`${toast_str}`);\n                tywx.ado.Utils.showWXBanner();\n            });\n        }\n        // * 成功和失败回调是变化的\n        WXVedioCallback.success = params.success;\n        WXVedioCallback.fail = params.fail;\n        WXVedioCallback.err_cb = params.error_callback || null;\n\n\n        WXVedioAD.load().then(()=>WXVedioAD.show()).catch(e=>{\n            console.log(e);\n            let lucky_rate = tywx.ado.Configs.LuckyUserRate || 50;\n            if(Math.random() * 100 <= lucky_rate){\n                WXVedioCallback.err_cb && WXVedioCallback.err_cb();\n            }\n            else{\n                tywx.ado.Utils.showWXModal(\"获取视频失败\");\n            }\n        });\n        tywx.ado.Utils.hideWXBanner();\n    }\n    /**\n     * @description 通用缩放动画\n     * @author lu ning\n     * @date 2018-09-06\n     * @static\n     * @param {cc.Node} node\n     */\n    static commonScaleIn(node){\n        if (!node) return;\n        node.runAction(\n            cc.sequence(\n                cc.scaleTo(0.08, 0.95).easing(cc.easeIn(3.0)),\n                cc.scaleTo(0.12, 1.1).easing(cc.easeIn(3.0)),\n                cc.scaleTo(0.08, 1).easing(cc.easeIn(3.0))\n            )\n        );\n    }\n    /**\n     * @description 是否是iphoneX\n     * @author lu ning\n     * @date 2018-09-07\n     * @static\n     * @returns\n     */\n    static isIpx(){\n        let ret = false;\n        let sys_info = wx.getSystemInfoSync();\n        if(sys_info.model.indexOf('iPhone X') >= 0 || (sys_info.system.indexOf('iOS') >= 0 && sys_info.windowHeight / sys_info.windowWidth > 1.9)){\n            return true;\n        }\n        return ret;\n    }\n    /**\n     * @description 根据url刷新sprite\n     * @author lu ning\n     * @date 2018-09-08\n     * @static\n     * @param {cc.Sprite} sprite\n     * @param {String} url\n     */\n    static refreshSpriteByUrl(sprite, url, size){\n        cc.loader.load(url, (err,texture)=>{\n            if(!err){\n                let new_sprite_frame = new cc.SpriteFrame(texture);\n                sprite.spriteFrame = new_sprite_frame;\n                if(size){\n                    sprite.node.setContentSize(size);\n                }\n                console.log(\"刷新CDN图片成功\");\n            }\n        });\n    }\n    /**\n     * @description\n     * @author lu ning\n     * @date 2018-09-17\n     * @static\n     * @param {Function} btn_sure_cb\n     * @param {string} content\n     */\n    static showErrorGfitPop(btn_sure_cb, content){\n        cc.loader.loadRes('prefabs/ado_view_error_gift',function (err, prefab) {\n            if(!err){\n                let size = cc.winSize;\n                var prefabNode = cc.instantiate(prefab);\n                cc.game.addPersistRootNode(prefabNode);\n                prefabNode.position = cc.v2(size.width / 2, size.height / 2);\n                prefabNode.getComponent('ado_view_error_gift').init(btn_sure_cb, content);\n            }\n        });\n    }\n    /**\n     * @description 获取红包,获取本次加红包的信息，\n     *     调用requestAddRedPacket接口后才能真正的加上\n     * @author lu ning\n     * @date 2018-09-18\n     * @static\n     * @param {Object} params\n     * @param {Function} params.success\n     * @param {Function} params.fail\n     */\n    static requestRedPacket(params){\n        console.log('redpacket','requestRedPacket start');\n        try{\n            wx.request({\n                url:`${tywx.SystemInfo.loginUrl}api/huanlejiayi/redenvelop/getinfo`,\n                data:{\n                    userId:tywx.UserInfo.userId,\n                    clientId:tywx.SystemInfo.clientId,\n                    authorCode:tywx.UserInfo.authorCode,\n                    deviceInfo: tywx.SystemInfo.deviceId,\n                    name: tywx.UserInfo.userName,\n                    rand: Math.random() * 1000000\n                },\n                //method:\"POST\",\n                success:(res)=>{\n                    console.log('redpacket','requestRedPacket==success', JSON.stringify(res));\n                    if(res.data && res.data.nextAmount > 0){\n                        let red_packet = {\n                            current : tywx.ado.Utils.formatCashFen2Yuan(res.data.nextAmount),       // 本次获取的金额\n                            max     : tywx.ado.Utils.formatCashFen2Yuan(res.data.totalAmount),      // 总共金额\n                            times   : res.data.needShare ? 3 : 1,   // 1,2 ==> 确定，直接领取，>= 3分享或看视频领取\n                            is_share: res.data.needShare,\n                        };\n                        tywx.ado.RedPacketInfo = res.data;\n                        params.success && params.success(red_packet);\n                        tywx.ado.Utils.uploadErrorMsg('redpacket;requestRedPacket==success;' + JSON.stringify(res));\n                    }\n                    else{\n                        if(res.data && res.data.nextAmount === 0){\n                            tywx.ado.RedPacketInfo = res.data;\n                        }\n                        params.fail && params.fail(-1);\n                        tywx.ado.Utils.uploadErrorMsg('redpacket;requestRedPacket==success---fail;' + JSON.stringify(res));\n                    }  \n                },\n                fail:(res)=>{\n                    params.fail && params.fail(-1);\n                    console.log('redpacket','requestRedPacket==fail', JSON.stringify(res));\n                    tywx.ado.Utils.uploadErrorMsg('redpacket;requestRedPacket==fail;' + JSON.stringify(res));\n                }\n            });\n        }\n        catch(e){\n            params.fail && params.fail(-1);\n            console.log('redpacket','requestRedPacket==error', JSON.stringify(e));\n            tywx.ado.Utils.uploadErrorMsg('redpacket;requestRedPacket==error;' + e.message);\n\n        }\n    }\n    /**\n     * @description 请求加红包\n     * @param {Object} params\n     * @param {Function} params.success\n     * @param {Function} params.fail\n     * @author lu ning\n     * @date 2018-09-18\n     * @static\n     */\n    static requestAddRedPacket(params){\n        console.log('redpacket','requestAddRedPacket start');\n\n        try{\n            wx.request({\n                url:`${tywx.SystemInfo.loginUrl}api/huanlejiayi/redenvelop/add`,\n                data:{\n                    userId:tywx.UserInfo.userId, // tywx.UserInfo.userId\n                    clientId:tywx.SystemInfo.clientId,\n                    authorCode:tywx.UserInfo.authorCode,\n                    deviceInfo: tywx.SystemInfo.deviceId,\n                    name: tywx.UserInfo.userName,\n                    rand: Math.random() * 1000000\n                },\n                //method:\"POST\",\n                success:(res)=>{\n                    // * 加红包成功\n                    console.log('redpacket','requestAddRedPacket==success', JSON.stringify(res));\n                    if(res.data && res.data.addAmount > 0){\n                        let addAmount = tywx.ado.Utils.formatCashFen2Yuan(res.data.addAmount);\n                        tywx.ado.RedPacketInfo.totalAmount += res.data.addAmount;\n                        params.success && params.success(addAmount);\n                    }\n                    else{\n                        tywx.ado.Utils.showWXModal(\n                            '加红包失败',\n                            '提示',\n                            false);\n                        params.fail && params.fail();\n                        tywx.ado.Utils.uploadErrorMsg('redpacket;requestAddRedPacket==success---fail;' + JSON.stringify(res));\n\n                    }\n                    \n                },\n                fail:(res)=>{\n                    // * 加红包失败\n                    console.log('redpacket','requestAddRedPacket==fail', JSON.stringify(res));\n                    tywx.ado.Utils.showWXModal(\n                        '加红包失败',\n                        '提示',\n                        false);\n                    params.fail && params.fail();\n                    tywx.ado.Utils.uploadErrorMsg('redpacket;requestAddRedPacket==fail;' + JSON.stringify(res));\n\n                }\n            });\n        }\n        catch(e){\n            // * 加红包报错\n            console.log('redpacket','requestAddRedPacket==error', JSON.stringify(e));\n            tywx.ado.Utils.showWXModal(\n                '加红包失败',\n                '提示',\n                false);\n            tywx.ado.Utils.uploadErrorMsg('redpacket;requestAddRedPacket==error;' + e.message);\n\n        }\n    }\n    /**\n     * @description 请求提现\n     * @author lu ning\n     * @date 2018-09-18\n     * @static\n     */\n    static requestRedPacket2Cash(){\n        console.log('redpacket','requestRedPacket2Cash start');\n        try{\n            wx.request({\n                url:`${tywx.SystemInfo.loginUrl}api/huanlejiayi/redenvelop/transfer`,\n                data:{\n                    userId:tywx.UserInfo.userId,\n                    clientId:tywx.SystemInfo.clientId,\n                    authorCode:tywx.UserInfo.authorCode,\n                    deviceInfo: tywx.SystemInfo.deviceId,\n                    name: tywx.UserInfo.userName,\n                    rand: Math.random() * 1000000\n                },\n               // method:\"POST\",\n                success:(res)=>{\n                    // * 提现成功\n                    console.log('redpacket','requestRedPacket2Cash==success', JSON.stringify(res));\n                    if(res.data){\n                        tywx.ado.Utils.showWXModal(\n                            tywx.ado.Constants.WXTransferRedPacketError[res.data.code],\n                            '提示',\n                            false);\n                        if(res.data.code !== 0){\n                            tywx.ado.Utils.uploadErrorMsg('redpacket;requestRedPacket2Cash==success--error-0;' + JSON.stringify(res));\n                        }\n                        else{\n                            tywx.ado.RedPacketInfo.totalAmount = 0;\n                            tywx.NotificationCenter.trigger(tywx.ado.Events.ADO_EVENT_RED_PACKET_CHANGE,null);\n                        }\n                    }\n                    else{\n                        // * 未知错误\n                        tywx.ado.Utils.uploadErrorMsg('redpacket;requestRedPacket2Cash==success--error-1;' + JSON.stringify(res));\n                    }\n                },\n                fail:(res)=>{\n                    // * 提现失败\n                    //params.fail && params.fail(0);\n                    tywx.ado.Utils.showWXModal(\n                        '提现请求失败，请稍后再试',\n                        '提示',\n                        false);\n                    console.log('redpacket','requestRedPacket2Cash==fail',JSON.stringify(res));\n                    tywx.ado.Utils.uploadErrorMsg('redpacket;requestRedPacket2Cash==fail;' + JSON.stringify(res));\n\n                }\n            });\n        }\n        catch(e){\n            // * 提现失败\n            //params.fail && params.fail(0);\n            tywx.ado.Utils.showWXModal(\n                '提现请求失败，请稍后再试',\n                '提示',\n                false);\n            console.log('redpacket','requestRedPacket2Cash==fail',JSON.stringify(e));\n            tywx.ado.Utils.uploadErrorMsg('redpacket;requestRedPacket2Cash==error;' + e.message);\n        }\n    }\n    /**\n     * @description 请求每日登陆信息\n     * @author lu ning\n     * @date 2018-09-24\n     * @param {Object} params\n     * @param {Function} params.success\n     * @param {Function} params.fail\n     * @param {Function} params.error\n     * @static\n     */\n    static requestEveryLoginInfo(params){\n        try{\n            wx.request({\n                url:`${tywx.SystemInfo.loginUrl}api/huanlejiayi/everydaylogin/getinfo`,\n                data:{\n                    userId:tywx.UserInfo.userId,\n                    clientId:tywx.SystemInfo.clientId,\n                    authorCode:tywx.UserInfo.authorCode,\n                    deviceInfo: tywx.SystemInfo.deviceId,\n                    name: tywx.UserInfo.userName,\n                    rand: Math.random() * 1000000\n                },\n               // method:\"POST\",\n                success:(res)=>{\n                    // * 获取每日登陆信息成功\n                    console.log('redpacket','requestEveryLoginInfo==success', JSON.stringify(res));\n                    if(res.data){\n                        if(res.data.code !== 0){\n                            tywx.ado.Utils.showWXModal(\n                                tywx.ado.Constants.WXTransferRedPacketError[res.data.code],\n                                '提示',\n                                false);\n                            tywx.ado.Utils.uploadErrorMsg('redpacket;requestEveryLoginInfo==success--error-0;' + JSON.stringify(res));\n                        }\n                        else{\n                            tywx.ado.EveryDataLoginInfo = res.data;\n                            params.success && params.success();\n                        }\n                    }\n                    else{\n                        // * 未知错误\n                        tywx.ado.Utils.uploadErrorMsg('redpacket;requestEveryLoginInfo==success--error-1;' + JSON.stringify(res));\n                    }\n                },\n                fail:(res)=>{\n                    // * 获取每日登陆信息失败\n                    params.fail && params.fail();\n                    console.log('redpacket','requestEveryLoginInfo==fail',JSON.stringify(res));\n                    tywx.ado.Utils.uploadErrorMsg('redpacket;requestEveryLoginInfo==fail;' + JSON.stringify(res));\n\n                }\n            });\n        }\n        catch(e){\n            // * 提现失败\n            console.log('redpacket','requestEveryLoginInfo==error',JSON.stringify(e));\n            tywx.ado.Utils.uploadErrorMsg('redpacket;requestEveryLoginInfo==error;' + e.message);\n        }\n    }\n    /**\n     * @description 请求获得每日登陆奖励\n     * @author lu ning\n     * @date 2018-09-24\n     * @static\n     * @param {Object} params\n     * @param {Function} params.success\n     * @param {Function} params.fail\n     * @param {boolean} params.double\n     */\n    static requestEveryLoginReward(params){\n        try{\n            wx.request({\n                url:`${tywx.SystemInfo.loginUrl}api/huanlejiayi/everydaylogin/reward`,\n                data:{\n                    userId:tywx.UserInfo.userId,\n                    clientId:tywx.SystemInfo.clientId,\n                    authorCode:tywx.UserInfo.authorCode,\n                    deviceInfo: tywx.SystemInfo.deviceId,\n                    name: tywx.UserInfo.userName,\n                    double: params.double ? 1 : 0,\n                    rand: Math.random() * 1000000\n                },\n               // method:\"POST\",\n                success:(res)=>{\n                    // * 请求每日登陆奖励成功\n                    console.log('redpacket','requestEveryLoginReward==success', JSON.stringify(res));\n                    if(res.data){\n                        if(res.data.code !== 0){\n                            tywx.ado.Utils.showWXModal(\n                                tywx.ado.Constants.WXTransferRedPacketError[res.data.code],\n                                '提示',\n                                false);\n                            tywx.ado.Utils.uploadErrorMsg('redpacket;requestEveryLoginReward==success--error-0;' + JSON.stringify(res));\n                        }\n                        else{\n                            //tywx.ado.EveryDataLoginInfo = res.data;\n                            let addAmount = tywx.ado.EveryDataLoginInfo.amounts[tywx.ado.EveryDataLoginInfo.count - 1];\n                            addAmount = params.double ? addAmount * 2 : addAmount;\n                            tywx.ado.RedPacketInfo.totalAmount += addAmount;\n                            tywx.NotificationCenter.trigger(tywx.ado.Events.ADO_EVENT_RED_PACKET_CHANGE,null);\n                            params.success && params.success(addAmount);\n                        }\n                    }\n                    else{\n                        // * 未知错误\n                        tywx.ado.Utils.uploadErrorMsg('redpacket;requestEveryLoginReward==success--error-1;' + JSON.stringify(res));\n                    }\n                },\n                fail:(res)=>{\n                    // * 请求每日登陆奖励失败\n                    params.fail && params.fail();\n                    console.log('redpacket','requestEveryLoginReward==fail',JSON.stringify(res));\n                    tywx.ado.Utils.uploadErrorMsg('redpacket;requestEveryLoginReward==fail;' + JSON.stringify(res));\n\n                }\n            });\n        }\n        catch(e){\n            // * 请求每日登陆奖励失败\n            console.log('redpacket','requestEveryLoginInfo==error',JSON.stringify(e));\n            tywx.ado.Utils.uploadErrorMsg('redpacket;requestEveryLoginInfo==error;' + e.message);\n        }\n    }\n    /**\n     * @description 上报邀请信息\n     * @author lu ning\n     * @date 2018-09-26\n     * @param {Number} inviteId\n     * @static\n     */\n    static requestInviteLogin(inviteId){\n        try{\n            wx.request({\n                url:`${tywx.SystemInfo.loginUrl}api/huanlejiayi/invite/login`,\n                data:{\n                    userId:tywx.UserInfo.userId,\n                    clientId:tywx.SystemInfo.clientId,\n                    authorCode:tywx.UserInfo.authorCode,\n                    deviceInfo: tywx.SystemInfo.deviceId,\n                    name: tywx.UserInfo.userName,\n                    rand: Math.random() * 1000000,\n                    inviteId: inviteId\n                },\n               // method:\"POST\",\n                success:(res)=>{\n                    // * 上报邀请信息\n                    console.log('invite','requestInviteLogin==success', JSON.stringify(res));\n                    if(res.data){\n                        if(res.data.code !== 0){\n                            // tywx.ado.Utils.showWXModal(\n                            //     tywx.ado.Constants.WXTransferRedPacketError[res.data.code],\n                            //     '提示',\n                            //     false);\n                            tywx.ado.Utils.uploadErrorMsg('invite;requestInviteLogin==success--error-0;' + JSON.stringify(res));\n                        }\n                        else{\n                            console.log('invite requestInviteLogin success');\n                        }\n                    }\n                    else{\n                        // * 未知错误\n                        tywx.ado.Utils.uploadErrorMsg('invite;requestInviteLogin==success--error-1;' + JSON.stringify(res));\n                    }\n                },\n                fail:(res)=>{\n                    // * 请求每日登陆奖励失败\n                    console.log('invite','requestInviteLogin==fail',JSON.stringify(res));\n                    tywx.ado.Utils.uploadErrorMsg('invite;requestInviteLogin==fail;' + JSON.stringify(res));\n\n                }\n            });\n        }\n        catch(e){\n            // * 请求每日登陆奖励失败\n            console.log('invite','requestInviteLogin==error',JSON.stringify(e));\n            tywx.ado.Utils.uploadErrorMsg('invite;requestInviteLogin==error;' + e.message);\n        }\n    }\n    /**\n     * @description 请求邀请信息\n     * @author lu ning\n     * @date 2018-09-26\n     * @static\n     */\n    static requestInviteGetInfo(params){\n        try{\n            wx.request({\n                url:`${tywx.SystemInfo.loginUrl}api/huanlejiayi/invite/getinfo`,\n                data:{\n                    userId:tywx.UserInfo.userId,\n                    clientId:tywx.SystemInfo.clientId,\n                    authorCode:tywx.UserInfo.authorCode,\n                    deviceInfo: tywx.SystemInfo.deviceId,\n                    name: tywx.UserInfo.userName,\n                    rand: Math.random() * 1000000,\n                },\n               // method:\"POST\",\n                success:(res)=>{\n                    // * 上报邀请信息\n                    console.log('invite','requestInviteGetInfo==success', JSON.stringify(res));\n                    if(res.data){\n                        if(res.data.code !== 0){\n                            tywx.ado.Utils.showWXModal(\n                                tywx.ado.Constants.WXTransferRedPacketError[res.data.code],\n                                '提示',\n                                false);\n                            tywx.ado.Utils.uploadErrorMsg('invite;requestInviteGetInfo==success--error-0;' + JSON.stringify(res));\n                        }\n                        else{\n                            console.log('invite requestInviteGetInfo success');\n                            tywx.ado.InviteInfo = res.data;\n                            params.success && params.success();\n                        }\n                    }\n                    else{\n                        // * 未知错误\n                        tywx.ado.Utils.uploadErrorMsg('invite;requestInviteGetInfo==success--error-1;' + JSON.stringify(res));\n                    }\n                },\n                fail:(res)=>{\n                    // * 请求每日登陆奖励失败\n                    console.log('invite','requestInviteGetInfo==fail',JSON.stringify(res));\n                    tywx.ado.Utils.uploadErrorMsg('invite;requestInviteGetInfo==fail;' + JSON.stringify(res));\n\n                }\n            });\n        }\n        catch(e){\n            // * 请求每日登陆奖励失败\n            console.log('invite','requestInviteGetInfo==error',JSON.stringify(e));\n            tywx.ado.Utils.uploadErrorMsg('invite;requestInviteGetInfo==error;' + e.message);\n        }\n    }\n    /**\n     * @description 请求邀请奖励\n     * @author lu ning\n     * @date 2018-09-26\n     * @static\n     */\n    static requestInviteReward(){\n        try{\n            wx.request({\n                url:`${tywx.SystemInfo.loginUrl}api/huanlejiayi/invite/reward`,\n                data:{\n                    userId:tywx.UserInfo.userId,\n                    clientId:tywx.SystemInfo.clientId,\n                    authorCode:tywx.UserInfo.authorCode,\n                    deviceInfo: tywx.SystemInfo.deviceId,\n                    name: tywx.UserInfo.userName,\n                    rand: Math.random() * 1000000,\n                },\n               // method:\"POST\",\n                success:(res)=>{\n                    // * 上报邀请信息\n                    console.log('invite','requestInviteReward==success', JSON.stringify(res));\n                    if(res.data){\n                        if(res.data.code !== 0){\n                            tywx.ado.Utils.showWXModal(\n                                tywx.ado.Constants.WXTransferRedPacketError[res.data.code],\n                                '提示',\n                                false);\n                            tywx.ado.Utils.uploadErrorMsg('invite;requestInviteReward==success--error-0;' + JSON.stringify(res));\n                        }\n                        else{\n                            console.log('invite requestInviteReward success');\n                            tywx.ado.Utils.InviteInfo.reward = true;\n                            tywx.ado.hpvalue = 6;\n                        }\n                    }\n                    else{\n                        // * 未知错误\n                        tywx.ado.Utils.uploadErrorMsg('invite;requestInviteReward==success--error-1;' + JSON.stringify(res));\n                    }\n                },\n                fail:(res)=>{\n                    // * 请求每日登陆奖励失败\n                    console.log('invite','requestInviteReward==fail',JSON.stringify(res));\n                    tywx.ado.Utils.uploadErrorMsg('invite;requestInviteReward==fail;' + JSON.stringify(res));\n\n                }\n            });\n        }\n        catch(e){\n            // * 请求每日登陆奖励失败\n            console.log('invite','requestInviteReward==error',JSON.stringify(e));\n            tywx.ado.Utils.uploadErrorMsg('invite;requestInviteReward==error;' + e.message);\n        }\n    }\n\n    /**\n     * @description 现金转换==>分 to 元\n     * @author lu ning\n     * @date 2018-09-18\n     * @static\n     * @param {Number} cash 分为单位\n     * @returns {Number}\n     */\n    static formatCashFen2Yuan(cash){\n        let ret = 0;\n        ret = cash / 100;\n        return ret;\n    }\n    /**\n     * @description 显示提现弹窗\n     * @author lu ning\n     * @date 2018-09-19\n     * @static\n     * @param {string} [current_cash=null]\n     */\n    static showRedPacketTransferPop(current_cash = null){\n        cc.loader.loadRes('prefabs/red_packet_tansfer',(err,prefab)=>{\n            if(!err){\n                let parent = tywx.ado.Utils.getPopRoot();\n                let pop = cc.instantiate(prefab);\n                pop.parent = parent;\n                pop.getComponent('red_packet_transfer').init(current_cash);\n            }\n        });\n    }\n    /**\n     * @description 获取弹窗根节点\n     * @author lu ning\n     * @date 2018-09-19\n     * @static\n     * @returns\n     */\n    static getPopRoot(){\n        let scene = cc.director.getScene();\n        let pop_root = scene.getChildByName('Canvas').getChildByName('pop');\n        return pop_root;\n    }\n    /**\n     * @description 简单的贝塞尔曲线\n     * @author lu ning\n     * @date 2018-09-19\n     * @static\n     * @param {cc.Node} node\n     * @param {cc.Vec2} end\n     * @param {Function} end_callback\n     */\n    static simpleBezierAction(node, end, end_callback){\n        //let sp        = node.position;\n        //let ep        = end;\n        // let dist      = Math.sqrt((sp.x - ep.x) * (sp.x - ep.x) + (sp.y - ep.y) * (sp.y - ep.y));//cc.pDistance(sp,ep);\n        // //cc.pSub();\n        // let normalPos = eq.sub(sp).normalizeSelf();//cc.pSub(ep,sp).normalizeSelf();\n        // let cfg = [cc.p(sp.x + 30, sp.y + normalPos.y * dist / 2),\n        //            cc.p(sp.x + normalPos.x * dist / 4 * 3, sp.y + normalPos.y * dist / 4 * 3),\n        //            ep];\n        if(node){\n            node.runAction(\n                cc.sequence(\n                    cc.moveTo(0.8,end).easing(cc.easeSineIn()),\n                    cc.callFunc(()=>{\n                        end_callback && end_callback();\n                    })\n                )\n            );\n        }        \n    }\n    /**\n     * @description 是否是平板\n     * @author lu ning\n     * @date 2018-09-20\n     * @static\n     */\n    static isPad(){\n        let ret = false;\n        let sys_info = wx.getSystemInfoSync();\n        if(sys_info.windowHeight / sys_info.windowWidth < 1.777){\n            return true;\n        }\n        return ret;\n    }\n    /**\n     * @description 通过appid获取游戏交叉导流信息\n     * @author lu ning\n     * @date 2018-09-29\n     * @static\n     * @param {String} wx_app_id\n     */\n    static getCrossAdConfigByAppId(wx_app_id){\n        let ret = null;\n        let list = tywx.AdManager.rawAdInfoList;\n        for(let i = 0; i < list.length; ++i){\n            let tmp_c = list[i];\n            if(tmp_c.toappid === wx_app_id) {\n                ret = tmp_c;\n                break;\n            }\n        }\n        return ret;\n    }\n    /**\n     * @description 游戏跳转\n     * @author lu ning\n     * @date 2018-09-29\n     * @static\n     * @param {*} config\n     * @returns\n     */\n    static jump2MiniProgramByConfig(config){\n        try {\n\n           // this.genRandomSecondAdInfo();\n\n            //先尝试直接跳转\n            var skip_type =  config.icon_skip_type;\n            var toappid = config.toappid;\n            var togame = config.togame;\n            var topath = config.path;\n            var second_toappid = config.second_toappid;\n\n            console.log('topath ====>' + topath);\n\n            var that = this;\n\n            var icon_id = config.icon_id;\n            var config_id = '0';\n            var webpage_url = '';\n            var webpage_id = '0';\n\n            var bi_paramlist = [icon_id, config_id, webpage_url, toappid, togame, webpage_id, that.adType];\n\n            console.log('bi_paramlist ====> ' + JSON.stringify(bi_paramlist));\n\n            tywx.BiLog.clickStat(tywx.clickStatEventType.clickStatEventTypeClickAdBtn, bi_paramlist);\n\n            //! 先尝试直接跳转\n            if(wx && wx.navigateToMiniProgram){\n                \n                if(1 === skip_type){\n\n                    wx.navigateToMiniProgram({\n                        appId: toappid,\n                        path : topath ? topath : '?from=adcross',\n                        envVersion: 'release',\n                        extraData: {\n                            from: topath ? topath : '?from=adcross',\n                        },\n                        success: function(res) {\n\n                            tywx.BiLog.clickStat(tywx.clickStatEventType.clickStatEventTypeClickDirectToMiniGameSuccess, bi_paramlist);\n\n                            console.log('wx.navigateToMiniProgram success');\n                            console.log(res);\n                        },\n                        fail: function (res) {\n                            tywx.BiLog.clickStat(tywx.clickStatEventType.clickStatEventTypeClickDirectToMiniGameFail, bi_paramlist);\n                            console.log('wx.navigateToMiniProgram fail');\n                            console.log(res);\n                        },\n                        complete: function (res) {\n                            console.log('navigateToMiniProgram ==== complete');\n                            //that.resetBtnIcon();\n                        }\n                    });\n\n                    return;\n                }else if(2 === skip_type){\n                    wx.navigateToMiniProgram({\n                        appId: second_toappid,\n                        path : topath ? topath : '?from=adcross',\n                        envVersion: 'release',\n                        extraData: {\n                            from: topath ? topath : '?from=adcross',\n                        },\n                        success: function(res) {\n                            tywx.BiLog.clickStat(tywx.clickStatEventType.clickStatEventTypeClickDirectToMiniGameSuccess, bi_paramlist);\n                            console.log('wx.navigateToMiniProgram success');\n                            console.log(res);\n                        },\n                        fail: function (res) {\n                            tywx.BiLog.clickStat(tywx.clickStatEventType.clickStatEventTypeClickDirectToMiniGameFail, bi_paramlist);\n                            console.log('wx.navigateToMiniProgram fail');\n                            console.log(res);\n                        },\n                        complete: function (res) {\n                            //that.resetBtnIcon();\n                            console.log('navigateToMiniProgram ==== complete');\n                        }\n                    });\n\n                }else{\n                    console.error('Unsupported skip type! Please Check!');\n                }\n\n                return;\n            }\n        } catch(err) {\n            console.log(\"error:\", \"tywx.AdManager.onClickAdIconBtn——\" + JSON.stringify(err));\n        }\n    }\n    /**\n     * @description 是否是敏感ip\n     * @author lu ning\n     * @date 2018-09-30\n     * @static\n     * @param {Object} ip_info\n     * @returns\n     */\n    static isMinGanIp(ip_info){\n        let ret = false;\n        let MinGanIpInfo = tywx.ado.Configs.MinGanIp || tywx.ado.Constants.MinGanIp;\n        if(ip_info.loc && ip_info.loc.length > 0){\n            for(let i = 0; i < MinGanIpInfo.length; ++i){\n                let info = MinGanIpInfo[i];\n                if(ip_info.loc[1] === info[0]){\n                    if(info[1].length === 0){\n                        // * 没有指定城市，只指定了省份，那么就是屏蔽整个省\n                        ret = true;\n                    }\n                    else{\n                        let lock_city = info[1];\n                        if(lock_city.indexOf(ip_info.loc[2]) >= 0){\n                            ret = true;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        console.log('MINGAN_IP...'+ret);\n        return ret;\n    }\n};\n\nmodule.exports = Utils;\n"]}