{"version":3,"sources":["boot.js"],"names":["cc","log","tywx","ado","Configs","require","Utils","AudioManager","Constants","Events","isFirstLogin","hpvalue","boot","shut","inGame","game","outGame","RedPacketInfo","nextAmount","totalAmount","needShare","EveryDataLoginInfo","count","amounts","rewad","InviteInfo","code","reward","invite_users","saveProgress","gamestate","GameCenterConfig","gameState","gameover","mask","cur_mask","getAllmask","cur_gz","getAllgz","forEach","idx","element","x","y","num","data","life","point","score","recovernumber","recoverNumber","useitemnumber","useItemNumber","curmaxNumber","saveItem","JSON","stringify","storeScore","logWithColor","loadProgress","progress","loadItem","parse","some","e","resetProgerss","delItem","info","color","console","onShow","loadAudioRes","playMusic","MUSICS","BG_MUSIC","AdManager","init","onHide"],"mappings":"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","file":"boot.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.log('AddOne boot start');\ntywx.ado = tywx.ado || {};\n\ntywx.ado.Configs      = require('./models/AddOneConfig.js');  // * 配置文件\ntywx.ado.Utils        = require('./models/Utils.js');         // * 工具类\ntywx.ado.AudioManager = require('./models/AudioManager.js');  // * 声音管理器\ntywx.ado.Constants    = require('./models/Constants.js');     // * 常量\ntywx.ado.Events       = require('./models/Events.js');        // * 事件\n\ntywx.ado.isFirstLogin = true; // * 是否是第一次进入菜单\n\n// 玩家当前的最大血量\ntywx.ado.hpvalue = 5;\n\ntywx.ado.boot = ()=>{\n    cc.log('tywx.ado.boot');\n};\ntywx.ado.shut = ()=>{\n    cc.log('tywx.ado.shut');\n};\n\ntywx.ado.inGame = game=>{\n    tywx.ado.game = game;\n};\n\ntywx.ado.outGame = ()=>{\n    tywx.ado.game = null;\n};\n\n// * 红包信息初始化\ntywx.ado.RedPacketInfo = {\n    nextAmount: 0,\n    totalAmount: 0,\n    needShare: false\n};\n// * 每日登陆信息\ntywx.ado.EveryDataLoginInfo = {\n    totalAmount: 0,\n    count: 0,\n    amounts: [0,0,0,0,0,0,0],\n    rewad: false\n};\n// * 邀请请好友信息\ntywx.ado.InviteInfo = {\n    code:0,\n    reward: false,\n    invite_users:[]\n};\n// * 保存进度\ntywx.ado.saveProgress = ()=>{\n    if(tywx.ado.game && tywx.ado.game.gamestate !== tywx.ado.Constants.GameCenterConfig.gameState.gameover){\n        let mask     = [];\n        let cur_mask = tywx.ado.game.getAllmask();\n        let cur_gz   = tywx.ado.game.getAllgz();\n        cur_mask.forEach(element => {\n            let idx = element.x + element.y * 5;\n            mask[idx] = cur_gz[idx].num;\n        });\n        let data = {\n            life : tywx.ado.game.point || 0,\n            score: tywx.ado.game.score || 0,\n            recovernumber: tywx.ado.game.recoverNumber || 0,\n            useitemnumber: tywx.ado.game.useItemNumber || 0,\n            mask : mask,\n            curmaxNumber:tywx.ado.game.curmaxNumber || 5,\n        };\n        tywx.ado.Utils.saveItem('ADO_PROGRESS',JSON.stringify(data));\n        tywx.ado.game.storeScore();\n        tywx.ado.logWithColor(JSON.stringify(data));\n    }\n};\n// * 读取进度\ntywx.ado.loadProgress = ()=>{\n    let progress = tywx.ado.Utils.loadItem('ADO_PROGRESS',-1);\n    tywx.ado.logWithColor(JSON.parse(progress));\n    if(progress !== -1) {\n        progress = JSON.parse(progress);\n        // * 数据有0，JJ了\n        if(progress.mask.some(e=>e === 0)){\n            progress = -1;\n        }\n    }\n    return progress;\n};\n// * 重置进度\ntywx.ado.resetProgerss = ()=>{\n    tywx.ado.Utils.delItem('ADO_PROGRESS');\n};\n\n// ! 输出带色日志\ntywx.ado.logWithColor = (info, color = 'color:#FF00FF')=>{\n    console.log('%c' + info,color);\n};\n\n//! 插件onShow, 与插件相关的处理尽量放在这里\ntywx.ado.onShow = result=>{\n    tywx.ado.AudioManager.loadAudioRes();\n    console.log(\"播放背景音乐配置 \" + JSON.stringify(tywx.ado.Configs));\n    tywx.ado.AudioManager.playMusic(tywx.ado.Configs.MUSICS.BG_MUSIC);\n    tywx.ado.logWithColor('tywx.ado.onShow');\n    tywx.AdManager.init();\n};\n//! 插件onHide, 与插件相关的处理尽量放在这里\ntywx.ado.onHide = ()=>{\n    tywx.ado.saveProgress();\n};\n\ncc.log('AddOne boot end');\n"]}