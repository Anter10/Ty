{"version":3,"sources":["Effect.js"],"names":["config","require","Effect","cc","Class","name","extends","Component","properties","effectNode","default","type","Node","efts","Prefab","anims","palyAni","index","aniName","node","pos","repeatCount","model","length","instantiate","animation","getComponent","Animation","animationState","play","wrapModel","WrapMode","Normal","Loop","nodePools","put","tywx","LOGE","onLoad","NodePool","remove","destroy","ctor","num","update","dt","module","exports"],"mappings":";;;;;;AAAA;;;;;;AAMA;AACA,IAAIA,SAASC,QAAQ,cAAR,CAAb;;AAEA,IAAIC,SAASC,GAAGC,KAAH,CAAS;AACrBC,UAAK,QADgB;AAElBC,aAASH,GAAGI,SAFM;AAGlBC,gBAAY;AACRC,oBAAY;AACRC,qBAAQ,IADA;AAERC,kBAAMR,GAAGS;AAFD,SADJ;;AAMR;AACAC,cAAK;AACDH,qBAAQ,EADP;AAEDC,kBAAKR,GAAGW;AAFP,SAPG;AAWR;AACA;AACA;AACA;AACAC,eAAM;AACN;;AAhBQ,KAHM;;AAuBlB;AACAC,WAxBkB,mBAwBVC,KAxBU,EAwBJC,OAxBI,EAwBIC,IAxBJ,EAwBSC,GAxBT,EAwBaC,WAxBb,EAwB0BC,KAxB1B,EAwBgC;AAC9C,YAAGL,SAAS,CAAT,IAAcA,QAAQ,KAAKJ,IAAL,CAAUU,MAAnC,EAA0C;AACtC,gBAAId,aAAaN,GAAGqB,WAAH,CAAe,KAAKX,IAAL,CAAUI,KAAV,CAAf,CAAjB;AACA,gBAAIQ,YAAYhB,WAAWiB,YAAX,CAAwBvB,GAAGwB,SAA3B,CAAhB;AACA,gBAAIC,iBAAiBH,UAAUI,IAAV,CAAexB,IAAf,CAArB;AACAuB,2BAAeE,SAAf,GAA2BR,SAAS,IAAT,GAAenB,GAAG4B,QAAH,CAAYC,MAA3B,GAAkC7B,GAAG4B,QAAH,CAAYE,IAAzE;AACAL,2BAAeP,WAAf,GAA6BA,eAAe,IAAf,GAAqBA,WAArB,GAAmC,CAAhE;AACA,iBAAKa,SAAL,CAAeC,GAAf,CAAmB1B,UAAnB;AACH,SAPD,MAOK;AACD2B,iBAAKC,IAAL,CAAU,oBAAV;AACH;AACJ,KAnCiB;;;AAsClB;;;;;;;;;;;AAWAC,YAAQ,kBAAY;AAChB,aAAKJ,SAAL,GAAiB,IAAI/B,GAAGoC,QAAP,EAAjB;AAEH,KApDiB;;AAsDlB;;;;;;;;;;;AAWAC,YAAO,kBAAU;AACd,aAAKrB,IAAL,CAAUsB,OAAV;AACF,KAnEiB;;AAsElB;;;;;;;;;;;AAWAC,UAAM,cAASC,GAAT,EAAa;AACd3C,iBAASoC,KAAKpC,MAAL,IAAe,IAAf,GAAoBoC,KAAKpC,MAAzB,GAAkCA,MAA3C;AACJ,KAnFiB;;AAsFlB;;;;;;;;;;;AAWA4C,YAAQ,gBAAUC,EAAV,EAAc,CAErB;;AAnGiB,CAAT,CAAb;;AAuGAC,OAAOC,OAAP,GAAiB7C,MAAjB","file":"Effect.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["/*\n    游戏的相关特效\n    游戏的操作的主要逻辑在这个module里面编写\n    created by gyc on 2018-08-01.\n*/\n\n// 倒入游戏涉及到的module\nvar config = require(\"AddOneConfig\")\n \nvar Effect = cc.Class({\n\tname:\"effect\",\n    extends: cc.Component,\n    properties: {\n        effectNode: {\n            default:null,\n            type: cc.Node\n        },\n        \n        // 管理的所有特效\n        efts:{\n            default:[],\n            type:cc.Prefab,\n        },\n        // 管理的动画名称列表\n        // anims:[\n        //    \"encourage\", // good动画名称\n        // ],\n        anims:[],\n        //nodePool:null,\n        \n    },\n   \n    // 播放给定的动画\n    palyAni(index,aniName,node,pos,repeatCount, model){\n        if(index >= 0 && index < this.efts.length){\n            var effectNode = cc.instantiate(this.efts[index]);\n            var animation = effectNode.getComponent(cc.Animation);\n            var animationState = animation.play(name);\n            animationState.wrapModel = model != null? cc.WrapMode.Normal:cc.WrapMode.Loop;\n            animationState.repeatCount = repeatCount != null? repeatCount : 1;\n            this.nodePools.put(effectNode);\n        }else{\n            tywx.LOGE(\"当前播放的下标动画不存在，请稍后再试\")\n        }\n    },\n\n\n    /*\n        调用: 节点加载完成后的回调\n        功能: 节点加载完成后的一些UI逻辑处理\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n    onLoad: function () {\n        this.nodePools = new cc.NodePool();\n        \n    },\n    \n    /*\n        调用: 不需要控件的时候调用\n        功能: 从内存中删除node\n        参数: [\n           无\n        ]\n        返回值:[\n           无\n        ]\n        思路: 游戏逻辑需要\n    */\n    remove:function(){\n       this.node.destroy()\n    },\n\n    \n    /*\n        调用: 系统new 的时候调用。\n        功能: 该类的构造函数 可用于自身变量的初始化\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n    ctor: function(num){\n         config = tywx.config != null?tywx.config : config;\n    },\n\n\n    /*\n        调用: 每一帧都调用的逻辑。\n        功能: 渲染当前的场景树\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n    update: function (dt) {\n         \n    },\n\n});\n\nmodule.exports = Effect;\n\n\n\n\n\n\n"]}