{"version":3,"sources":["Audio.js"],"names":["curAudioState","cc","Class","extends","Component","properties","audioSource","type","AudioSource","default","audioRes","Sprite","onLoad","audioEngine","setMaxWebAudioSize","controlAudio","pause","tywx","ado","AudioManager","stopMusic","play","playMusic","Configs","MUSICS","BG_MUSIC","changeButtonTexture","stop","resume","LOGE","node","active"],"mappings":";;;;;;AAAA;;;;;AAKA,IAAIA,gBAAgB,CAApB,EAAuB;;AAEvBC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,qBAAa;AACTC,kBAAMN,GAAGO,WADA;AAETC,qBAAS;AAFA,SADL;AAKRC,kBAAS;AACLD,qBAAQ,EADH;AAELF,kBAAKN,GAAGU;AAFH;AALD,KAFP;;AAaL;;;;;;;;;;;AAWAC,YAAQ,kBAAY;AACfX,WAAGY,WAAH,CAAeC,kBAAf,CAAkC,OAAK,EAAvC;AACJ,KA1BI;;AA4BN;;;;;;;;;;;AAWCC,kBAAc,wBAAU;AACrB,YAAGf,iBAAiB,CAApB,EAAsB;AACnB,iBAAKgB,KAAL;AACA;AACAC,iBAAKC,GAAL,CAASC,YAAT,CAAsBC,SAAtB;AACApB,4BAAgB,CAAhB;AACF,SALD,MAKM,IAAGA,iBAAiB,CAApB,EAAsB;AACzB,iBAAKqB,IAAL;AACA;AACAJ,iBAAKC,GAAL,CAASC,YAAT,CAAsBG,SAAtB,CAAgCL,KAAKC,GAAL,CAASK,OAAT,CAAiBC,MAAjB,CAAwBC,QAAxD;AACAzB,4BAAgB,CAAhB;AACF;AACD;AACA,aAAK0B,mBAAL;AACF,KArDI;;AAuDL;;;;;;;;;;;AAWAL,UAAM,gBAAY;AACd,aAAKf,WAAL,CAAiBe,IAAjB;AACH,KApEI;;AAuEL;;;;;;;;;;;AAWAL,WAAO,iBAAY;AACf,aAAKV,WAAL,CAAiBU,KAAjB;AACH,KApFI;;AAsFL;;;;;;;;;;;AAWAW,UAAM,gBAAY;AACd,aAAKrB,WAAL,CAAiBqB,IAAjB;AACH,KAnGI;;AAqGL;;;;;;;;;;;AAWAC,YAAQ,kBAAY;AAChB,aAAKtB,WAAL,CAAiBsB,MAAjB;AACH,KAlHI;;AAqHL;;;;;;;;;;;AAWAF,yBAAqB,+BAAU;AAC3BT,aAAKY,IAAL,CAAU,KAAKnB,QAAL,CAAc,CAAd,CAAV;AACA,YAAGV,iBAAiB,CAApB,EAAsB;AACnB,iBAAKU,QAAL,CAAc,CAAd,EAAiBoB,IAAjB,CAAsBC,MAAtB,GAA+B,KAA/B;AACA,iBAAKrB,QAAL,CAAc,CAAd,EAAiBoB,IAAjB,CAAsBC,MAAtB,GAA+B,IAA/B;AACF,SAHD,MAGM,IAAG/B,iBAAiB,CAApB,EAAsB;AACzB,iBAAKU,QAAL,CAAc,CAAd,EAAiBoB,IAAjB,CAAsBC,MAAtB,GAA+B,IAA/B;AACA,iBAAKrB,QAAL,CAAc,CAAd,EAAiBoB,IAAjB,CAAsBC,MAAtB,GAA+B,KAA/B;AACF,SAHK,MAGD;AACDd,iBAAKY,IAAL,CAAU,MAAV;AACH;AACJ;;AA3II,CAAT","file":"Audio.js","sourceRoot":"../../../../../assets/Script/models","sourcesContent":["/*\n   声音播放控件控制按钮\n   声音文件在不同的预设里面设置\n   created by gyc on 2018-08-02.\n*/\nvar curAudioState = 1; // 1: 默认状态可以播放音乐\n\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        audioSource: {\n            type: cc.AudioSource,\n            default: null\n        },\n        audioRes:{\n            default:[],\n            type:cc.Sprite,\n        }\n    },\n\n    /*\n        调用: 节点加载完成后的回调\n        功能: 节点加载完成后的一些UI逻辑处理\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 系统自带\n    */\n    onLoad: function () {\n         cc.audioEngine.setMaxWebAudioSize(1024*10);\n    },\n\n   /*\n        调用: 点击按钮的时候调用\n        功能: 控制声音的开关和显示\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    controlAudio: function(){\n       if(curAudioState == 1){\n          this.pause();\n          //tywx.stopMusic();\n          tywx.ado.AudioManager.stopMusic();\n          curAudioState = 0;\n       }else if(curAudioState == 0){\n          this.play();\n          //tywx.playMusic();\n          tywx.ado.AudioManager.playMusic(tywx.ado.Configs.MUSICS.BG_MUSIC);\n          curAudioState = 1;\n       }\n       // 控制显示\n       this.changeButtonTexture();\n    },\n  \n    /*\n        调用: 由控制方法调用\n        功能: 播放声音\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    play: function () {\n        this.audioSource.play();\n    },\n    \n\n    /*\n        调用: 由控制方法调用\n        功能: 暂停声音\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    pause: function () {\n        this.audioSource.pause();\n    },\n    \n    /*\n        调用: 由控制方法调用\n        功能: 停止当前播放声音\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    stop: function () {\n        this.audioSource.stop();\n    },\n    \n    /*\n        调用: 由控制方法调用\n        功能: 恢复声音\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    resume: function () {\n        this.audioSource.resume();\n    },\n\n\n    /*\n        调用: 点击按钮的时候调用\n        功能: 更换Button的显示纹理\n        参数: [\n            无\n        ]\n        返回值:[\n            无\n        ]\n        思路: 逻辑需要\n    */\n    changeButtonTexture: function(){\n        tywx.LOGE(this.audioRes[0]);\n        if(curAudioState == 0){\n           this.audioRes[0].node.active = false;\n           this.audioRes[1].node.active = true;\n        }else if(curAudioState == 1){\n           this.audioRes[0].node.active = true;\n           this.audioRes[1].node.active = false;\n        }else{\n            tywx.LOGE(\"状态不对\");\n        }\n    }\n    \n});\n\n\n\n\n\n"]}