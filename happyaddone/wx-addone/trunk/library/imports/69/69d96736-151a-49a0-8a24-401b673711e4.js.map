{"version":3,"sources":["../../../../../assets/Script/CommonFrame/assets/Script/CommonFrame/Util.js"],"names":["tywx","Util","isSceneQrCode","scene","qrCodeList","indexOf","createUUID","s","hexDigits","i","substr","Math","floor","random","uuid","join","checkLocalUUID","local_uuid","getItemFromLocalStorage","getLocalUUID","setItemToLocalStorage","keyStr","defaultValue","wx","getStorageSync","value","tmp","cc","sys","localStorage","getItem","e","ValueStr","setStorage","key","data","setItem","LOGE"],"mappings":";;;;;;AAAA;;;;AAKAA,KAAKC,IAAL,GAAY;;AAERC,mBAAc,uBAAUC,KAAV,EAAiB;AAC3B,YAAIC,aAAa,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAAjB,CAD2B,CACU;AACrC,eAAOA,WAAWC,OAAX,CAAmBF,KAAnB,IAA4B,CAAC,CAApC;AACH,KALO;;AAORG,gBAAY,sBAAW;AACnB,YAAIC,IAAI,EAAR;AACA,YAAIC,YAAY,kBAAhB;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AACzBF,cAAEE,CAAF,IAAOD,UAAUE,MAAV,CAAiBC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,IAA3B,CAAjB,EAAmD,CAAnD,CAAP;AACH;AACDN,UAAE,EAAF,IAAQ,GAAR,CANmB,CAML;AACdA,UAAE,EAAF,IAAQC,UAAUE,MAAV,CAAkBH,EAAE,EAAF,IAAQ,GAAT,GAAgB,GAAjC,EAAsC,CAAtC,CAAR,CAPmB,CAOgC;AACnDA,UAAE,CAAF,IAAOA,EAAE,EAAF,IAAQA,EAAE,EAAF,IAAQA,EAAE,EAAF,IAAQ,EAA/B;;AAEA,YAAIO,OAAOP,EAAEQ,IAAF,CAAO,EAAP,CAAX;AACA,eAAOD,IAAP;AACH,KAnBO;;AAqBRE,oBAAgB,0BAAW;AACvB,YAAIC,aAAajB,KAAKC,IAAL,CAAUiB,uBAAV,CAAkC,gBAAlC,EAAoD,EAApD,CAAjB;AACA,eAAOD,cAAc,EAArB;AACH,KAxBO;;AA0BRE,kBAAc,wBAAW;AACrB,YAAIF,aAAajB,KAAKC,IAAL,CAAUiB,uBAAV,CAAkC,gBAAlC,EAAoD,EAApD,CAAjB;AACA,YAAI,CAACD,UAAL,EAAgB;AACZA,yBAAajB,KAAKC,IAAL,CAAUK,UAAV,EAAb;AACAN,iBAAKC,IAAL,CAAUmB,qBAAV,CAAgC,gBAAhC,EAAkDH,UAAlD;AACH;AACD,eAAOA,UAAP;AACH,KAjCO;;AAmCRC,6BAAyB,iCAAUG,MAAV,EAAkBC,YAAlB,EAAgC;AACrD,YAAI;AACA,gBAAGC,MAAMA,GAAGC,cAAZ,EAA4B;AACxB,oBAAIC,QAAQF,GAAGC,cAAH,CAAkBH,MAAlB,CAAZ;AACA,oBAAII,KAAJ,EAAW;AACP,2BAAOA,KAAP;AACH;AACJ,aALD,MAKO;AACH,oBAAIC,MAAMC,GAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BT,MAA5B,CAAV;AACA,oBAAIK,GAAJ,EAAS;AACL,2BAAOA,GAAP;AACH;AACJ;AACD,mBAAOJ,YAAP;AACH,SAbD,CAaE,OAAOS,CAAP,EAAU;AACR,mBAAOT,YAAP;AACH;AACJ,KApDO;;AAsDRF,2BAAuB,+BAAUC,MAAV,EAAkBW,QAAlB,EAA4B;AAC/C,YAAI;AACA,gBAAGT,MAAMA,GAAGC,cAAZ,EAA4B;AACxBD,mBAAGU,UAAH,CAAc;AACVC,yBAAKb,MADK;AAEVc,0BAAMH,WAAW;AAFP,iBAAd;AAIH,aALD,MAKO;AACHL,mBAAGC,GAAH,CAAOC,YAAP,CAAoBO,OAApB,CAA4Bf,MAA5B,EAAoCW,WAAS,EAA7C;AACH;AACJ,SATD,CASE,OAAOD,CAAP,EAAU;AACR/B,iBAAKqC,IAAL,CAAU,WAAV,EAAuB,4BAAvB;AACH;AACJ;AAnEO,CAAZ","file":"Util.js","sourceRoot":"../../../../../assets/Script/CommonFrame","sourcesContent":["/**\n * Created by xiaochuntian on 2018/5/2.\n */\n\n\ntywx.Util = {\n\n    isSceneQrCode:function (scene) {\n        var qrCodeList = [1047, 1048, 1049]; //扫描小程序码,选取小程序码,识别小程序码\n        return qrCodeList.indexOf(scene) > -1;\n    },\n\n    createUUID: function() {\n        var s = [];\n        var hexDigits = \"0123456789abcdef\";\n        for (var i = 0; i < 36; i++) {\n            s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n        }\n        s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\n        s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n        s[8] = s[13] = s[18] = s[23] = \"\";\n\n        var uuid = s.join(\"\");\n        return uuid;\n    },\n\n    checkLocalUUID: function() {\n        var local_uuid = tywx.Util.getItemFromLocalStorage(\"LOCAL_UUID_KEY\", \"\");\n        return local_uuid != \"\";\n    },\n\n    getLocalUUID: function() {\n        var local_uuid = tywx.Util.getItemFromLocalStorage(\"LOCAL_UUID_KEY\", \"\");\n        if (!local_uuid){\n            local_uuid = tywx.Util.createUUID();\n            tywx.Util.setItemToLocalStorage(\"LOCAL_UUID_KEY\", local_uuid)\n        }\n        return local_uuid;\n    },\n\n    getItemFromLocalStorage: function (keyStr, defaultValue) {\n        try {\n            if(wx && wx.getStorageSync) {\n                var value = wx.getStorageSync(keyStr);\n                if (value) {\n                    return value;\n                }\n            } else {\n                var tmp = cc.sys.localStorage.getItem(keyStr);\n                if (tmp) {\n                    return tmp;\n                }\n            }\n            return defaultValue;\n        } catch (e) {\n            return defaultValue;\n        }\n    },\n\n    setItemToLocalStorage: function (keyStr, ValueStr) {\n        try {\n            if(wx && wx.getStorageSync) {\n                wx.setStorage({\n                    key: keyStr,\n                    data: ValueStr + ''\n                });\n            } else {\n                cc.sys.localStorage.setItem(keyStr, ValueStr+\"\");\n            }\n        } catch (e) {\n            tywx.LOGE(\"tywx.Util\", \"setItemToLocalStorage fail\");\n        }\n    }\n};\n"]}