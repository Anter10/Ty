{"version":3,"sources":["homePage.js"],"names":["els","require","ElsProfile","ElsUtils","cc","Class","extends","Component","properties","animLogo","Animation","spriteBtnSoundDisplay","Sprite","spriteFrameSoundDisable","SpriteFrame","spriteFrameSoundEnable","nodeAdapterBgHome","Node","nodeAdapterGame","label_content","Prefab","whisper_tips","whisper_tips_content","Label","whisper_tips_icon","whisper_win_single","label_current_level","default","type","displayName","label_current_diamond","labelEndlessScore","whisper_optional_nodes","onLoad","tywx","NotificationCenter","listen","EventType","GET_SECRET_LANGUAGE_IMAGE_SUCCESS","get_image_success","SECRET_LANGUAGE_TO_GAME","secret_language_to_game","menu","node","getChildByName","make_share","submit_btn","plaintext","ciphertext","show_share","share_img","show_share_loading","show_data","share_tips","UIManager","getUI","ELS_GAME_LAYER","GAME_SINGLE","share_tips_img","on","reset_editing_btn_click","back_home_btn_click","editingDidBegan_plaintext","editingDidEnded_plaintext","editingDidBegan_ciphertext","editingDidEnded_ciphertext","text_tip_p","text_tip_w","whisper_btn_click","whisper_back_btn_click","start","game","model","check_secret_language_data","playLogoAnimationRandom","checkPlayMusic","refreshSoundBtnState","refreshStar","ret","console","log","active","getComponent","string","length","showMe","refresh","playMusic","ELS_VOICE","BG_MUSIC","onEnable","hideMe","refreshDiamond","refreshSingleLevel","refreshEndlessScore","self","setTimeout","starNum","ELS_PLAYER_TITLE2","pkstar_level","StarControl","createStars","pkstar_level_get","bc","String","UserInfo","diamond","currentStage","parseInt","loadItem","endlessScore","onVsHandler","eve","tmp_current_stage","wx","showToast","title","duration","icon","hideAllUI","showUI","fightAI_fun","onHelpHandler","HELP","onWatchVedioHandler","AdManager","showVidelAd","showUnlockUI","loader","loadRes","err","prefab","preFabNode","instantiate","fromHome","parent","getCurrentUI","showMall","showSelectGift","showData","init","showAward","showRank","onSingleHandler","startClassicGame","onEndlessHandler","startEndlessGame","onPmHandler","ShareInterface","shareMsg","ELS_SHRAE_TYPE","HOMEPAGE_GROUP_RANK","successCallback","getInstance","setShareTimeStamp","failCallback","onShareHandler","HOMEPAGE","editBoxTextDidEnd","event","text","reg","RegExp","test","slice","create_btn_click","CONFIG","qiaoqiao","forEach","item","i","option_node_click","_","data","submit_btn_click","StateInfo","networkConnected","SecretLanguage","get_wxtetris_makeimage","show_btn_click","share_whisper_data","_imageUrl","inviteName","userName","avatarUrl","userPic","openId","TuyooSDK","login","_uuid","Util","createUUID","_query","userId","GAME_QQH_MAKE","select_gift_item","uuid","_item","content","items","itemId","substr","_amount","imageUrl","query","BiLog","clickStat","clickStatEventType","clickStatEventTypeSendQQH","TCPClient","connectStatus","CONNECT_STATUS_OK","MSG","whisperStart","undefined","SECRETLANGUAGEDATA","sendQQH","_query_key","querys_str","inLoc","querys","JSON","parse","_tq","Array","push","saveItem","stringify","handle_whisper_data","gleNode","win_content","plainText","cipherText","win_contetn_avatarUrl","plainData","cipherData","_s","_s0","_s1","_s2","_ss","_st","that","btn_secret_language","curIndex","openData","showQQHIn","v2","size","showWithData","_drawWithData","back_btn_1_click","back_btn_2_click","_node","removeAllChildren","n","_draw_one_data","dx","width","dy","_w","_h","_offset_x","_offset_y","_x","_y","position","_toffset","_tw","_tdy","s_x","il","c_id","Math","random","sf","gameNode","blockimgs","j","jl","c","prefabblock","spriteFrame","scale","_tx","_ty","param","delay","play","onBtnMusicClickCallback","switchMusicMute","getIsMusicMute"],"mappings":"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","file":"homePage.js","sourceRoot":"../../../../../assets/script/ui","sourcesContent":["var els = require(\"../core/els.js\");\nvar ElsProfile = require(\"../core/ELSProfile.js\");\nvar ElsUtils = require(\"../core/ElsUtils.js\");\ncc.Class({\n    extends: cc.Component,\n\n    // LIFE-CYCLE CALLBACKS:\n    properties: {\n        animLogo: cc.Animation, //! logo动画\n        spriteBtnSoundDisplay: cc.Sprite, //! 按钮显示精灵\n        spriteFrameSoundDisable: cc.SpriteFrame, //!  声音按钮 disable\n        spriteFrameSoundEnable: cc.SpriteFrame, //!  声音 enable\n        nodeAdapterBgHome: cc.Node,\n        nodeAdapterGame: cc.Node,\n        label_content: cc.Prefab, // 展示字体\n        whisper_tips: cc.Node, // 悄悄话提示 界面\n        whisper_tips_content: cc.Label, // 悄悄话提示 内容\n        whisper_tips_icon: cc.Sprite, // 悄悄话提示 头像\n        whisper_win_single: cc.Node,\n        label_current_level: {\n            default: null,\n            type: cc.Label,\n            displayName: '闯关当前关卡'\n        },\n        label_current_diamond: {\n            default: null,\n            type: cc.Label,\n            displayName: '持有钻石数量'\n        },\n        labelEndlessScore: {\n            default: null,\n            type: cc.Label,\n            displayName: '无尽模式分数'\n        },\n        whisper_optional_nodes: [cc.Node],\n    },\n\n    onLoad() {\n        tywx.NotificationCenter.listen(tywx.EventType.GET_SECRET_LANGUAGE_IMAGE_SUCCESS, this.get_image_success, this);\n        tywx.NotificationCenter.listen(tywx.EventType.SECRET_LANGUAGE_TO_GAME, this.secret_language_to_game, this);\n        // tywx.NotificationCenter.listen(ELSEvent.ELS_EVENT_SELECT_GIFT, this.sendQQH, this);\n\n        this.menu = this.node.getChildByName(\"menu\");\n\n        this.make_share = this.node.getChildByName(\"make_share\");\n        this.submit_btn = this.make_share.getChildByName(\"submit_btn\");\n        this.plaintext = this.make_share.getChildByName(\"plaintext\");\n        this.ciphertext = this.make_share.getChildByName(\"ciphertext\");\n        this.show_share = this.node.getChildByName(\"show_share\");\n        this.share_img = this.show_share.getChildByName(\"share_img\");\n        this.show_share_loading = this.show_share.getChildByName(\"show_share_loading\");\n        this.show_data = {};\n        this.share_tips = tywx.UIManager.getUI(els.ELS_GAME_LAYER.GAME_SINGLE).node.getChildByName(\"sl_bg\").getChildByName(\"sl_tips\");\n        this.share_tips_img = tywx.UIManager.getUI(els.ELS_GAME_LAYER.GAME_SINGLE).node.getChildByName(\"sl_bg\").getChildByName(\"sl_icon\");\n\n        this.show_share.getChildByName(\"reset_editing_btn\").on(\"click\", this.reset_editing_btn_click, this);\n        this.show_share.getChildByName(\"back_home_btn\").on(\"click\", this.back_home_btn_click, this);\n        this.plaintext.on(\"editing-did-began\", this.editingDidBegan_plaintext, this);\n        this.plaintext.on(\"editing-did-ended\", this.editingDidEnded_plaintext, this);\n        this.ciphertext.on(\"editing-did-began\", this.editingDidBegan_ciphertext, this);\n        this.ciphertext.on(\"editing-did-ended\", this.editingDidEnded_ciphertext, this);\n        this.text_tip_p = this.make_share.getChildByName(\"text_tip_plaint\");\n        this.text_tip_w = this.make_share.getChildByName(\"text_tip_whisper\");\n        this.whisper_tips.getChildByName(\"tips_btn\").on(\"click\", this.whisper_btn_click, this);\n        this.whisper_tips.getChildByName(\"back_btn\").on(\"click\", this.whisper_back_btn_click, this);\n    },\n\n\n    start: function() {\n        this.game = tywx.UIManager.game;\n        this.model = this.game.model;\n\n        this.check_secret_language_data();\n\n        this.playLogoAnimationRandom();\n\n        //! 刷新声音状态\n        this.model.checkPlayMusic();\n        this.refreshSoundBtnState();\n        //this.model.playMusic(els.ELS_VOICE.BG_MUSIC, true, 0.4);\n        this.refreshStar();\n    },\n\n    editingDidBegan_plaintext: function(ret) {\n        console.log(ret);\n        this.text_tip_p.active = false;\n    },\n\n    editingDidEnded_plaintext: function(ret) {\n        console.log(ret);\n        let plaintext = this.plaintext.getComponent('cc.EditBox').string;\n        if (plaintext.length === 0) {\n            this.text_tip_p.active = true;\n        } else {\n            let ciphertext = this.ciphertext.getComponent('cc.EditBox').string;\n            if (ciphertext.length === 0) {\n                this.text_tip_w.active = true;\n            }\n        }\n    },\n    editingDidBegan_ciphertext: function(ret) {\n        this.text_tip_w.active = false;\n    },\n\n    editingDidEnded_ciphertext: function(ret) {\n        let ciphertext = this.ciphertext.getComponent('cc.EditBox').string;\n        var plaintext = this.plaintext.getComponent('cc.EditBox').string;\n        if (ciphertext.length == 0 && plaintext.length > 0) {\n            this.text_tip_w.active = true;\n        }\n    },\n\n    showMe: function() {\n        console.log('homepage showMe');\n        this.nodeAdapterBgHome.active = true;\n        this.nodeAdapterGame.active = false;\n        this.whisper_win_single.active = false;\n        this.refresh();\n        if (this.model) {\n            this.model.playMusic(els.ELS_VOICE.BG_MUSIC, true, 0.4);\n        }\n    },\n\n    onEnable() {\n        this.whisper_tips.active = false;\n        this.text_tip_p.active = true;\n        this.text_tip_w.active = false;\n        this.plaintext.getComponent('cc.EditBox').string = \"\";\n        this.ciphertext.getComponent('cc.EditBox').string = \"\";\n    },\n\n    hideMe: function() {\n\n    },\n\n    refresh() {\n        this.refreshDiamond();\n        this.refreshSingleLevel();\n        this.refreshStar();\n        this.refreshEndlessScore();\n    },\n\n    refreshStar() {\n        //FIXME: 使用setTimeout,破坏的游戏的逻辑，因为，这个时候星星的资源还没加载进来\n        //所以，创建星星失败了，这里需要处理下\n        //加星\n        let self = this;\n        setTimeout(function() {\n            var node = self.menu.getChildByName(\"starcontainer\");\n            let starNum = els.ELS_PLAYER_TITLE2[self.model.pkstar_level][0];\n            tywx.StarControl.createStars(node, starNum, self.model.pkstar_level_get, 0);\n            var bc = self.menu.getChildByName('starlevel');\n            bc.getComponent('cc.Label').string = els.ELS_PLAYER_TITLE2[self.model.pkstar_level][1];\n        }, 1000);\n    },\n    refreshDiamond() {\n        this.label_current_diamond.string = String(tywx.UserInfo.diamond);\n    },\n    refreshSingleLevel() {\n        let currentStage = parseInt(ElsUtils.loadItem('ELS_CURRENT_STAGE2', 0));\n        this.label_current_level.string = `${currentStage + 1}`;\n    },\n    refreshEndlessScore() {\n        let endlessScore = parseInt(ElsUtils.loadItem('ELS_CURRENT_STAGE_ENDLESS', 0));\n        this.labelEndlessScore.string = `历史最佳:${endlessScore}`;\n    },\n\n    /**\n     * 对战\n     * @param eve\n     */\n    onVsHandler: function(eve) {\n        console.log(\"fengbing\", \"--------------- vs handle --------------\");\n        let tmp_current_stage = parseInt(this.game.loadItem('ELS_CURRENT_STAGE2', 0));\n        if (tmp_current_stage < 5) {\n            //if(true){    \n            wx.showToast({\n                title: '闯到5关后解锁',\n                duration: 2000,\n                icon: null\n            });\n            return;\n        }\n        tywx.UIManager.hideAllUI();\n        tywx.UIManager.showUI(els.ELS_GAME_LAYER.GAME_SINGLE);\n        this.game.fightAI_fun();\n    },\n    /**\n     * 帮助\n     * @param eve\n     */\n    onHelpHandler: function(eve) {\n        tywx.UIManager.showUI(els.ELS_GAME_LAYER.HELP);\n    },\n    /**\n     * 看视频接口\n     */\n    onWatchVedioHandler: function() {\n        tywx.AdManager.showVidelAd();\n    },\n\n    showUnlockUI() {\n        let self = this;\n        cc.loader.loadRes('prefab/unlock', function(err, prefab) {\n            var preFabNode = cc.instantiate(prefab);\n            preFabNode.getComponent(\"unlock\").fromHome = true;\n            preFabNode.parent = tywx.UIManager.getCurrentUI();\n        });\n    },\n\n    showMall() {\n        let self = this;\n        cc.loader.loadRes('prefab/mall/mall', function(err, prefab) {\n            var preFabNode = cc.instantiate(prefab);\n            preFabNode.parent = tywx.UIManager.getCurrentUI();\n        });\n    },\n\n    showSelectGift(showData) {\n        let self = this;\n        cc.loader.loadRes('prefab/select_gift', function(err, prefab) {\n            var preFabNode = cc.instantiate(prefab);\n            preFabNode.getComponent(\"select_gift\").init(showData);\n            preFabNode.parent = tywx.UIManager.getCurrentUI();\n        });\n    },\n\n    showAward() {\n        let self = this;\n        cc.loader.loadRes('prefab/diamond_award/award', function(err, prefab) {\n            var preFabNode = cc.instantiate(prefab);\n            preFabNode.parent = tywx.UIManager.getCurrentUI();\n        });\n    },\n\n    showRank() {\n        let self = this;\n        cc.loader.loadRes('prefab/els_rank', function(err, prefab) {\n            var preFabNode = cc.instantiate(prefab);\n            preFabNode.parent = tywx.UIManager.getCurrentUI();\n        });\n    },\n\n    /**\n     * 休闲闯关\n     * @param eve\n     */\n    onSingleHandler: function(eve) {\n        this.game.startClassicGame();\n        tywx.UIManager.hideAllUI();\n        tywx.UIManager.showUI(els.ELS_GAME_LAYER.GAME_SINGLE);\n    },\n    /**\n     * 无尽模式\n     */\n    onEndlessHandler: function() {\n        this.game.startEndlessGame();\n        tywx.UIManager.hideAllUI();\n        tywx.UIManager.showUI(els.ELS_GAME_LAYER.GAME_SINGLE);\n    },\n    /**\n     * 排行榜\n     * @param eve\n     */\n    onPmHandler: function(eve) {\n\n        //! 临时定义，下个版本统一处理,暂时定义下，方便统计数据\n        let self = this;\n        tywx.ShareInterface.shareMsg({\n            type: els.ELS_SHRAE_TYPE.HOMEPAGE_GROUP_RANK,\n            successCallback: (err) => {\n                console.log(`share success ==> ${err}`);\n                // tywx.UIManager.showUI(els.ELS_GAME_LAYER.RANK);\n                self.showRank();\n                ElsProfile.getInstance().setShareTimeStamp();\n            },\n            failCallback: (err) => {\n                console.log(`share fialed ==> ${err}`);\n            }\n        });\n    },\n\n    /**\n     * 分享\n     * @param eve\n     */\n    onShareHandler: function(eve) {\n        tywx.ShareInterface.shareMsg({\n            type: els.ELS_SHRAE_TYPE.HOMEPAGE\n        });\n    },\n\n    editBoxTextDidEnd: function(event) {\n        console.log(event);\n        var text = event.string;\n        var reg = new RegExp(\"^[\\\\u4E00-\\\\u9FFF]+$\", \"g\");\n        if (!reg.test(text)) {\n            wx.showToast({\n                title: '请输入中文',\n                duration: 2000,\n                icon: null\n            });\n            event.getComponent('cc.EditBox').string = \"\";\n            return;\n        }\n        if (text.length > 6) {\n            text = text.slice(0, 6);\n        }\n        event.getComponent('cc.EditBox').string = text;\n    },\n\n    // 生成悄悄话\n    create_btn_click: function(event) {\n        console.log('create_btn_click');\n        // 悄悄话生成界面\n        // this.make_share.active = true;\n        let self = this;\n        if (!els.CONFIG.qiaoqiao) {\n            els.CONFIG.qiaoqiao = [\n                \"浪漫七夕\",\n                \"心相系爱相随\",\n                \"情浓一生\",\n                \"么么哒谢谢你\",\n                \"对不起亲爱的\",\n                \"老地方见\",\n                \"爱你朝朝暮暮\"\n            ];\n        }\n        this.whisper_optional_nodes.forEach((item, i) => {\n            if (i < els.CONFIG.qiaoqiao.length) {\n                item.getChildByName(\"New Label\").getComponent(\"cc.Label\").string = els.CONFIG.qiaoqiao[i];\n            } else {\n                item.active = false;\n            }\n        });\n        this.showSelectGift();\n    },\n\n    option_node_click(_, data) {\n        console.log(\"chenxi:: option_node_click:: \", data);\n        if (!els.CONFIG.qiaoqiao) {\n            els.CONFIG.qiaoqiao = [\n                \"浪漫七夕\",\n                \"心相系爱相随\",\n                \"情浓一生\",\n                \"么么哒谢谢你\",\n                \"对不起亲爱的\",\n                \"老地方见\",\n                \"爱你朝朝暮暮\"\n            ];\n        }\n        this.ciphertext.getComponent('cc.EditBox').string = els.CONFIG.qiaoqiao[data];\n    },\n    // 提交悄悄话\n    submit_btn_click: function(event) {\n        console.log('submit_btn_click');\n\n        var reg = new RegExp(\"^[\\\\u4E00-\\\\u9FFF]+$\", \"g\");\n        var plaintext = this.plaintext.getComponent('cc.EditBox').string;\n        var ciphertext = this.ciphertext.getComponent('cc.EditBox').string;\n\n        if (!reg.test(plaintext) || plaintext.length > 6 || plaintext.length < 2) {\n            wx.showToast({\n                title: '至少2个汉字',\n                duration: 2000,\n                icon: null\n            });\n            return;\n        }\n\n        var reg = new RegExp(\"[\\\\u4E00-\\\\u9FFF]+\", \"g\");\n        if (!reg.test(ciphertext) || ciphertext.length > 6 || ciphertext.length < 2) {\n            wx.showToast({\n                title: '至少2个汉字',\n                duration: 2000,\n                icon: null,\n            });\n            return;\n        }\n        if (!tywx.StateInfo.networkConnected) {\n            wx.showToast({\n                title: '网络异常..',\n                duration: 1000,\n            });\n            return;\n        }\n\n        tywx.SecretLanguage.get_wxtetris_makeimage(plaintext, ciphertext, 'send');\n        this.make_share.active = !this.make_share.active;\n        this.show_share.active = true;\n    },\n    // 展示悄悄话图片\n    show_btn_click: function(event) {\n        console.log(this.show_data);\n        // TODO: 发布悄悄话\n        console.log(\"show_btn_click\");\n        this.share_whisper_data(this.show_data);\n    },\n\n    share_whisper_data (showData) {\n        let _imageUrl = showData['imgUrl'];\n        let inviteName = tywx.UserInfo.userName;\n        let avatarUrl = tywx.UserInfo.userPic;\n        let openId = tywx.UserInfo.openId;\n        if (!openId) {\n            wx.showToast({\n                title: '请先登录~',\n                duration: 1000,\n            });\n            tywx.TuyooSDK.login();\n            return;\n        }\n        let plaintext = showData[\"plainText\"];\n        let ciphertext = showData[\"cipherText\"];\n        let _uuid = tywx.Util.createUUID();\n        let _query = \"inviteCode=\" + tywx.UserInfo.userId + \"&openId=\" + openId + \"&sourceCode=\" + els.ELS_SHRAE_TYPE.GAME_QQH_MAKE + \"&plaintext=\" + plaintext + \"&ciphertext=\" + ciphertext + \"&inviteName=\" + inviteName + \"&avatarUrl=\" + avatarUrl + \"&randomKey=\" + _uuid;\n        console.log(\"share::uuid::\", _uuid);\n        if (tywx.UserInfo.select_gift_item) {\n            tywx.UserInfo.select_gift_item.uuid = _uuid;\n        }\n        let _item = tywx.UserInfo.select_gift_item ? tywx.UserInfo.select_gift_item.content.items[0].itemId.substr(-4) : \"\";\n        let _amount = 1;\n\n        let self = this;\n        tywx.ShareInterface.shareMsg({\n            type: els.ELS_SHRAE_TYPE.GAME_QQH_MAKE,\n            imageUrl: _imageUrl,\n            query: _query,\n            successCallback: function(_) {\n                // TODO: 分享成功 \n                tywx.BiLog.clickStat(tywx.clickStatEventType.clickStatEventTypeSendQQH);\n\n                if (!tywx.UserInfo.select_gift_item || tywx.TCPClient.connectStatus != tywx.TCPClient.CONNECT_STATUS_OK) {\n                    // self.back_btn_click();\n                    self.make_share.active = false;\n                    self.show_share.active = false;\n                    return;\n                }\n                tywx.MSG.whisperStart(_uuid, _item, _amount);\n                tywx.UserInfo.select_gift_item = undefined;\n                // self.back_btn_click();\n                self.make_share.active = false;\n                self.show_share.active = false;\n            },\n            failCallback: function() {\n                console.log(\"分享失败\");\n                wx.showToast({\n                    title: '分享失败啦',\n                    duration: 1000,\n                });\n            }\n        });\n    },\n\n    //秘语进入\n    secret_language_to_game: function(ret) {\n        tywx.SECRETLANGUAGEDATA = ret;\n        this.check_secret_language_data();\n    },\n\n    // TODO: 选中道具:发送悄悄话\n    sendQQH(itemId) {\n\n    },\n\n    check_secret_language_data: function() {\n        var query = tywx.SECRETLANGUAGEDATA;\n\n        if (!query) {\n            return;\n        }\n        query[\"curIndex\"] = 0;\n        var _query_key = \"SECRETLANGUAGEDATA\";\n        // this.game.delItem(_query_key);\n        var querys_str = this.game.loadItem(_query_key, \"\");\n        var inLoc = false;\n        var querys;\n        if (querys_str) {\n            querys = JSON.parse(querys_str);\n            for (var i = 0; i < querys.length; i++) {\n                var _tq = querys[i];\n                if (_tq[\"randomKey\"] == query[\"randomKey\"]) {\n                    query = _tq;\n                    inLoc = true;\n                }\n            }\n        }\n        if (!querys) {\n            querys = new Array();\n        }\n\n        if (!inLoc) {\n            querys.push(query);\n            this.game.saveItem(_query_key, JSON.stringify(querys), true);\n        }\n\n        this._query = query;\n        // tywx.SECRETLANGUAGEDATA = null;\n        console.log(JSON.stringify(tywx.SECRETLANGUAGEDATA));\n\n        var plaintext = query.plaintext;\n        var ciphertext = query.ciphertext;\n        tywx.SecretLanguage.get_wxtetris_makeimage(plaintext, ciphertext, 'get');\n    },\n\n    handle_whisper_data: function(ret) {\n        this.show_share_loading.active = false;\n        var gleNode = tywx.UIManager.getUI(els.ELS_GAME_LAYER.GAME_SINGLE);\n        gleNode.node.getChildByName('sl_bg').active = true;\n\n        var _query = this._query;\n        this.game.win_content = ret.plainText + \"\\n\" + ret.cipherText;\n        this.game.win_contetn_avatarUrl = this._query.avatarUrl;\n\n\n        var plainData = ret['plainData'];\n        var cipherData = ret['cipherData'];\n\n        var _s = ret.plainText;\n        gleNode.node.getChildByName('sl_bg').getChildByName('sl_content').getChildByName(\"data_p\").getComponent(\"cc.Label\").string = _s;\n        var _s0, _s1, _s2, _ss, _st;\n        if (ret.cipherText.length <= 3) {\n            _s0 = ret.cipherText;\n            if (_s0.length == 1) _s = _s0;\n            if (_s0.length == 2) _s = _s0[0] + '  ' + _s0[1];\n            if (_s0.length == 3) _s = _s0[0] + '  ' + _s0[1] + '  ' + _s0[2];\n        } else {\n            _s1 = ret.cipherText.slice(0, 3);\n            if (_s1.length == 1) _ss = _s1;\n            if (_s1.length == 2) _ss = _s1[0] + '  ' + _s1[1];\n            if (_s1.length == 3) _ss = _s1[0] + '  ' + _s1[1] + '  ' + _s1[2];\n            _s2 = ret.cipherText.slice(3);\n            if (_s2.length == 1) _st = _s2;\n            if (_s2.length == 2) _st = _s2[0] + '  ' + _s2[1];\n            if (_s2.length == 3) _st = _s2[0] + '  ' + _s2[1] + '  ' + _s2[2];\n            _s = _ss + '\\n' + _st;\n        }\n        gleNode.node.getChildByName('sl_bg').getChildByName('sl_content').getChildByName(\"data\").getComponent(\"cc.Label\").string = _s;\n\n        var that = this;\n        this.share_tips_img.active = true;\n        this.share_tips.getComponent('cc.Label').string = \"\";\n\n        this.game.btn_secret_language(cipherData, _query.curIndex, _query[\"randomKey\"]);\n        let openId = this._query.openId;\n        cc.loader.loadRes('prefab/OpenData', function(err, prefab) {\n            var preFabNode = cc.instantiate(prefab);\n            preFabNode.parent = tywx.UIManager.getCurrentUI();\n            tywx.UIManager.getCurrentUI().openData = preFabNode;\n            preFabNode.getComponent(\"OpenData\").showQQHIn(openId, cc.v2(-111, 510), cc.size(64, 64), 0, 24);\n        });\n        this._query = null;\n    },\n\n    get_image_success: function(ret) {\n        this.show_data = ret;\n        if (ret.type == 'get') {\n            if (ret.cipherData.length <= this._query.curIndex) {\n                this.whisper_win_single.getComponent(\"whisper_win_single\").showWithData({\n                    data: ret.plainText + \"\\n\" + ret.cipherText,\n                    openId: this._query.openId,\n                });\n                return;\n            } else {\n                this.whisper_tips_content.getComponent(\"cc.Label\").string = \"\";\n                var self = this;\n                this.whisper_tips.active = true;\n                if (this.whisper_tips.openData) {\n                    this.whisper_tips.openData.getComponent(\"OpenData\").showQQHIn(self._query.openId, cc.v2(-141.6, 218), cc.size(70, 70), 0, 32);\n                } else {\n                    cc.loader.loadRes('prefab/OpenData', function(err, prefab) {\n                        var preFabNode = cc.instantiate(prefab);\n                        preFabNode.parent = self.whisper_tips;\n                        self.whisper_tips.openData = preFabNode;\n                        preFabNode.getComponent(\"OpenData\").showQQHIn(self._query.openId, cc.v2(-141.6, 218), cc.size(70, 70), 0, 32);\n                    });\n                }\n            }\n            return;\n        }\n\n        var _s = ret.plainText;\n        this.show_share.getChildByName(\"sl_content\").getChildByName(\"data1\").getComponent(\"cc.Label\").string = _s;\n        var _s = ret.cipherText.length <= 3 ? ret.cipherText : ret.cipherText.slice(0, 3) + \"\\n\" + ret.cipherText.slice(3);\n        this.show_share.getChildByName(\"sl_content\").getChildByName(\"data\").getComponent(\"cc.Label\").string = _s;\n\n        this._drawWithData(ret, this.show_share.getChildByName(\"sl_content\"));\n    },\n\n    back_btn_1_click: function() {\n        this.make_share.active = false;\n        this.onEnable();\n    },\n\n    back_btn_2_click: function() {\n        this.show_share.active = false;\n        this.onEnable();\n    },\n    // 重新编辑\n    reset_editing_btn_click: function() {\n        this.show_share.active = false;\n        this.make_share.active = true;\n    },\n    // 回到主页\n    back_home_btn_click: function() {\n        this.show_share.active = false;\n    },\n    // 悄悄话 提示界面按钮点击\n    whisper_btn_click: function() {\n        this.whisper_tips.active = false;\n        this.handle_whisper_data(this.show_data);\n    },\n\n    whisper_back_btn_click: function() {\n        this.whisper_tips.active = false;\n    },\n\n    _drawWithData: function(data, _node) {\n        // _node.removeAllChildren();\n        this.show_share.getChildByName(\"show_share_bg\").removeAllChildren();\n        var plainData = data['plainData'];\n        var cipherData = data['cipherData'];\n\n        for (var n = 0; n < 6; n++) {\n            var data = cipherData.length > n ? cipherData[n] : undefined;\n            this._draw_one_data(data, n);\n            if (!data) {\n                continue;\n            }\n        }\n    },\n\n    _draw_one_data: function(data, i) {\n        var dx = -this.node.width / 2 + 20;\n        var dy = 437;\n        var _w = 215;\n        var _h = 316;\n        var _offset_x = (this.node.width - _w * 3) / 4;\n        var _offset_y = 12;\n        var _x = dx + i % 3 * _offset_x + i % 3 * _w;\n        var _y = dy - (i >= 3 ? 1 : 0) * (_h + _offset_y);\n        var _node = cc.instantiate(this.label_content);\n        _node.position = cc.v2(_x, _y);\n        _node.parent = this.show_share.getChildByName(\"show_share_bg\");\n\n        var length = 11;\n        var _toffset = 1;\n        var _tw = (_w - (length + 1) * _toffset) / 11;\n        var _tdy = -_h + _w;\n\n        if (!data) {\n            return;\n        }\n        var s_x = 0;\n        for (var i = 0, il = data.length; i < il; i++) {\n            var c_id = 1 + parseInt(parseInt(Math.random() * 10000) % 10);\n            var sf = this.game.gameNode.getComponent(\"main\").blockimgs[c_id];\n            for (var j = 0, jl = data[i].length; j < jl; j++) {\n                if (data[i][j]) {\n                    var c = cc.instantiate(this.game.gameNode.getComponent(\"main\").prefabblock);\n                    c.getComponent(\"cc.Sprite\").spriteFrame = sf;\n                    c.scale = _tw / 72;\n                    var _tx = _toffset + (j + 0.5) * (_tw + _toffset);\n                    var _ty = _tdy - _toffset - (i + 0.5) * (_toffset + _tw);\n                    c.position = cc.v2(_tx, _ty);\n                    c.parent = _node;\n                }\n            }\n        }\n    },\n\n\n\n    // update (dt) {},\n\n    /**\n     * * 函数描述\n     * 随机播放logo动画\n     * @author lu ning\n     * @date 17:07 2018/6/28\n     * @return {void} 返回值描述\n     */\n    playLogoAnimationRandom() {\n        console.log('playLogoAnimationRandom');\n        let self = this;\n        this.animLogo.on('finished', (param) => {\n            let delay = Math.random() * 20000 + 10000;\n            console.log(`LogoAnimationEnd params = ${param},${delay}`);\n            setTimeout(() => {\n                self.animLogo.play('logo');\n            }, delay);\n        }, this);\n\n        this.animLogo.play('logo');\n    },\n    /**\n     * * 函数描述\n     * 音乐按钮点击回调\n     * @author lu ning\n     * @date 18:20 2018/6/28\n     * @return {void} 返回值描述\n     */\n    onBtnMusicClickCallback() {\n        console.log('onBtnMusicClickCallback');\n        ElsProfile.getInstance().switchMusicMute();\n        this.model.playMusic(els.ELS_VOICE.BG_MUSIC, true, 0.4);\n        this.refreshSoundBtnState();\n    },\n    refreshSoundBtnState() {\n        //! refresh button display.\n        this.spriteBtnSoundDisplay.spriteFrame = ElsProfile.getInstance().getIsMusicMute() ? this.spriteFrameSoundDisable : this.spriteFrameSoundEnable;\n    },\n});"]}