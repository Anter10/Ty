{"version":3,"sources":["../../../../../assets/script/ui/assets/script/ui/shareGiftAnimationView.js"],"names":["cc","Class","extends","Component","properties","spineAnimation","default","type","sp","Skeleton","lableGiftContent","Label","nodeContent","Node","onLoad","active","local","node","position","start","setStartListener","animationName","trackEntry","animation","name","log","trackIndex","setInterruptListener","setEndListener","setDisposeListener","setCompleteListener","loopCount","showContent","setEventListener","event","data","intValue","floatValue","stringValue","init","str_content","string","show","pSub","p","self","runAction","moveBy","hide"],"mappings":"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","file":"shareGiftAnimationView.js","sourceRoot":"../../../../../assets/script/ui","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        spineAnimation: {\n            default: null,\n            type: sp.Skeleton\n        },\n        lableGiftContent: cc.Label,\n        nodeContent: cc.Node,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.nodeContent.active = false;\n        this.local = this.node.position;\n    },\n\n    start () {\n        this.spineAnimation.setStartListener(trackEntry => {\n            var animationName = trackEntry.animation ? trackEntry.animation.name : \"\";\n            cc.log(\"[track %s][animation %s] start.\", trackEntry.trackIndex, animationName);\n        });\n        this.spineAnimation.setInterruptListener(trackEntry => {\n            var animationName = trackEntry.animation ? trackEntry.animation.name : \"\";\n            cc.log(\"[track %s][animation %s] interrupt.\", trackEntry.trackIndex, animationName);\n        });\n        this.spineAnimation.setEndListener(trackEntry => {\n            var animationName = trackEntry.animation ? trackEntry.animation.name : \"\";\n            cc.log(\"[track %s][animation %s] end.\", trackEntry.trackIndex, animationName);\n        });\n        this.spineAnimation.setDisposeListener(trackEntry => {\n            var animationName = trackEntry.animation ? trackEntry.animation.name : \"\";\n            cc.log(\"[track %s][animation %s] will be disposed.\", trackEntry.trackIndex, animationName);\n        });\n        this.spineAnimation.setCompleteListener((trackEntry, loopCount) => {\n            var animationName = trackEntry.animation ? trackEntry.animation.name : \"\";\n            cc.log(\"[track %s][animation %s] complete: %s\", trackEntry.trackIndex, animationName, loopCount);\n            this.showContent();\n        });\n        this.spineAnimation.setEventListener((trackEntry, event) => {\n            var animationName = trackEntry.animation ? trackEntry.animation.name : \"\";\n            cc.log(\"[track %s][animation %s] event: %s, %s, %s, %s\", trackEntry.trackIndex, animationName, event.data.name, event.intValue, event.floatValue, event.stringValue);\n        });\n\n        //this.showContent();\n    },\n\n    // update (dt) {},\n\n    showContent(){\n        this.nodeContent.active = true;\n    },\n    init(str_content){\n        this.lableGiftContent.string = str_content;\n    },\n    show(){\n        if(this.node.active) return;\n        this.node.active = true;\n        this.nodeContent.active = true;\n\n        this.node.position = cc.pSub(this.local,cc.p(0,300));\n        let self = this;\n        this.node.runAction(\n            cc.moveBy(\n                2,\n                cc.p(0,300)\n            )\n        );\n    },\n    hide(){\n        this.node.active = false;\n        this.nodeContent.active = false;\n        this.local ? this.node.position = this.local : this.local = this.node.position;\n    }\n});\n"]}