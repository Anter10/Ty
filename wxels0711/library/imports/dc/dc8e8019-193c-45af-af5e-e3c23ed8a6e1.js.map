{"version":3,"sources":["../../../../../assets/script/ui/assets/script/ui/els_view_daily_login_item.js"],"names":["ElsUtils","require","ElsViewDailyLogtinItem","cc","Class","extends","Component","properties","prefabPropIcon","Prefab","labelTitle","Label","nodeContent","Node","particleSys","ParticleSystem","nodeMask","nodeGettedIcon","onLoad","propDatas","start","init","data","is_show_mask","string","day","tmp_prop_datas","props","length","tmp_data","id","count","tmp_prop","instantiate","parent","getComponent","element","tmp_id","formatPropServerId2LocalId","fromat_data","console","log","active","showWaitingGet","node","resetSystem","showGetted","stopSystem","module","exports"],"mappings":";;;;;;AAAA,IAAIA,WAAWC,QAAQ,qBAAR,CAAf;AACA,IAAIC,yBAAyBC,GAAGC,KAAH,CAAS;AAClCC,aAASF,GAAGG,SADsB;;AAGlCC,gBAAY;AACRC,wBAAgBL,GAAGM,MADX;AAERC,oBAAYP,GAAGQ,KAFP;AAGRC,qBAAaT,GAAGU,IAHR;AAIRC,qBAAaX,GAAGY,cAJR;AAKRC,kBAAUb,GAAGU,IALL;AAMRI,wBAAgBd,GAAGU;;AANX,KAHsB;;AAalC;;AAEAK,UAfkC,oBAexB;AACN,aAAKC,SAAL,GAAiB,IAAjB;AACH,KAjBiC;AAmBlCC,SAnBkC,mBAmBzB,CAER,CArBiC;;;AAuBlC;;AAEAC,QAzBkC,gBAyB7BC,IAzB6B,EAyBvBC,YAzBuB,EAyBV;AACpB,aAAKb,UAAL,CAAgBc,MAAhB,GAAyBF,KAAKG,GAA9B;AACA,YAAIC,iBAAiBJ,KAAKK,KAA1B;AACA,aAAKR,SAAL,GAAiBG,KAAKK,KAAtB;AACA,YAAGD,eAAeE,MAAf,GAAwB,CAA3B,EAA6B;AACzB,gBAAIC,WAAW,EAACC,IAAI,CAAL,EAAQC,OAAO,CAAf,EAAf;AACA,gBAAIC,WAAW7B,GAAG8B,WAAH,CAAe,KAAKzB,cAApB,CAAf;AACAwB,qBAASE,MAAT,GAAkB,KAAKtB,WAAvB;AACAoB,qBAASG,YAAT,CAAsB,gCAAtB,EAAwDd,IAAxD,CAA6DQ,QAA7D;AACH,SALD,MAMK,IAAGH,eAAeE,MAAf,KAA0B,CAA7B,EAA+B;AAChC,gBAAIQ,UAAUV,eAAe,CAAf,CAAd;AACA,gBAAIM,YAAW7B,GAAG8B,WAAH,CAAe,KAAKzB,cAApB,CAAf;AACAwB,sBAASE,MAAT,GAAkB,KAAKtB,WAAvB;AACA,gBAAIyB,SAASrC,SAASsC,0BAAT,CAAoCF,QAAQN,EAA5C,CAAb;AACAO,qBAASA,WAAW,CAAC,CAAZ,GAAgB,CAAhB,GAAoBA,MAA7B;AACA,gBAAIE,cAAc,EAACT,IAAGO,MAAJ,EAAWN,OAAMK,QAAQL,KAAzB,EAAlB;AACAC,sBAASG,YAAT,CAAsB,gCAAtB,EAAwDd,IAAxD,CAA6DkB,WAA7D;AACH,SARI,MASD;AACAC,oBAAQC,GAAR,CAAY,0CAAZ,EAAuD,OAAvD;AACH;AACD,aAAKzB,QAAL,CAAc0B,MAAd,GAAuBnB,YAAvB;AACA,aAAKN,cAAL,CAAoByB,MAApB,GAA6BnB,YAA7B;AACH,KAjDiC;AAkDlCoB,kBAlDkC,4BAkDlB;AACZ,aAAK7B,WAAL,CAAiB8B,IAAjB,CAAsBF,MAAtB,GAA+B,IAA/B;AACA,aAAK5B,WAAL,CAAiB+B,WAAjB;AACH,KArDiC;AAsDlCC,cAtDkC,wBAsDtB;AACR,aAAKhC,WAAL,CAAiB8B,IAAjB,CAAsBF,MAAtB,GAA+B,IAA/B;AACA,aAAK5B,WAAL,CAAiBiC,UAAjB;AACA,aAAK/B,QAAL,CAAc0B,MAAd,GAAuB,IAAvB;AACA,aAAKzB,cAAL,CAAoByB,MAApB,GAA6B,IAA7B;AACH;AA3DiC,CAAT,CAA7B;AA6DAM,OAAOC,OAAP,GAAiB/C,sBAAjB","file":"els_view_daily_login_item.js","sourceRoot":"../../../../../assets/script/ui","sourcesContent":["let ElsUtils = require('../core/ElsUtils.js');\nlet ElsViewDailyLogtinItem = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        prefabPropIcon: cc.Prefab,\n        labelTitle: cc.Label,\n        nodeContent: cc.Node,\n        particleSys: cc.ParticleSystem,\n        nodeMask: cc.Node,\n        nodeGettedIcon: cc.Node,\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.propDatas = null;\n    },\n\n    start () {\n\n    },\n\n    // update (dt) {},\n\n    init(data, is_show_mask){\n        this.labelTitle.string = data.day;\n        let tmp_prop_datas = data.props;\n        this.propDatas = data.props;\n        if(tmp_prop_datas.length > 1){\n            let tmp_data = {id: 4, count: 1};\n            let tmp_prop = cc.instantiate(this.prefabPropIcon);\n            tmp_prop.parent = this.nodeContent;\n            tmp_prop.getComponent('els_view_daily_login_prop_icon').init(tmp_data);\n        }\n        else if(tmp_prop_datas.length === 1){\n            let element = tmp_prop_datas[0];\n            let tmp_prop = cc.instantiate(this.prefabPropIcon);\n            tmp_prop.parent = this.nodeContent;\n            let tmp_id = ElsUtils.formatPropServerId2LocalId(element.id);\n            tmp_id = tmp_id === -1 ? 4 : tmp_id;\n            let fromat_data = {id:tmp_id,count:element.count};\n            tmp_prop.getComponent('els_view_daily_login_prop_icon').init(fromat_data);\n        }\n        else{\n            console.log('els_view_daily_login_item/tmp_prop_datas','error');\n        }\n        this.nodeMask.active = is_show_mask;\n        this.nodeGettedIcon.active = is_show_mask;\n    },\n    showWaitingGet(){\n        this.particleSys.node.active = true;\n        this.particleSys.resetSystem();\n    },\n    showGetted(){\n        this.particleSys.node.active = true;\n        this.particleSys.stopSystem();\n        this.nodeMask.active = true;\n        this.nodeGettedIcon.active = true;\n    }\n});\nmodule.exports = ElsViewDailyLogtinItem;"]}