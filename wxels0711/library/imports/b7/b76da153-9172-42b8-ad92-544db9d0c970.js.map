{"version":3,"sources":["../../../../../assets/script/CommonFrame/assets/script/CommonFrame/HttpUtil.js"],"names":["tywx","HttpUtil","httpPost","cfgObj","httpType","IsWechatPlatform","StateInfo","networkConnected","console","log","wx","request","url","data","postData","header","method","dataType","success","res","statusCode","hasOwnProperty","LOGD","fail","httpGet","successcb","failcb","JSON","stringify"],"mappings":";;;;;;AAAA;;;;AAIAA,KAAKC,QAAL,GAAgB;AACZC,cAAS,kBAAUC,MAAV,EAAkBC,QAAlB,EAA4B;AACjC,YAAGJ,KAAKK,gBAAL,EAAH,EAA4B;AACxB,gBAAI,CAACL,KAAKM,SAAL,CAAeC,gBAApB,EAAsC;AAClCC,wBAAQC,GAAR,CAAY,cAAZ;AACA;AACH;AACDC,eAAGC,OAAH,CAAW;AACPC,qBAAMT,OAAOS,GADN;AAEPC,sBAAOV,OAAOW,QAFP;AAGPC,wBAASZ,OAAOY,MAHT;AAIPC,wBAAS,MAJF;AAKPC,0BAAW,MALJ;AAMPC,yBAAU,iBAAUC,GAAV,EAAe;AACrB,wBAAIA,IAAIC,UAAJ,IAAkB,GAAtB,EAA0B;AACtB;AACA,4BAAID,IAAIN,IAAJ,IAAYM,IAAIN,IAAJ,CAASQ,cAAT,CAAwB,uBAAxB,CAAZ,IACGF,IAAIN,IAAJ,CAAS,uBAAT,KAAqC,IAD5C,EACkD;AAC9Cb,iCAAKsB,IAAL,CAAU,sBAAV,EAAkC,gBAAlC;AACH;AACJ,qBAND,MAOI;AACAtB,6BAAKsB,IAAL,CAAU,sBAAV,EAAkC,gBAAgBH,IAAIC,UAAtD;AACH;AACJ,iBAjBM;AAkBPG,sBAAO,cAAUJ,GAAV,EAAe;AAClBnB,yBAAKsB,IAAL,CAAU,sBAAV,EAAkC,iBAAiBnB,OAAOS,GAA1D;AACH;AApBM,aAAX;AAsBH;AACJ,KA9BW;;AAgCZY,aAAQ,iBAAUrB,MAAV,EAAkBsB,SAAlB,EAA6BC,MAA7B,EAAqC;AACzC,YAAG1B,KAAKK,gBAAL,EAAH,EAA4B;AACxB,gBAAI,CAACL,KAAKM,SAAL,CAAeC,gBAApB,EAAsC;AAClCC,wBAAQC,GAAR,CAAY,cAAZ;AACA;AACH;AACDT,iBAAKsB,IAAL,CAAU,qBAAV,EAAiC,SAASnB,OAAOS,GAAjD;AACAF,eAAGC,OAAH,CAAW;AACPC,qBAAMT,OAAOS,GADN;AAEPI,wBAAS,KAFF;AAGPE,yBAAU,iBAAUC,GAAV,EAAe;AACrB,wBAAIA,IAAIC,UAAJ,IAAkB,GAAtB,EAA0B;AACtBpB,6BAAKsB,IAAL,CAAU,qBAAV,EAAiC,SAASK,KAAKC,SAAL,CAAeT,IAAIN,IAAnB,CAA1C;AACA,4BAAGY,SAAH,EAAc;AACVA,sCAAUN,IAAIN,IAAd;AACH;AACJ,qBALD,MAMI;AACAb,6BAAKsB,IAAL,CAAU,qBAAV,EAAiC,gBAAgBH,IAAIC,UAArD;AACH;AACJ,iBAbM;AAcPG,sBAAO,cAAUJ,GAAV,EAAe;AAClBnB,yBAAKsB,IAAL,CAAU,qBAAV,EAAiC,iBAAiBnB,OAAOS,GAAzD;AACA,wBAAGc,MAAH,EAAW;AACPA,+BAAOP,GAAP;AACH;AACJ;AAnBM,aAAX;AAqBH;AACJ;AA7DW,CAAhB","file":"HttpUtil.js","sourceRoot":"../../../../../assets/script/CommonFrame","sourcesContent":["/**\n * Created by xiaochuntian on 2018/5/2.\n */\n\ntywx.HttpUtil = {\n    httpPost:function (cfgObj, httpType) {\n        if(tywx.IsWechatPlatform()) {\n            if (!tywx.StateInfo.networkConnected) {\n                console.log(\"net work ???\");\n                return;\n            }\n            wx.request({\n                url : cfgObj.url,\n                data : cfgObj.postData,\n                header : cfgObj.header,\n                method : 'POST',\n                dataType : 'json',\n                success : function (res) {\n                    if (res.statusCode == 200){\n                        //正常连接{\"/api/bilog5/clientlog\": \"ok\"}\n                        if (res.data && res.data.hasOwnProperty('/api/bilog5/clientlog')\n                            && res.data['/api/bilog5/clientlog'] == \"ok\") {\n                            tywx.LOGD('ty.HttpUtil.httpPost', 'post success! ');\n                        }\n                    }\n                    else{\n                        tywx.LOGD('ty.HttpUtil.httpPost', 'statusCode:' + res.statusCode);\n                    }\n                },\n                fail : function (res) {\n                    tywx.LOGD('ty.HttpUtil.httpPost', 'post error! ' + cfgObj.url);\n                }\n            });\n        }\n    },\n\n    httpGet:function (cfgObj, successcb, failcb) {\n        if(tywx.IsWechatPlatform()) {\n            if (!tywx.StateInfo.networkConnected) {\n                console.log(\"net work ???\");\n                return;\n            }\n            tywx.LOGD('ty.HttpUtil.httpGet', 'url:' + cfgObj.url);\n            wx.request({\n                url : cfgObj.url,\n                method : 'GET',\n                success : function (res) {\n                    if (res.statusCode == 200){\n                        tywx.LOGD('ty.HttpUtil.httpGet', 'res:' + JSON.stringify(res.data));\n                        if(successcb) {\n                            successcb(res.data);\n                        }\n                    }\n                    else{\n                        tywx.LOGD('ty.HttpUtil.httpGet', 'statusCode:' + res.statusCode);\n                    }\n                },\n                fail : function (res) {\n                    tywx.LOGD('ty.HttpUtil.httpGet', 'post error! ' + cfgObj.url);\n                    if(failcb) {\n                        failcb(res);\n                    }\n                }\n            });\n        }\n    }\n};"]}