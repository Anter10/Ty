{"version":3,"sources":["../../../../../assets/script/ui/assets/script/ui/star.js"],"names":["cc","Class","extends","Component","properties","small_get","Sprite","small_not","large_get","large_not","ani_add_node","Node","ani_del_node","onLoad","_addAnimation","getComponent","Animation","_delAnimation","init","type","state","console","log","_resetState","_type","_state","node","active","size_w","playAniAdd","play","playAnidel","start","self","on"],"mappings":"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","file":"star.js","sourceRoot":"../../../../../assets/script/ui","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        small_get : cc.Sprite,\n        small_not : cc.Sprite,\n        large_get : cc.Sprite,\n        large_not : cc.Sprite,\n        ani_add_node : cc.Node,\n        ani_del_node : cc.Node\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this._addAnimation = this.ani_add_node.getComponent(cc.Animation);\n        this._delAnimation = this.ani_del_node.getComponent(cc.Animation);\n    },\n\n    init(type, state){\n        console.log('star init start',type,state);\n        this._resetState();\n        this._type = type;\n        this._state = state;\n        if(type === 0){//小\n            if(state === 0){\n                this.small_not.node.active = true;\n            }else{\n                this.small_get.node.active = true;\n            }\n            this.size_w = 10;\n        }else{      //大\n            if(state === 0){\n                this.large_not.node.active = true;\n            }else{\n                this.large_get.node.active = true;\n            }\n            this.size_w = 46;\n        }\n        console.log('star int end');\n    },\n\n    playAniAdd : function () {\n        if(this._type==0)\n            return;\n        this.ani_add_node.active = true;\n        this._addAnimation.play();\n\n    },\n\n    playAnidel : function () {\n        if (this._type == 0)\n            return;\n        this.ani_del_node.active = true;\n        this._delAnimation.play();\n    },\n\n    _resetState : function () {\n        this.small_get.node.active = false;\n        this.small_not.node.active = false;\n        this.large_get.node.active = false;\n        this.large_not.node.active = false;\n        this.ani_add_node.active = false;\n        this.ani_del_node.active = false;\n    },\n\n    start () {\n        var self = this;\n        this._addAnimation.on('finished',  function(){\n            self._state = 1;\n            self.large_not.node.active = false;\n            self.large_get.node.active = true;\n        },this);\n        this._delAnimation.on('finished',  function(){\n            self._state = 0;\n            self.large_not.node.active = true;\n            self.large_get.node.active = false;\n        },this);\n    },\n\n    // update (dt) {},\n});\n"]}